(self.webpackChunkStudentExamPracticeBE=self.webpackChunkStudentExamPracticeBE||[]).push([[179],{159:(Sa,He,k)=>{"use strict";function Q(e){return"function"==typeof e}function G(e){const t=e(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const b=G(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function q(e,n){if(e){const t=e.indexOf(n);0<=t&&e.splice(t,1)}}class M{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const o of t)o.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(Q(r))try{r()}catch(o){n=o instanceof b?o.errors:[o]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const o of i)try{y(o)}catch(s){n=n??[],s instanceof b?n=[...n,...s.errors]:n.push(s)}}if(n)throw new b(n)}}add(n){var t;if(n&&n!==this)if(this.closed)y(n);else{if(n instanceof M){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(n)}}_hasParent(n){const{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){const{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&q(t,n)}remove(n){const{_finalizers:t}=this;t&&q(t,n),n instanceof M&&n._removeParent(this)}}M.EMPTY=(()=>{const e=new M;return e.closed=!0,e})();const w=M.EMPTY;function E(e){return e instanceof M||e&&"closed"in e&&Q(e.remove)&&Q(e.add)&&Q(e.unsubscribe)}function y(e){Q(e)?e():e.unsubscribe()}const T={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},j={setTimeout(e,n,...t){const{delegate:r}=j;return r?.setTimeout?r.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){const{delegate:n}=j;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function V(e){j.setTimeout(()=>{const{onUnhandledError:n}=T;if(!n)throw e;n(e)})}function ie(){}const $=ee("C",void 0,void 0);function ee(e,n,t){return{kind:e,value:n,error:t}}let de=null;function ne(e){if(T.useDeprecatedSynchronousErrorHandling){const n=!de;if(n&&(de={errorThrown:!1,error:null}),e(),n){const{errorThrown:t,error:r}=de;if(de=null,t)throw r}}else e()}class te extends M{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,E(n)&&n.add(this)):this.destination=Sn}static create(n,t,r){return new re(n,t,r)}next(n){this.isStopped?Dt(function B(e){return ee("N",e,void 0)}(n),this):this._next(n)}error(n){this.isStopped?Dt(function H(e){return ee("E",void 0,e)}(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?Dt($,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const be=Function.prototype.bind;function Ce(e,n){return be.call(e,n)}class Pe{constructor(n){this.partialObserver=n}next(n){const{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(r){Ue(r)}}error(n){const{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(r){Ue(r)}else Ue(n)}complete(){const{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){Ue(t)}}}class re extends te{constructor(n,t,r){let i;if(super(),Q(n)||!n)i={next:n??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&T.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),i={next:n.next&&Ce(n.next,o),error:n.error&&Ce(n.error,o),complete:n.complete&&Ce(n.complete,o)}):i=n}this.destination=new Pe(i)}}function Ue(e){T.useDeprecatedSynchronousErrorHandling?function se(e){T.useDeprecatedSynchronousErrorHandling&&de&&(de.errorThrown=!0,de.error=e)}(e):V(e)}function Dt(e,n){const{onStoppedNotification:t}=T;t&&j.setTimeout(()=>t(e,n))}const Sn={closed:!0,next:ie,error:function Tt(e){throw e},complete:ie},Pt="function"==typeof Symbol&&Symbol.observable||"@@observable";function tn(e){return e}function ot(e){return 0===e.length?tn:1===e.length?e[0]:function(t){return e.reduce((r,i)=>i(r),t)}}let qe=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(t,r,i){const o=function Pn(e){return e&&e instanceof te||function kn(e){return e&&Q(e.next)&&Q(e.error)&&Q(e.complete)}(e)&&E(e)}(t)?t:new re(t,r,i);return ne(()=>{const{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=kt(r))((i,o)=>{const s=new re({next:a=>{try{t(a)}catch(c){o(c),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[Pt](){return this}pipe(...t){return ot(t)(this)}toPromise(t){return new(t=kt(t))((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return e.create=n=>new e(n),e})();function kt(e){var n;return null!==(n=e??T.Promise)&&void 0!==n?n:Promise}const Ln=G(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let Lt=(()=>{class e extends qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new Fr(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new Ln}next(t){ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){ne(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:o}=this;return r||i?w:(this.currentObservers=null,o.push(t),new M(()=>{this.currentObservers=null,q(o,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){const t=new qe;return t.source=this,t}}return e.create=(n,t)=>new Fr(n,t),e})();class Fr extends Lt{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,n)}error(n){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,n)}complete(){var n,t;null===(t=null===(n=this.destination)||void 0===n?void 0:n.complete)||void 0===t||t.call(n)}_subscribe(n){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(n))&&void 0!==r?r:w}}class At extends Lt{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){const t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){const{hasError:n,thrownError:t,_value:r}=this;if(n)throw t;return this._throwIfClosed(),r}next(n){super.next(this._value=n)}}function fn(e){return Q(e?.lift)}function ht(e){return n=>{if(fn(n))return n.lift(function(t){try{return e(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ct(e,n,t,r,i){return new Z(e,n,t,r,i)}class Z extends te{constructor(n,t,r,i,o,s){super(n),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(c){n.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){n.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){n.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(n=this.onFinalize)||void 0===n||n.call(this))}}}function _(e,n){return ht((t,r)=>{let i=0;t.subscribe(ct(r,o=>{r.next(e.call(n,o,i++))}))})}function hn(e){return this instanceof hn?(this.v=e,this):new hn(e)}function ba(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=function st(e){var n="function"==typeof Symbol&&Symbol.iterator,t=n&&e[n],r=0;if(t)return t.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=e[o]&&function(s){return new Promise(function(a,c){!function i(o,s,a,c){Promise.resolve(c).then(function(h){o({value:h,done:a})},s)}(a,c,(s=e[o](s)).done,s.value)})}}}const Vn=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function vr(e){return Q(e?.then)}function Da(e){return Q(e[Pt])}function Aa(e){return Symbol.asyncIterator&&Q(e?.[Symbol.asyncIterator])}function Ia(e){return new TypeError(`You provided ${null!==e&&"object"==typeof e?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const _r=function Bn(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function os(e){return Q(e?.[_r])}function Ta(e){return function Ie(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(e,n||[]),o=[];return i={},s("next"),s("throw"),s("return"),i[Symbol.asyncIterator]=function(){return this},i;function s(I){r[I]&&(i[I]=function(O){return new Promise(function(X,ae){o.push([I,O,X,ae])>1||a(I,O)})})}function a(I,O){try{!function c(I){I.value instanceof hn?Promise.resolve(I.value.v).then(h,g):m(o[0][2],I)}(r[I](O))}catch(X){m(o[0][3],X)}}function h(I){a("next",I)}function g(I){a("throw",I)}function m(I,O){I(O),o.shift(),o.length&&a(o[0][0],o[0][1])}}(this,arguments,function*(){const t=e.getReader();try{for(;;){const{value:r,done:i}=yield hn(t.read());if(i)return yield hn(void 0);yield yield hn(r)}}finally{t.releaseLock()}})}function Do(e){return Q(e?.getReader)}function Mn(e){if(e instanceof qe)return e;if(null!=e){if(Da(e))return function bl(e){return new qe(n=>{const t=e[Pt]();if(Q(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(e);if(Vn(e))return function Cl(e){return new qe(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}(e);if(vr(e))return function Pa(e){return new qe(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,V)})}(e);if(Aa(e))return Fa(e);if(os(e))return function ss(e){return new qe(n=>{for(const t of e)if(n.next(t),n.closed)return;n.complete()})}(e);if(Do(e))return function Ma(e){return Fa(Ta(e))}(e)}throw Ia(e)}function Fa(e){return new qe(n=>{(function Dl(e,n){var t,r,i,o;return function Fn(e,n,t,r){return new(t||(t=Promise))(function(o,s){function a(g){try{h(r.next(g))}catch(m){s(m)}}function c(g){try{h(r.throw(g))}catch(m){s(m)}}function h(g){g.done?o(g.value):function i(o){return o instanceof t?o:new t(function(s){s(o)})}(g.value).then(a,c)}h((r=r.apply(e,n||[])).next())})}(this,void 0,void 0,function*(){try{for(t=ba(e);!(r=yield t.next()).done;)if(n.next(r.value),n.closed)return}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}n.complete()})})(e,n).catch(t=>n.error(t))})}function St(e,n,t,r=0,i=!1){const o=n.schedule(function(){t(),i?e.add(this.schedule(null,r)):this.unsubscribe()},r);if(e.add(o),!i)return o}function Jt(e,n,t=1/0){return Q(n)?Jt((r,i)=>_((o,s)=>n(r,o,i,s))(Mn(e(r,i))),t):("number"==typeof n&&(t=n),ht((r,i)=>function gf(e,n,t,r,i,o,s,a){const c=[];let h=0,g=0,m=!1;const I=()=>{m&&!c.length&&!h&&n.complete()},O=ae=>h<r?X(ae):c.push(ae),X=ae=>{o&&n.next(ae),h++;let pe=!1;Mn(t(ae,g++)).subscribe(ct(n,_e=>{i?.(_e),o?O(_e):n.next(_e)},()=>{pe=!0},void 0,()=>{if(pe)try{for(h--;c.length&&h<r;){const _e=c.shift();s?St(n,s,()=>X(_e)):X(_e)}I()}catch(_e){n.error(_e)}}))};return e.subscribe(ct(n,O,()=>{m=!0,I()})),()=>{a?.()}}(r,i,e,t)))}function Mi(e=1/0){return Jt(tn,e)}const wr=new qe(e=>e.complete());function Ra(e){return e[e.length-1]}function Ao(e){return function yf(e){return e&&Q(e.schedule)}(Ra(e))?e.pop():void 0}function Il(e,n=0){return ht((t,r)=>{t.subscribe(ct(r,i=>St(r,e,()=>r.next(i),n),()=>St(r,e,()=>r.complete(),n),i=>St(r,e,()=>r.error(i),n)))})}function Tl(e,n=0){return ht((t,r)=>{r.add(e.schedule(()=>t.subscribe(r),n))})}function d(e,n){if(!e)throw new Error("Iterable cannot be null");return new qe(t=>{St(t,n,()=>{const r=e[Symbol.asyncIterator]();St(t,n,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function v(e,n){return n?function p(e,n){if(null!=e){if(Da(e))return function _f(e,n){return Mn(e).pipe(Tl(n),Il(n))}(e,n);if(Vn(e))return function l(e,n){return new qe(t=>{let r=0;return n.schedule(function(){r===e.length?t.complete():(t.next(e[r++]),t.closed||this.schedule())})})}(e,n);if(vr(e))return function wf(e,n){return Mn(e).pipe(Tl(n),Il(n))}(e,n);if(Aa(e))return d(e,n);if(os(e))return function u(e,n){return new qe(t=>{let r;return St(t,n,()=>{r=e[_r](),St(t,n,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){return void t.error(s)}o?t.complete():t.next(i)},0,!0)}),()=>Q(r?.return)&&r.return()})}(e,n);if(Do(e))return function f(e,n){return d(Ta(e),n)}(e,n)}throw Ia(e)}(e,n):Mn(e)}function A(...e){return v(e,Ao(e))}function F(e={}){const{connector:n=(()=>new Lt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=e;return o=>{let s,a,c,h=0,g=!1,m=!1;const I=()=>{a?.unsubscribe(),a=void 0},O=()=>{I(),s=c=void 0,g=m=!1},X=()=>{const ae=s;O(),ae?.unsubscribe()};return ht((ae,pe)=>{h++,!m&&!g&&I();const _e=c=c??n();pe.add(()=>{h--,0===h&&!m&&!g&&(a=x(X,i))}),_e.subscribe(pe),!s&&h>0&&(s=new re({next:he=>_e.next(he),error:he=>{m=!0,I(),a=x(O,t,he),_e.error(he)},complete:()=>{g=!0,I(),a=x(O,r),_e.complete()}}),Mn(ae).subscribe(s))})(o)}}function x(e,n,...t){if(!0===n)return void e();if(!1===n)return;const r=new re({next:()=>{r.unsubscribe(),e()}});return Mn(n(...t)).subscribe(r)}function L(e,n){return ht((t,r)=>{let i=null,o=0,s=!1;const a=()=>s&&!i&&r.complete();t.subscribe(ct(r,c=>{i?.unsubscribe();let h=0;const g=o++;Mn(e(c,g)).subscribe(i=ct(r,m=>r.next(n?n(c,m,g,h++):m),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function K(e,n){return e===n}function z(e){for(let n in e)if(e[n]===z)return n;throw Error("Could not find renamed property on target object.")}function ue(e,n){for(const t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function ce(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(ce).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const n=e.toString();if(null==n)return""+n;const t=n.indexOf("\n");return-1===t?n:n.substring(0,t)}function ge(e,n){return null==e||""===e?null===n?"":n:null==n||""===n?e:e+" "+n}const D=z({__forward_ref__:z});function N(e){return e.__forward_ref__=N,e.toString=function(){return ce(this())},e}function R(e){return W(e)?e():e}function W(e){return"function"==typeof e&&e.hasOwnProperty(D)&&e.__forward_ref__===N}function fe(e){return e&&!!e.\u0275providers}const xe="https://g.co/ng/security#xss";class J extends Error{constructor(n,t){super(function tt(e,n){return`NG0${Math.abs(e)}${n?": "+n:""}`}(n,t)),this.code=n}}function Ee(e){return"string"==typeof e?e:null==e?"":String(e)}function yn(e,n){throw new J(-201,!1)}function $t(e,n){null==e&&function lt(e,n,t,r){throw new Error(`ASSERTION ERROR: ${e}`+(null==r?"":` [Expected=> ${t} ${r} ${n} <=Actual]`))}(n,e,null,"!=")}function Be(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function gt(e){return{providers:e.providers||[],imports:e.imports||[]}}function Rr(e){return Rt(e,zt)||Rt(e,ai)}function Rt(e,n){return e.hasOwnProperty(n)?e[n]:null}function Ri(e){return e&&(e.hasOwnProperty(Po)||e.hasOwnProperty(xi))?e[Po]:null}const zt=z({\u0275prov:z}),Po=z({\u0275inj:z}),ai=z({ngInjectableDef:z}),xi=z({ngInjectorDef:z});var rt=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}(rt||{});let Na;function or(e){const n=Na;return Na=e,n}function ey(e,n,t){const r=Rr(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&rt.Optional?null:void 0!==n?n:void yn(ce(e))}const xt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ka={},Ef="__NG_DI_FLAG__",Fl="ngTempTokenPath",nA=/\n/gm,ty="__source";let fs;function Xi(e){const n=fs;return fs=e,n}function oA(e,n=rt.Default){if(void 0===fs)throw new J(-203,!1);return null===fs?ey(e,void 0,n):fs.get(e,n&rt.Optional?null:void 0,n)}function Fe(e,n=rt.Default){return(function Oa(){return Na}()||oA)(R(e),n)}function Ne(e,n=rt.Default){return Fe(e,Ml(n))}function Ml(e){return typeof e>"u"||"number"==typeof e?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function Sf(e){const n=[];for(let t=0;t<e.length;t++){const r=R(e[t]);if(Array.isArray(r)){if(0===r.length)throw new J(900,!1);let i,o=rt.Default;for(let s=0;s<r.length;s++){const a=r[s],c=sA(a);"number"==typeof c?-1===c?i=a.token:o|=c:i=a}n.push(Fe(i,o))}else n.push(Fe(r))}return n}function La(e,n){return e[Ef]=n,e.prototype[Ef]=n,e}function sA(e){return e[Ef]}function Ni(e){return{toString:e}.toString()}var Rl=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}(Rl||{}),xr=function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}(xr||{});const ui={},mt=[],xl=z({\u0275cmp:z}),bf=z({\u0275dir:z}),Cf=z({\u0275pipe:z}),ry=z({\u0275mod:z}),Oi=z({\u0275fac:z}),Va=z({__NG_ELEMENT_ID__:z}),iy=z({__NG_ENV_ID__:z});function oy(e,n,t){let r=e.length;for(;;){const i=e.indexOf(n,t);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const o=n.length;if(i+o===r||e.charCodeAt(i+o)<=32)return i}t=i+1}}function Df(e,n,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const o=t[r++],s=t[r++],a=t[r++];e.setAttribute(n,s,a,o)}else{const o=i,s=t[++r];ay(o)?e.setProperty(n,o,s):e.setAttribute(n,o,s),r++}}return r}function sy(e){return 3===e||4===e||6===e}function ay(e){return 64===e.charCodeAt(0)}function Ba(e,n){if(null!==n&&0!==n.length)if(null===e||0===e.length)e=n.slice();else{let t=-1;for(let r=0;r<n.length;r++){const i=n[r];"number"==typeof i?t=i:0===t||uy(e,t,i,null,-1===t||2===t?n[++r]:null)}}return e}function uy(e,n,t,r,i){let o=0,s=e.length;if(-1===n)s=-1;else for(;o<e.length;){const a=e[o++];if("number"==typeof a){if(a===n){s=-1;break}if(a>n){s=o-1;break}}}for(;o<e.length;){const a=e[o];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,n),o=s+1),e.splice(o++,0,t),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}const ly="ng-template";function lA(e,n,t){let r=0,i=!0;for(;r<e.length;){let o=e[r++];if("string"==typeof o&&i){const s=e[r++];if(t&&"class"===o&&-1!==oy(s.toLowerCase(),n,0))return!0}else{if(1===o){for(;r<e.length&&"string"==typeof(o=e[r++]);)if(o.toLowerCase()===n)return!0;return!1}"number"==typeof o&&(i=!1)}}return!1}function cy(e){return 4===e.type&&e.value!==ly}function cA(e,n,t){return n===(4!==e.type||t?e.value:ly)}function dA(e,n,t){let r=4;const i=e.attrs||[],o=function pA(e){for(let n=0;n<e.length;n++)if(sy(e[n]))return n;return e.length}(i);let s=!1;for(let a=0;a<n.length;a++){const c=n[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!cA(e,c,t)||""===c&&1===n.length){if(Wr(r))return!1;s=!0}}else{const h=8&r?c:n[++a];if(8&r&&null!==e.attrs){if(!lA(e.attrs,h,t)){if(Wr(r))return!1;s=!0}continue}const m=fA(8&r?"class":c,i,cy(e),t);if(-1===m){if(Wr(r))return!1;s=!0;continue}if(""!==h){let I;I=m>o?"":i[m+1].toLowerCase();const O=8&r?I:null;if(O&&-1!==oy(O,h,0)||2&r&&h!==I){if(Wr(r))return!1;s=!0}}}}else{if(!s&&!Wr(r)&&!Wr(c))return!1;if(s&&Wr(c))continue;s=!1,r=c|1&r}}return Wr(r)||s}function Wr(e){return 0==(1&e)}function fA(e,n,t,r){if(null===n)return-1;let i=0;if(r||!t){let o=!1;for(;i<n.length;){const s=n[i];if(s===e)return i;if(3===s||6===s)o=!0;else{if(1===s||2===s){let a=n[++i];for(;"string"==typeof a;)a=n[++i];continue}if(4===s)break;if(0===s){i+=4;continue}}i+=o?1:2}return-1}return function gA(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){const r=e[t];if("number"==typeof r)return-1;if(r===n)return t;t++}return-1}(n,e)}function dy(e,n,t=!1){for(let r=0;r<n.length;r++)if(dA(e,n[r],t))return!0;return!1}function mA(e,n){e:for(let t=0;t<n.length;t++){const r=n[t];if(e.length===r.length){for(let i=0;i<e.length;i++)if(e[i]!==r[i])continue e;return!0}}return!1}function fy(e,n){return e?":not("+n.trim()+")":n}function yA(e){let n=e[0],t=1,r=2,i="",o=!1;for(;t<e.length;){let s=e[t];if("string"==typeof s)if(2&r){const a=e[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""!==i&&!Wr(s)&&(n+=fy(o,i),i=""),r=s,o=o||!Wr(r);t++}return""!==i&&(n+=fy(o,i)),n}function Dn(e){return Ni(()=>{const n=py(e),t={...n,decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===Rl.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||xr.Emulated,styles:e.styles||mt,_:null,schemas:e.schemas||null,tView:null,id:""};gy(t);const r=e.dependencies;return t.directiveDefs=Nl(r,!1),t.pipeDefs=Nl(r,!0),t.id=function DA(e){let n=0;const t=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,e.consts,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery].join("|");for(const i of t)n=Math.imul(31,n)+i.charCodeAt(0)<<0;return n+=2147483648,"c"+n}(t),t})}function EA(e){return vt(e)||jn(e)}function SA(e){return null!==e}function vn(e){return Ni(()=>({type:e.type,bootstrap:e.bootstrap||mt,declarations:e.declarations||mt,imports:e.imports||mt,exports:e.exports||mt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function hy(e,n){if(null==e)return ui;const t={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),t[i]=r,n&&(n[i]=o)}return t}function Ge(e){return Ni(()=>{const n=py(e);return gy(n),n})}function sr(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,standalone:!0===e.standalone,onDestroy:e.type.prototype.ngOnDestroy||null}}function vt(e){return e[xl]||null}function jn(e){return e[bf]||null}function ar(e){return e[Cf]||null}function Er(e,n){const t=e[ry]||null;if(!t&&!0===n)throw new Error(`Type ${ce(e)} does not have '\u0275mod' property.`);return t}function py(e){const n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputTransforms:null,inputConfig:e.inputs||ui,exportAs:e.exportAs||null,standalone:!0===e.standalone,signals:!0===e.signals,selectors:e.selectors||mt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hy(e.inputs,n),outputs:hy(e.outputs)}}function gy(e){e.features?.forEach(n=>n(e))}function Nl(e,n){if(!e)return null;const t=n?ar:EA;return()=>("function"==typeof e?e():e).map(r=>t(r)).filter(SA)}const _n=0,Me=1,Ze=2,Qt=3,Gr=4,Ua=5,$n=6,ps=7,an=8,gs=9,Fo=10,Xe=11,Ha=12,my=13,ms=14,un=15,ja=16,ys=17,li=18,$a=19,yy=20,eo=21,ki=22,Ol=23,kl=24,at=25,Af=1,vy=2,ci=7,vs=9,qn=11;function Sr(e){return Array.isArray(e)&&"object"==typeof e[Af]}function ur(e){return Array.isArray(e)&&!0===e[Af]}function If(e){return 0!=(4&e.flags)}function Mo(e){return e.componentOffset>-1}function Vl(e){return 1==(1&e.flags)}function Kr(e){return!!e.template}function Tf(e){return 0!=(512&e[Ze])}function Ro(e,n){return e.hasOwnProperty(Oi)?e[Oi]:null}let MA=xt.WeakRef??class FA{constructor(n){this.ref=n}deref(){return this.ref}},xA=0,di=null,Bl=!1;function An(e){const n=di;return di=e,n}class by{constructor(){this.id=xA++,this.ref=function RA(e){return new MA(e)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[n,t]of this.producers){const r=t.producerNode.deref();if(null!=r&&t.atTrackingVersion===this.trackingVersion){if(r.producerPollStatus(t.seenValueVersion))return!0}else this.producers.delete(n),r?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const n=Bl;Bl=!0;try{for(const[t,r]of this.consumers){const i=r.consumerNode.deref();null!=i&&i.trackingVersion===r.atTrackingVersion?i.onConsumerDependencyMayHaveChanged():(this.consumers.delete(t),i?.producers.delete(this.id))}}finally{Bl=n}}producerAccessed(){if(Bl)throw new Error("");if(null===di)return;let n=di.producers.get(this.id);void 0===n?(n={consumerNode:di.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:di.trackingVersion},di.producers.set(this.id,n),this.consumers.set(di.id,n)):(n.seenValueVersion=this.valueVersion,n.atTrackingVersion=di.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==di?.consumerAllowSignalWrites}producerPollStatus(n){return this.valueVersion!==n||(this.onProducerUpdateValueVersion(),this.valueVersion!==n)}}let Cy=null;function Dy(e){const n=An(null);try{return e()}finally{An(n)}}const Ay=()=>{};class LA extends by{constructor(n,t,r){super(),this.watch=n,this.schedule=t,this.dirty=!1,this.cleanupFn=Ay,this.registerOnCleanup=i=>{this.cleanupFn=i},this.consumerAllowSignalWrites=r}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const n=An(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=Ay,this.watch(this.registerOnCleanup)}finally{An(n)}}cleanup(){this.cleanupFn()}}class VA{constructor(n,t,r){this.previousValue=n,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Nr(){return Iy}function Iy(e){return e.type.prototype.ngOnChanges&&(e.setInput=UA),BA}function BA(){const e=Py(this),n=e?.current;if(n){const t=e.previous;if(t===ui)e.previous=n;else for(let r in n)t[r]=n[r];e.current=null,this.ngOnChanges(n)}}function UA(e,n,t,r){const i=this.declaredInputs[t],o=Py(e)||function HA(e,n){return e[Ty]=n}(e,{previous:ui,current:null}),s=o.current||(o.current={}),a=o.previous,c=a[i];s[i]=new VA(c&&c.currentValue,n,a===ui),e[r]=n}Nr.ngInherit=!0;const Ty="__ngSimpleChanges__";function Py(e){return e[Ty]||null}const fi=function(e,n,t){};function qt(e){for(;Array.isArray(e);)e=e[_n];return e}function jl(e,n){return qt(n[e])}function lr(e,n){return qt(n[e.index])}function Ry(e,n){return e.data[n]}function br(e,n){const t=n[e];return Sr(t)?t:t[_n]}function to(e,n){return null==n?null:e[n]}function xy(e){e[ys]=0}function KA(e){1024&e[Ze]||(e[Ze]|=1024,Oy(e,1))}function Ny(e){1024&e[Ze]&&(e[Ze]&=-1025,Oy(e,-1))}function Oy(e,n){let t=e[Qt];if(null===t)return;t[Ua]+=n;let r=t;for(t=t[Qt];null!==t&&(1===n&&1===r[Ua]||-1===n&&0===r[Ua]);)t[Ua]+=n,r=t,t=t[Qt]}const Je={lFrame:Wy(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Vy(){return Je.bindingsEnabled}function ws(){return null!==Je.skipHydrationRootTNode}function Se(){return Je.lFrame.lView}function dt(){return Je.lFrame.tView}function Es(e){return Je.lFrame.contextLView=e,e[an]}function Ss(e){return Je.lFrame.contextLView=null,e}function Rn(){let e=By();for(;null!==e&&64===e.type;)e=e.parent;return e}function By(){return Je.lFrame.currentTNode}function hi(e,n){const t=Je.lFrame;t.currentTNode=e,t.isParent=n}function Nf(){return Je.lFrame.isParent}function Of(){Je.lFrame.isParent=!1}function Zn(){const e=Je.lFrame;let n=e.bindingRootIndex;return-1===n&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function bs(){return Je.lFrame.bindingIndex++}function sI(e,n){const t=Je.lFrame;t.bindingIndex=t.bindingRootIndex=e,kf(n)}function kf(e){Je.lFrame.currentDirectiveIndex=e}function $y(){return Je.lFrame.currentQueryIndex}function Vf(e){Je.lFrame.currentQueryIndex=e}function uI(e){const n=e[Me];return 2===n.type?n.declTNode:1===n.type?e[$n]:null}function qy(e,n,t){if(t&rt.SkipSelf){let i=n,o=e;for(;!(i=i.parent,null!==i||t&rt.Host||(i=uI(o),null===i||(o=o[ms],10&i.type))););if(null===i)return!1;n=i,e=o}const r=Je.lFrame=zy();return r.currentTNode=n,r.lView=e,!0}function Bf(e){const n=zy(),t=e[Me];Je.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function zy(){const e=Je.lFrame,n=null===e?null:e.child;return null===n?Wy(e):n}function Wy(e){const n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=n),n}function Gy(){const e=Je.lFrame;return Je.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const Ky=Gy;function Uf(){const e=Gy();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Xn(){return Je.lFrame.selectedIndex}function xo(e){Je.lFrame.selectedIndex=e}function Zt(){const e=Je.lFrame;return Ry(e.tView,e.selectedIndex)}function Cs(){Je.lFrame.currentNamespace="svg"}let Yy=!0;function $l(){return Yy}function no(e){Yy=e}function ql(e,n){for(let t=n.directiveStart,r=n.directiveEnd;t<r;t++){const o=e.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:h,ngOnDestroy:g}=o;s&&(e.contentHooks??=[]).push(-t,s),a&&((e.contentHooks??=[]).push(t,a),(e.contentCheckHooks??=[]).push(t,a)),c&&(e.viewHooks??=[]).push(-t,c),h&&((e.viewHooks??=[]).push(t,h),(e.viewCheckHooks??=[]).push(t,h)),null!=g&&(e.destroyHooks??=[]).push(t,g)}}function zl(e,n,t){Qy(e,n,3,t)}function Wl(e,n,t,r){(3&e[Ze])===t&&Qy(e,n,t,r)}function Hf(e,n){let t=e[Ze];(3&t)===n&&(t&=8191,t+=1,e[Ze]=t)}function Qy(e,n,t,r){const o=r??-1,s=n.length-1;let a=0;for(let c=void 0!==r?65535&e[ys]:0;c<s;c++)if("number"==typeof n[c+1]){if(a=n[c],null!=r&&a>=r)break}else n[c]<0&&(e[ys]+=65536),(a<o||-1==o)&&(gI(e,t,n,c),e[ys]=(4294901760&e[ys])+c+2),c++}function Zy(e,n){fi(4,e,n);const t=An(null);try{n.call(e)}finally{An(t),fi(5,e,n)}}function gI(e,n,t,r){const i=t[r]<0,o=t[r+1],a=e[i?-t[r]:t[r]];i?e[Ze]>>13<e[ys]>>16&&(3&e[Ze])===n&&(e[Ze]+=8192,Zy(a,o)):Zy(a,o)}const Ds=-1;class Wa{constructor(n,t,r){this.factory=n,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function Xy(e){return e!==Ds}function Gl(e){return 32767&e}function Kl(e,n){let t=function _I(e){return e>>16}(e),r=n;for(;t>0;)r=r[ms],t--;return r}let $f=!0;function Jl(e){const n=$f;return $f=e,n}const ev=255,tv=5;let wI=0;const pi={};function Yl(e,n){const t=nv(e,n);if(-1!==t)return t;const r=n[Me];r.firstCreatePass&&(e.injectorIndex=n.length,qf(r.data,e),qf(n,null),qf(r.blueprint,null));const i=zf(e,n),o=e.injectorIndex;if(Xy(i)){const s=Gl(i),a=Kl(i,n),c=a[Me].data;for(let h=0;h<8;h++)n[o+h]=a[s+h]|c[s+h]}return n[o+8]=i,o}function qf(e,n){e.push(0,0,0,0,0,0,0,0,n)}function nv(e,n){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===n[e.injectorIndex+8]?-1:e.injectorIndex}function zf(e,n){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let t=0,r=null,i=n;for(;null!==i;){if(r=lv(i),null===r)return Ds;if(t++,i=i[ms],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return Ds}function Wf(e,n,t){!function EI(e,n,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(Va)&&(r=t[Va]),null==r&&(r=t[Va]=wI++);const i=r&ev;n.data[e+(i>>tv)]|=1<<i}(e,n,t)}function rv(e,n,t){if(t&rt.Optional||void 0!==e)return e;yn()}function iv(e,n,t,r){if(t&rt.Optional&&void 0===r&&(r=null),!(t&(rt.Self|rt.Host))){const i=e[gs],o=or(void 0);try{return i?i.get(n,r,t&rt.Optional):ey(n,r,t&rt.Optional)}finally{or(o)}}return rv(r,0,t)}function ov(e,n,t,r=rt.Default,i){if(null!==e){if(2048&n[Ze]&&!(r&rt.Self)){const s=function AI(e,n,t,r,i){let o=e,s=n;for(;null!==o&&null!==s&&2048&s[Ze]&&!(512&s[Ze]);){const a=sv(o,s,t,r|rt.Self,pi);if(a!==pi)return a;let c=o.parent;if(!c){const h=s[yy];if(h){const g=h.get(t,pi,r);if(g!==pi)return g}c=lv(s),s=s[ms]}o=c}return i}(e,n,t,r,pi);if(s!==pi)return s}const o=sv(e,n,t,r,pi);if(o!==pi)return o}return iv(n,t,r,i)}function sv(e,n,t,r,i){const o=function CI(e){if("string"==typeof e)return e.charCodeAt(0)||0;const n=e.hasOwnProperty(Va)?e[Va]:void 0;return"number"==typeof n?n>=0?n&ev:DI:n}(t);if("function"==typeof o){if(!qy(n,e,r))return r&rt.Host?rv(i,0,r):iv(n,t,r,i);try{const s=o(r);if(null!=s||r&rt.Optional)return s;yn()}finally{Ky()}}else if("number"==typeof o){let s=null,a=nv(e,n),c=Ds,h=r&rt.Host?n[un][$n]:null;for((-1===a||r&rt.SkipSelf)&&(c=-1===a?zf(e,n):n[a+8],c!==Ds&&uv(r,!1)?(s=n[Me],a=Gl(c),n=Kl(c,n)):a=-1);-1!==a;){const g=n[Me];if(av(o,a,g.data)){const m=bI(a,n,t,s,r,h);if(m!==pi)return m}c=n[a+8],c!==Ds&&uv(r,n[Me].data[a+8]===h)&&av(o,a,n)?(s=g,a=Gl(c),n=Kl(c,n)):a=-1}}return i}function bI(e,n,t,r,i,o){const s=n[Me],a=s.data[e+8],g=Ql(a,s,t,null==r?Mo(a)&&$f:r!=s&&0!=(3&a.type),i&rt.Host&&o===a);return null!==g?No(n,s,g,a):pi}function Ql(e,n,t,r,i){const o=e.providerIndexes,s=n.data,a=1048575&o,c=e.directiveStart,g=o>>20,I=i?a+g:e.directiveEnd;for(let O=r?a:a+g;O<I;O++){const X=s[O];if(O<c&&t===X||O>=c&&X.type===t)return O}if(i){const O=s[c];if(O&&Kr(O)&&O.type===t)return c}return null}function No(e,n,t,r){let i=e[t];const o=n.data;if(function mI(e){return e instanceof Wa}(i)){const s=i;s.resolving&&function It(e,n){const t=n?`. Dependency path: ${n.join(" > ")} > ${e}`:"";throw new J(-200,`Circular dependency in DI detected for ${e}${t}`)}(function De(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():Ee(e)}(o[t]));const a=Jl(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?or(s.injectImpl):null;qy(e,r,rt.Default);try{i=e[t]=s.factory(void 0,o,e,r),n.firstCreatePass&&t>=r.directiveStart&&function pI(e,n,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=n.type.prototype;if(r){const s=Iy(n);(t.preOrderHooks??=[]).push(e,s),(t.preOrderCheckHooks??=[]).push(e,s)}i&&(t.preOrderHooks??=[]).push(0-e,i),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}(t,o[t],n)}finally{null!==c&&or(c),Jl(a),s.resolving=!1,Ky()}}return i}function av(e,n,t){return!!(t[n+(e>>tv)]&1<<e)}function uv(e,n){return!(e&rt.Self||e&rt.Host&&n)}class As{constructor(n,t){this._tNode=n,this._lView=t}get(n,t,r){return ov(this._tNode,this._lView,n,Ml(r),t)}}function DI(){return new As(Rn(),Se())}function rn(e){return Ni(()=>{const n=e.prototype.constructor,t=n[Oi]||Gf(n),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const o=i[Oi]||Gf(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Gf(e){return W(e)?()=>{const n=Gf(R(e));return n&&n()}:Ro(e)}function lv(e){const n=e[Me],t=n.type;return 2===t?n.declTNode:1===t?e[$n]:null}const Ts="__parameters__";function Fs(e,n,t){return Ni(()=>{const r=function Kf(e){return function(...t){if(e){const r=e(...t);for(const i in r)this[i]=r[i]}}}(n);function i(...o){if(this instanceof i)return r.apply(this,o),this;const s=new i(...o);return a.annotation=s,a;function a(c,h,g){const m=c.hasOwnProperty(Ts)?c[Ts]:Object.defineProperty(c,Ts,{value:[]})[Ts];for(;m.length<=g;)m.push(null);return(m[g]=m[g]||[]).push(s),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}function Ka(e,n){e.forEach(t=>Array.isArray(t)?Ka(t,n):n(t))}function dv(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Xl(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function Ja(e,n){const t=[];for(let r=0;r<e;r++)t.push(n);return t}function Cr(e,n,t){let r=Rs(e,n);return r>=0?e[1|r]=t:(r=~r,function xI(e,n,t,r){let i=e.length;if(i==n)e.push(t,r);else if(1===i)e.push(r,e[0]),e[0]=t;else{for(i--,e.push(e[i-1],e[i]);i>n;)e[i]=e[i-2],i--;e[n]=t,e[n+1]=r}}(e,r,n,t)),r}function Jf(e,n){const t=Rs(e,n);if(t>=0)return e[1|t]}function Rs(e,n){return function fv(e,n,t){let r=0,i=e.length>>t;for(;i!==r;){const o=r+(i-r>>1),s=e[o<<t];if(n===s)return o<<t;s>n?i=o:r=o+1}return~(i<<t)}(e,n,1)}const tc=La(Fs("Optional"),8),nc=La(Fs("SkipSelf"),4);function ac(e){return 128==(128&e.flags)}var ro=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}(ro||{});const eT=/^>|^->|<!--|-->|--!>|<!-$/g,tT=/(<|>)/,nT="\u200b$1\u200b";const eh=new Map;let rT=0;const nh="__ngContext__";function zn(e,n){Sr(n)?(e[nh]=n[$a],function oT(e){eh.set(e[$a],e)}(n)):e[nh]=n}let rh;function ih(e,n){return rh(e,n)}function Za(e){const n=e[Qt];return ur(n)?n[Qt]:n}function Rv(e){return Nv(e[Ha])}function xv(e){return Nv(e[Gr])}function Nv(e){for(;null!==e&&!ur(e);)e=e[Gr];return e}function Os(e,n,t,r,i){if(null!=r){let o,s=!1;ur(r)?o=r:Sr(r)&&(s=!0,r=r[_n]);const a=qt(r);0===e&&null!==t?null==i?Bv(n,t,a):Oo(n,t,a,i||null,!0):1===e&&null!==t?Oo(n,t,a,i||null,!0):2===e?function hc(e,n,t){const r=dc(e,n);r&&function CT(e,n,t,r){e.removeChild(n,t,r)}(e,r,n,t)}(n,a,s):3===e&&n.destroyNode(a),null!=o&&function IT(e,n,t,r,i){const o=t[ci];o!==qt(t)&&Os(n,e,r,o,i);for(let a=qn;a<t.length;a++){const c=t[a];eu(c[Me],c,e,n,r,o)}}(n,e,o,t,i)}}function oh(e,n){return e.createComment(function Cv(e){return e.replace(eT,n=>n.replace(tT,nT))}(n))}function cc(e,n,t){return e.createElement(n,t)}function kv(e,n){const t=e[vs],r=t.indexOf(n);Ny(n),t.splice(r,1)}function sh(e,n){if(e.length<=qn)return;const t=qn+n,r=e[t];if(r){const i=r[ja];null!==i&&i!==e&&kv(i,r),n>0&&(e[t-1][Gr]=r[Gr]);const o=Xl(e,qn+n);!function mT(e,n){eu(e,n,n[Xe],2,null,null),n[_n]=null,n[$n]=null}(r[Me],r);const s=o[li];null!==s&&s.detachView(o[Me]),r[Qt]=null,r[Gr]=null,r[Ze]&=-129}return r}function Lv(e,n){if(!(256&n[Ze])){const t=n[Xe];n[Ol]?.destroy(),n[kl]?.destroy(),t.destroyNode&&eu(e,n,t,3,null,null),function _T(e){let n=e[Ha];if(!n)return ah(e[Me],e);for(;n;){let t=null;if(Sr(n))t=n[Ha];else{const r=n[qn];r&&(t=r)}if(!t){for(;n&&!n[Gr]&&n!==e;)Sr(n)&&ah(n[Me],n),n=n[Qt];null===n&&(n=e),Sr(n)&&ah(n[Me],n),t=n&&n[Gr]}n=t}}(n)}}function ah(e,n){if(!(256&n[Ze])){n[Ze]&=-129,n[Ze]|=256,function bT(e,n){let t;if(null!=e&&null!=(t=e.destroyHooks))for(let r=0;r<t.length;r+=2){const i=n[t[r]];if(!(i instanceof Wa)){const o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){const a=i[o[s]],c=o[s+1];fi(4,a,c);try{c.call(a)}finally{fi(5,a,c)}}else{fi(4,i,o);try{o.call(i)}finally{fi(5,i,o)}}}}}(e,n),function ST(e,n){const t=e.cleanup,r=n[ps];if(null!==t)for(let o=0;o<t.length-1;o+=2)if("string"==typeof t[o]){const s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else t[o].call(r[t[o+1]]);null!==r&&(n[ps]=null);const i=n[eo];if(null!==i){n[eo]=null;for(let o=0;o<i.length;o++)(0,i[o])()}}(e,n),1===n[Me].type&&n[Xe].destroy();const t=n[ja];if(null!==t&&ur(n[Qt])){t!==n[Qt]&&kv(t,n);const r=n[li];null!==r&&r.detachView(e)}!function sT(e){eh.delete(e[$a])}(n)}}function uh(e,n,t){return function Vv(e,n,t){let r=n;for(;null!==r&&40&r.type;)r=(n=r).parent;if(null===r)return t[_n];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:o}=e.data[r.directiveStart+i];if(o===xr.None||o===xr.Emulated)return null}return lr(r,t)}}(e,n.parent,t)}function Oo(e,n,t,r,i){e.insertBefore(n,t,r,i)}function Bv(e,n,t){e.appendChild(n,t)}function Uv(e,n,t,r,i){null!==r?Oo(e,n,t,r,i):Bv(e,n,t)}function dc(e,n){return e.parentNode(n)}function Hv(e,n,t){return $v(e,n,t)}let lh,hh,gc,$v=function jv(e,n,t){return 40&e.type?lr(e,t):null};function fc(e,n,t,r){const i=uh(e,r,n),o=n[Xe],a=Hv(r.parent||n[$n],r,n);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)Uv(o,i,t[c],a,!1);else Uv(o,i,t,a,!1);void 0!==lh&&lh(o,r,n,t,i)}function Xa(e,n){if(null!==n){const t=n.type;if(3&t)return lr(n,e);if(4&t)return ch(-1,e[n.index]);if(8&t){const r=n.child;if(null!==r)return Xa(e,r);{const i=e[n.index];return ur(i)?ch(-1,i):qt(i)}}if(32&t)return ih(n,e)()||qt(e[n.index]);{const r=zv(e,n);return null!==r?Array.isArray(r)?r[0]:Xa(Za(e[un]),r):Xa(e,n.next)}}return null}function zv(e,n){return null!==n?e[un][$n].projection[n.projection]:null}function ch(e,n){const t=qn+e+1;if(t<n.length){const r=n[t],i=r[Me].firstChild;if(null!==i)return Xa(r,i)}return n[ci]}function dh(e,n,t,r,i,o,s){for(;null!=t;){const a=r[t.index],c=t.type;if(s&&0===n&&(a&&zn(qt(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)dh(e,n,t.child,r,i,o,!1),Os(n,e,i,a,o);else if(32&c){const h=ih(t,r);let g;for(;g=h();)Os(n,e,i,g,o);Os(n,e,i,a,o)}else 16&c?Gv(e,n,r,t,i,o):Os(n,e,i,a,o);t=s?t.projectionNext:t.next}}function eu(e,n,t,r,i,o){dh(t,r,e.firstChild,n,i,o,!1)}function Gv(e,n,t,r,i,o){const s=t[un],c=s[$n].projection[r.projection];if(Array.isArray(c))for(let h=0;h<c.length;h++)Os(n,e,i,c[h],o);else{let h=c;const g=s[Qt];ac(r)&&(h.flags|=128),dh(e,n,h,g,i,o,!0)}}function Kv(e,n,t){""===t?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function Jv(e,n,t){const{mergedAttrs:r,classes:i,styles:o}=t;null!==r&&Df(e,n,r),null!==i&&Kv(e,n,i),null!==o&&function PT(e,n,t){e.setAttribute(n,"style",t)}(e,n,o)}function Zv(e){return function ph(){if(void 0===gc&&(gc=null,xt.trustedTypes))try{gc=xt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return gc}()?.createScriptURL(e)||e}class Xv{constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${xe})`}}function io(e){return e instanceof Xv?e.changingThisBreaksApplicationSecurity:e}function nu(e,n){const t=function BT(e){return e instanceof Xv&&e.getTypeName()||null}(e);if(null!=t&&t!==n){if("ResourceURL"===t&&"URL"===n)return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${xe})`)}return t===n}const $T=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Ls=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}(Ls||{});function a0(e){const n=iu();return n?n.sanitize(Ls.URL,e)||"":nu(e,"URL")?io(e):function gh(e){return(e=String(e)).match($T)?e:"unsafe:"+e}(Ee(e))}function u0(e){const n=iu();if(n)return Zv(n.sanitize(Ls.RESOURCE_URL,e)||"");if(nu(e,"ResourceURL"))return Zv(io(e));throw new J(904,!1)}function iu(){const e=Se();return e&&e[Fo].sanitizer}class ke{constructor(n,t){this._desc=n,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=Be({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ou=new ke("ENVIRONMENT_INITIALIZER"),c0=new ke("INJECTOR",-1),d0=new ke("INJECTOR_DEF_TYPES");class f0{get(n,t=ka){if(t===ka){const r=new Error(`NullInjectorError: No provider for ${ce(n)}!`);throw r.name="NullInjectorError",r}return t}}function nP(...e){return{\u0275providers:h0(0,e),\u0275fromNgModule:!0}}function h0(e,...n){const t=[],r=new Set;let i;return Ka(n,o=>{const s=o;wh(s,t,[],r)&&(i||=[],i.push(s))}),void 0!==i&&p0(i,t),t}function p0(e,n){for(let t=0;t<e.length;t++){const{providers:i}=e[t];Eh(i,o=>{n.push(o)})}}function wh(e,n,t,r){if(!(e=R(e)))return!1;let i=null,o=Ri(e);const s=!o&&vt(e);if(o||s){if(s&&!s.standalone)return!1;i=e}else{const c=e.ngModule;if(o=Ri(c),!o)return!1;i=c}const a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){const c="function"==typeof s.dependencies?s.dependencies():s.dependencies;for(const h of c)wh(h,n,t,r)}}else{if(!o)return!1;{if(null!=o.imports&&!a){let h;r.add(i);try{Ka(o.imports,g=>{wh(g,n,t,r)&&(h||=[],h.push(g))})}finally{}void 0!==h&&p0(h,n)}if(!a){const h=Ro(i)||(()=>new i);n.push({provide:i,useFactory:h,deps:mt},{provide:d0,useValue:i,multi:!0},{provide:ou,useValue:()=>Fe(i),multi:!0})}const c=o.providers;null==c||a||Eh(c,g=>{n.push(g)})}}return i!==e&&void 0!==e.providers}function Eh(e,n){for(let t of e)fe(t)&&(t=t.\u0275providers),Array.isArray(t)?Eh(t,n):n(t)}const rP=z({provide:String,useValue:z});function Sh(e){return null!==e&&"object"==typeof e&&rP in e}function ko(e){return"function"==typeof e}const bh=new ke("Set Injector scope."),yc={},oP={};let Ch;function vc(){return void 0===Ch&&(Ch=new f0),Ch}class gi{}class Dh extends gi{get destroyed(){return this._destroyed}constructor(n,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Ih(n,s=>this.processProvider(s)),this.records.set(c0,Vs(void 0,this)),i.has("environment")&&this.records.set(gi,Vs(void 0,this));const o=this.records.get(bh);null!=o&&"string"==typeof o.value&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(d0.multi,mt,rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const n=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of n)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(n){return this.assertNotDestroyed(),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){this.assertNotDestroyed();const t=Xi(this),r=or(void 0);try{return n()}finally{Xi(t),or(r)}}get(n,t=ka,r=rt.Default){if(this.assertNotDestroyed(),n.hasOwnProperty(iy))return n[iy](this);r=Ml(r);const i=Xi(this),o=or(void 0);try{if(!(r&rt.SkipSelf)){let a=this.records.get(n);if(void 0===a){const c=function cP(e){return"function"==typeof e||"object"==typeof e&&e instanceof ke}(n)&&Rr(n);a=c&&this.injectableDefInScope(c)?Vs(Ah(n),yc):null,this.records.set(n,a)}if(null!=a)return this.hydrate(n,a)}return(r&rt.Self?vc():this.parent).get(n,t=r&rt.Optional&&t===ka?null:t)}catch(s){if("NullInjectorError"===s.name){if((s[Fl]=s[Fl]||[]).unshift(ce(n)),i)throw s;return function aA(e,n,t,r){const i=e[Fl];throw n[ty]&&i.unshift(n[ty]),e.message=function uA(e,n,t,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.slice(2):e;let i=ce(n);if(Array.isArray(n))i=n.map(ce).join(" -> ");else if("object"==typeof n){let o=[];for(let s in n)if(n.hasOwnProperty(s)){let a=n[s];o.push(s+":"+("string"==typeof a?JSON.stringify(a):ce(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${e.replace(nA,"\n  ")}`}("\n"+e.message,i,t,r),e.ngTokenPath=i,e[Fl]=null,e}(s,n,"R3InjectorError",this.source)}throw s}finally{or(o),Xi(i)}}resolveInjectorInitializers(){const n=Xi(this),t=or(void 0);try{const r=this.get(ou.multi,mt,rt.Self);for(const i of r)i()}finally{Xi(n),or(t)}}toString(){const n=[],t=this.records;for(const r of t.keys())n.push(ce(r));return`R3Injector[${n.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(n){let t=ko(n=R(n))?n:R(n&&n.provide);const r=function aP(e){return Sh(e)?Vs(void 0,e.useValue):Vs(function y0(e,n,t){let r;if(ko(e)){const i=R(e);return Ro(i)||Ah(i)}if(Sh(e))r=()=>R(e.useValue);else if(function m0(e){return!(!e||!e.useFactory)}(e))r=()=>e.useFactory(...Sf(e.deps||[]));else if(function g0(e){return!(!e||!e.useExisting)}(e))r=()=>Fe(R(e.useExisting));else{const i=R(e&&(e.useClass||e.provide));if(!function uP(e){return!!e.deps}(e))return Ro(i)||Ah(i);r=()=>new i(...Sf(e.deps))}return r}(e),yc)}(n);if(ko(n)||!0!==n.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=Vs(void 0,yc,!0),i.factory=()=>Sf(i.multi),this.records.set(t,i)),t=n,i.multi.push(n)}this.records.set(t,r)}hydrate(n,t){return t.value===yc&&(t.value=oP,t.value=t.factory()),"object"==typeof t.value&&t.value&&function lP(e){return null!==e&&"object"==typeof e&&"function"==typeof e.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(n){if(!n.providedIn)return!1;const t=R(n.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){const t=this._onDestroyHooks.indexOf(n);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Ah(e){const n=Rr(e),t=null!==n?n.factory:Ro(e);if(null!==t)return t;if(e instanceof ke)throw new J(204,!1);if(e instanceof Function)return function sP(e){const n=e.length;if(n>0)throw Ja(n,"?"),new J(204,!1);const t=function zr(e){return e&&(e[zt]||e[ai])||null}(e);return null!==t?()=>t.factory(e):()=>new e}(e);throw new J(204,!1)}function Vs(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Ih(e,n){for(const t of e)Array.isArray(t)?Ih(t,n):t&&fe(t)?Ih(t.\u0275providers,n):n(t)}const _c=new ke("AppId",{providedIn:"root",factory:()=>dP}),dP="ng",v0=new ke("Platform Initializer"),oo=new ke("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),_0=new ke("AnimationModuleType"),w0=new ke("CSP nonce",{providedIn:"root",factory:()=>function tu(){if(void 0!==hh)return hh;if(typeof document<"u")return document;throw new J(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let S0=(e,n)=>null;function b0(e,n){return S0(e,n)}class wP{}class A0{}class SP{resolveComponentFactory(n){throw function EP(e){const n=Error(`No component factory found for ${ce(e)}.`);return n.ngComponent=e,n}(n)}}let Cc=(()=>{class e{}return e.NULL=new SP,e})();function bP(){return Us(Rn(),Se())}function Us(e,n){return new dr(lr(e,n))}let dr=(()=>{class e{constructor(t){this.nativeElement=t}}return e.__NG_ELEMENT_ID__=bP,e})();function CP(e){return e instanceof dr?e.nativeElement:e}class uu{}let Jr=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function DP(){const e=Se(),t=br(Rn().index,e);return(Sr(t)?t:e)[Xe]}(),e})(),AP=(()=>{class e{}return e.\u0275prov=Be({token:e,providedIn:"root",factory:()=>null}),e})();class lu{constructor(n){this.full=n,this.major=n.split(".")[0],this.minor=n.split(".")[1],this.patch=n.split(".").slice(2).join(".")}}const IP=new lu("16.1.7"),Vh={};function cu(e){for(;e;){e[Ze]|=64;const n=Za(e);if(Tf(e)&&!n)return e;e=n}return null}function Bh(e){return e.ngOriginalError}class Lo{constructor(){this._console=console}handleError(n){const t=this._findOriginalError(n);this._console.error("ERROR",n),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(n){let t=n&&Bh(n);for(;t&&Bh(t);)t=Bh(t);return t||null}}const F0=new ke("",{providedIn:"root",factory:()=>!1});function Ui(e){return e instanceof Function?e():e}class O0 extends by{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(n){this._lView=n}onConsumerDependencyMayHaveChanged(){cu(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(n,t,r){const i=An(this);this.trackingVersion++;try{n(t,r)}finally{An(i)}}destroy(){this.trackingVersion++}}let Ac=null;function k0(){return Ac??=new O0,Ac}function L0(e,n){return e[n]??k0()}function V0(e,n){const t=k0();t.hasReadASignal&&(e[n]=Ac,t.lView=e,Ac=new O0)}const et={};function Ye(e){B0(dt(),Se(),Xn()+e,!1)}function B0(e,n,t,r){if(!r)if(3==(3&n[Ze])){const o=e.preOrderCheckHooks;null!==o&&zl(n,o,t)}else{const o=e.preOrderHooks;null!==o&&Wl(n,o,0,t)}xo(t)}function $0(e,n=null,t=null,r){const i=q0(e,n,t,r);return i.resolveInjectorInitializers(),i}function q0(e,n=null,t=null,r,i=new Set){const o=[t||mt,nP(e)];return r=r||("object"==typeof e?void 0:ce(e)),new Dh(o,n||vc(),r||null,i)}let mi=(()=>{class e{static create(t,r){if(Array.isArray(t))return $0({name:""},r,t,"");{const i=t.name??"";return $0({name:i},t.parent,t.providers,i)}}}return e.THROW_IF_NOT_FOUND=ka,e.NULL=new f0,e.\u0275prov=Be({token:e,providedIn:"any",factory:()=>Fe(c0)}),e.__NG_ELEMENT_ID__=-1,e})();function we(e,n=rt.Default){const t=Se();return null===t?Fe(e,n):ov(Rn(),t,R(e),n)}function Ic(e,n,t,r,i,o,s,a,c,h,g){const m=n.blueprint.slice();return m[_n]=i,m[Ze]=140|r,(null!==h||e&&2048&e[Ze])&&(m[Ze]|=2048),xy(m),m[Qt]=m[ms]=e,m[an]=t,m[Fo]=s||e&&e[Fo],m[Xe]=a||e&&e[Xe],m[gs]=c||e&&e[gs]||null,m[$n]=o,m[$a]=function iT(){return rT++}(),m[ki]=g,m[yy]=h,m[un]=2==n.type?e[un]:m,m}function js(e,n,t,r,i){let o=e.data[n];if(null===o)o=function Uh(e,n,t,r,i){const o=By(),s=Nf(),c=e.data[n]=function KP(e,n,t,r,i,o){let s=n?n.injectorIndex:-1,a=0;return ws()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,t,n,r,i);return null===e.firstChild&&(e.firstChild=c),null!==o&&(s?null==o.child&&null!==c.parent&&(o.child=c):null===o.next&&(o.next=c,c.prev=o)),c}(e,n,t,r,i),function oI(){return Je.lFrame.inI18n}()&&(o.flags|=32);else if(64&o.type){o.type=t,o.value=r,o.attrs=i;const s=function za(){const e=Je.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}();o.injectorIndex=null===s?-1:s.injectorIndex}return hi(o,!0),o}function du(e,n,t,r){if(0===t)return-1;const i=n.length;for(let o=0;o<t;o++)n.push(r),e.blueprint.push(r),e.data.push(null);return i}function W0(e,n,t,r,i){const o=L0(n,Ol),s=Xn(),a=2&r;try{if(xo(-1),a&&n.length>at&&B0(e,n,at,!1),fi(a?2:0,i),a)o.runInContext(t,r,i);else{const h=An(null);try{t(r,i)}finally{An(h)}}}finally{a&&null===n[Ol]&&V0(n,Ol),xo(s),fi(a?3:1,i)}}function Hh(e,n,t){if(If(n)){const r=An(null);try{const o=n.directiveEnd;for(let s=n.directiveStart;s<o;s++){const a=e.data[s];a.contentQueries&&a.contentQueries(1,t[s],s)}}finally{An(r)}}}function jh(e,n,t){Vy()&&(function tF(e,n,t,r){const i=t.directiveStart,o=t.directiveEnd;Mo(t)&&function uF(e,n,t){const r=lr(n,e),i=G0(t);let s=16;t.signals?s=4096:t.onPush&&(s=64);const a=Tc(e,Ic(e,i,null,s,r,n,null,e[Fo].rendererFactory.createRenderer(r,t),null,null,null));e[n.index]=a}(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||Yl(t,n),zn(r,n);const s=t.initialInputs;for(let a=i;a<o;a++){const c=e.data[a],h=No(n,e,a,t);zn(h,n),null!==s&&lF(0,a-i,h,c,0,s),Kr(c)&&(br(t.index,n)[an]=No(n,e,a,t))}}(e,n,t,lr(t,n)),64==(64&t.flags)&&Z0(e,n,t))}function $h(e,n,t=lr){const r=n.localNames;if(null!==r){let i=n.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?t(n,e):e[s];e[i++]=a}}}function G0(e){const n=e.tView;return null===n||n.incompleteFirstPass?e.tView=qh(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function qh(e,n,t,r,i,o,s,a,c,h,g){const m=at+r,I=m+i,O=function jP(e,n){const t=[];for(let r=0;r<n;r++)t.push(r<e?null:et);return t}(m,I),X="function"==typeof h?h():h;return O[Me]={type:e,blueprint:O,template:t,queries:null,viewQuery:a,declTNode:n,data:O.slice().fill(null,m),bindingStartIndex:m,expandoStartIndex:I,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:X,incompleteFirstPass:!1,ssrId:g}}let K0=e=>null;function J0(e,n,t,r){for(let i in e)if(e.hasOwnProperty(i)){t=null===t?{}:t;const o=e[i];null===r?Y0(t,n,i,o):r.hasOwnProperty(i)&&Y0(t,n,r[i],o)}return t}function Y0(e,n,t,r){e.hasOwnProperty(t)?e[t].push(n,r):e[t]=[n,r]}function zh(e,n,t,r){if(Vy()){const i=null===r?null:{"":-1},o=function rF(e,n){const t=e.directiveRegistry;let r=null,i=null;if(t)for(let o=0;o<t.length;o++){const s=t[o];if(dy(n,s.selectors,!1))if(r||(r=[]),Kr(s))if(null!==s.findHostDirectiveDefs){const a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s),Wh(e,n,a.length)}else r.unshift(s),Wh(e,n,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return null===r?null:[r,i]}(e,t);let s,a;null===o?s=a=null:[s,a]=o,null!==s&&Q0(e,n,t,s,i,a),i&&function iF(e,n,t){if(n){const r=e.localNames=[];for(let i=0;i<n.length;i+=2){const o=t[n[i+1]];if(null==o)throw new J(-301,!1);r.push(n[i],o)}}}(t,r,i)}t.mergedAttrs=Ba(t.mergedAttrs,t.attrs)}function Q0(e,n,t,r,i,o){for(let h=0;h<r.length;h++)Wf(Yl(t,n),e,r[h].type);!function sF(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}(t,e.data.length,r.length);for(let h=0;h<r.length;h++){const g=r[h];g.providersResolver&&g.providersResolver(g)}let s=!1,a=!1,c=du(e,n,r.length,null);for(let h=0;h<r.length;h++){const g=r[h];t.mergedAttrs=Ba(t.mergedAttrs,g.hostAttrs),aF(e,t,n,c,g),oF(c,g,i),null!==g.contentQueries&&(t.flags|=4),(null!==g.hostBindings||null!==g.hostAttrs||0!==g.hostVars)&&(t.flags|=64);const m=g.type.prototype;!s&&(m.ngOnChanges||m.ngOnInit||m.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),s=!0),!a&&(m.ngOnChanges||m.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function JP(e,n,t){const i=n.directiveEnd,o=e.data,s=n.attrs,a=[];let c=null,h=null;for(let g=n.directiveStart;g<i;g++){const m=o[g],I=t?t.get(m):null,X=I?I.outputs:null;c=J0(m.inputs,g,c,I?I.inputs:null),h=J0(m.outputs,g,h,X);const ae=null===c||null===s||cy(n)?null:cF(c,g,s);a.push(ae)}null!==c&&(c.hasOwnProperty("class")&&(n.flags|=8),c.hasOwnProperty("style")&&(n.flags|=16)),n.initialInputs=a,n.inputs=c,n.outputs=h}(e,t,o)}function Z0(e,n,t){const r=t.directiveStart,i=t.directiveEnd,o=t.index,s=function aI(){return Je.lFrame.currentDirectiveIndex}();try{xo(o);for(let a=r;a<i;a++){const c=e.data[a],h=n[a];kf(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&nF(c,h)}}finally{xo(-1),kf(s)}}function nF(e,n){null!==e.hostBindings&&e.hostBindings(1,n)}function Wh(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function oF(e,n,t){if(t){if(n.exportAs)for(let r=0;r<n.exportAs.length;r++)t[n.exportAs[r]]=e;Kr(n)&&(t[""]=e)}}function aF(e,n,t,r,i){e.data[r]=i;const o=i.factory||(i.factory=Ro(i.type)),s=new Wa(o,Kr(i),we);e.blueprint[r]=s,t[r]=s,function XP(e,n,t,r,i){const o=i.hostBindings;if(o){let s=e.hostBindingOpCodes;null===s&&(s=e.hostBindingOpCodes=[]);const a=~n.index;(function eF(e){let n=e.length;for(;n>0;){const t=e[--n];if("number"==typeof t&&t<0)return t}return 0})(s)!=a&&s.push(a),s.push(t,r,o)}}(e,n,r,du(e,t,i.hostVars,et),i)}function yi(e,n,t,r,i,o){const s=lr(e,n);!function Gh(e,n,t,r,i,o,s){if(null==o)e.removeAttribute(n,i,t);else{const a=null==s?Ee(o):s(o,r||"",i);e.setAttribute(n,i,a,t)}}(n[Xe],s,o,e.value,t,r,i)}function lF(e,n,t,r,i,o){const s=o[n];if(null!==s)for(let a=0;a<s.length;)X0(r,t,s[a++],s[a++],s[a++])}function X0(e,n,t,r,i){const o=An(null);try{const s=e.inputTransforms;null!==s&&s.hasOwnProperty(r)&&(i=s[r].call(n,i)),null!==e.setInput?e.setInput(n,i,t,r):n[r]=i}finally{An(o)}}function cF(e,n,t){let r=null,i=0;for(;i<t.length;){const o=t[i];if(0!==o)if(5!==o){if("number"==typeof o)break;if(e.hasOwnProperty(o)){null===r&&(r=[]);const s=e[o];for(let a=0;a<s.length;a+=2)if(s[a]===n){r.push(o,s[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function e_(e,n,t,r){return[e,!0,!1,n,null,0,r,t,null,null,null]}function t_(e,n){const t=e.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const o=t[r+1];if(-1!==o){const s=e.data[o];Vf(t[r]),s.contentQueries(2,n[o],o)}}}function Tc(e,n){return e[Ha]?e[my][Gr]=n:e[Ha]=n,e[my]=n,n}function Kh(e,n,t){Vf(0);const r=An(null);try{n(e,t)}finally{An(r)}}function n_(e){return e[ps]||(e[ps]=[])}function r_(e){return e.cleanup||(e.cleanup=[])}function o_(e,n){const t=e[gs],r=t?t.get(Lo,null):null;r&&r.handleError(n)}function Jh(e,n,t,r,i){for(let o=0;o<t.length;){const s=t[o++],a=t[o++];X0(e.data[s],n[s],r,a,i)}}function dF(e,n){const t=br(n,e),r=t[Me];!function fF(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}(r,t);const i=t[_n];null!==i&&null===t[ki]&&(t[ki]=b0(i,t[gs])),Yh(r,t,t[an])}function Yh(e,n,t){Bf(n);try{const r=e.viewQuery;null!==r&&Kh(1,r,t);const i=e.template;null!==i&&W0(e,n,i,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&t_(e,n),e.staticViewQueries&&Kh(2,e.viewQuery,t);const o=e.components;null!==o&&function hF(e,n){for(let t=0;t<n.length;t++)dF(e,n[t])}(n,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),r}finally{n[Ze]&=-5,Uf()}}let s_=(()=>{class e{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const o=typeof Zone>"u"?null:Zone.current,s=new LA(t,h=>{this.all.has(h)&&this.queue.set(h,o)},i);let a;this.all.add(s),s.notify();const c=()=>{s.cleanup(),a?.(),this.all.delete(s),this.queue.delete(s)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}}return e.\u0275prov=Be({token:e,providedIn:"root",factory:()=>new e}),e})();function Pc(e,n,t){let r=t?e.styles:null,i=t?e.classes:null,o=0;if(null!==n)for(let s=0;s<n.length;s++){const a=n[s];"number"==typeof a?o=a:1==o?i=ge(i,a):2==o&&(r=ge(r,a+": "+n[++s]+";"))}t?e.styles=r:e.stylesWithoutHost=r,t?e.classes=i:e.classesWithoutHost=i}function fu(e,n,t,r,i=!1){for(;null!==t;){const o=n[t.index];if(null!==o&&r.push(qt(o)),ur(o)){for(let a=qn;a<o.length;a++){const c=o[a],h=c[Me].firstChild;null!==h&&fu(c[Me],c,h,r)}o[ci]!==o[_n]&&r.push(o[ci])}const s=t.type;if(8&s)fu(e,n,t.child,r);else if(32&s){const a=ih(t,n);let c;for(;c=a();)r.push(c)}else if(16&s){const a=zv(n,t);if(Array.isArray(a))r.push(...a);else{const c=Za(n[un]);fu(c[Me],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function Fc(e,n,t,r=!0){const i=n[Fo].rendererFactory;i.begin&&i.begin();try{a_(e,n,e.template,t)}catch(s){throw r&&o_(n,s),s}finally{i.end&&i.end(),n[Fo].effectManager?.flush()}}function a_(e,n,t,r){const i=n[Ze];if(256!=(256&i)){n[Fo].effectManager?.flush(),Bf(n);try{xy(n),function Hy(e){return Je.lFrame.bindingIndex=e}(e.bindingStartIndex),null!==t&&W0(e,n,t,2,r);const s=3==(3&i);if(s){const h=e.preOrderCheckHooks;null!==h&&zl(n,h,null)}else{const h=e.preOrderHooks;null!==h&&Wl(n,h,0,null),Hf(n,0)}if(function vF(e){for(let n=Rv(e);null!==n;n=xv(n)){if(!n[vy])continue;const t=n[vs];for(let r=0;r<t.length;r++){KA(t[r])}}}(n),u_(n,2),null!==e.contentQueries&&t_(e,n),s){const h=e.contentCheckHooks;null!==h&&zl(n,h)}else{const h=e.contentHooks;null!==h&&Wl(n,h,1),Hf(n,1)}!function HP(e,n){const t=e.hostBindingOpCodes;if(null===t)return;const r=L0(n,kl);try{for(let i=0;i<t.length;i++){const o=t[i];if(o<0)xo(~o);else{const s=o,a=t[++i],c=t[++i];sI(a,s),r.runInContext(c,2,n[s])}}}finally{null===n[kl]&&V0(n,kl),xo(-1)}}(e,n);const a=e.components;null!==a&&c_(n,a,0);const c=e.viewQuery;if(null!==c&&Kh(2,c,r),s){const h=e.viewCheckHooks;null!==h&&zl(n,h)}else{const h=e.viewHooks;null!==h&&Wl(n,h,2),Hf(n,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),n[Ze]&=-73,Ny(n)}finally{Uf()}}}function u_(e,n){for(let t=Rv(e);null!==t;t=xv(t))for(let r=qn;r<t.length;r++)l_(t[r],n)}function _F(e,n,t){l_(br(n,e),t)}function l_(e,n){if(!function WA(e){return 128==(128&e[Ze])}(e))return;const t=e[Me];if(80&e[Ze]&&0===n||1024&e[Ze]||2===n)a_(t,e,t.template,e[an]);else if(e[Ua]>0){u_(e,1);const i=e[Me].components;null!==i&&c_(e,i,1)}}function c_(e,n,t){for(let r=0;r<n.length;r++)_F(e,n[r],t)}class hu{get rootNodes(){const n=this._lView,t=n[Me];return fu(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[an]}set context(n){this._lView[an]=n}get destroyed(){return 256==(256&this._lView[Ze])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const n=this._lView[Qt];if(ur(n)){const t=n[8],r=t?t.indexOf(this):-1;r>-1&&(sh(n,r),Xl(t,r))}this._attachedToViewContainer=!1}Lv(this._lView[Me],this._lView)}onDestroy(n){!function ky(e,n){if(256==(256&e[Ze]))throw new J(911,!1);null===e[eo]&&(e[eo]=[]),e[eo].push(n)}(this._lView,n)}markForCheck(){cu(this._cdRefInjectingView||this._lView)}detach(){this._lView[Ze]&=-129}reattach(){this._lView[Ze]|=128}detectChanges(){Fc(this._lView[Me],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function vT(e,n){eu(e,n,n[Xe],2,null,null)}(this._lView[Me],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=n}}class wF extends hu{constructor(n){super(n),this._view=n}detectChanges(){const n=this._view;Fc(n[Me],n,n[an],!1)}checkNoChanges(){}get context(){return null}}class d_ extends Cc{constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){const t=vt(n);return new pu(t,this.ngModule)}}function f_(e){const n=[];for(let t in e)e.hasOwnProperty(t)&&n.push({propName:e[t],templateName:t});return n}class SF{constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,r){r=Ml(r);const i=this.injector.get(n,Vh,r);return i!==Vh||t===Vh?i:this.parentInjector.get(n,t,r)}}class pu extends A0{get inputs(){const n=this.componentDef,t=n.inputTransforms,r=f_(n.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return f_(this.componentDef.outputs)}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=function vA(e){return e.map(yA).join(",")}(n.selectors),this.ngContentSelectors=n.ngContentSelectors?n.ngContentSelectors:[],this.isBoundToModule=!!t}create(n,t,r,i){let o=(i=i||this.ngModule)instanceof gi?i:i?.injector;o&&null!==this.componentDef.getStandaloneInjector&&(o=this.componentDef.getStandaloneInjector(o)||o);const s=o?new SF(n,o):n,a=s.get(uu,null);if(null===a)throw new J(407,!1);const g={rendererFactory:a,sanitizer:s.get(AP,null),effectManager:s.get(s_,null)},m=a.createRenderer(null,this.componentDef),I=this.componentDef.selectors[0][0]||"div",O=r?function $P(e,n,t,r){const o=r.get(F0,!1)||t===xr.ShadowDom,s=e.selectRootElement(n,o);return function qP(e){K0(e)}(s),s}(m,r,this.componentDef.encapsulation,s):cc(m,I,function EF(e){const n=e.toLowerCase();return"svg"===n?"svg":"math"===n?"math":null}(I)),pe=this.componentDef.signals?4608:this.componentDef.onPush?576:528,_e=qh(0,null,null,1,0,null,null,null,null,null,null),he=Ic(null,_e,null,pe,null,null,g,m,s,null,null);let Ae,Le;Bf(he);try{const We=this.componentDef;let Et,dn=null;We.findHostDirectiveDefs?(Et=[],dn=new Map,We.findHostDirectiveDefs(We,Et,dn),Et.push(We)):Et=[We];const Ur=function CF(e,n){const t=e[Me],r=at;return e[r]=n,js(t,r,2,"#host",null)}(he,O),si=function DF(e,n,t,r,i,o,s){const a=i[Me];!function AF(e,n,t,r){for(const i of e)n.mergedAttrs=Ba(n.mergedAttrs,i.hostAttrs);null!==n.mergedAttrs&&(Pc(n,n.mergedAttrs,!0),null!==t&&Jv(r,t,n))}(r,e,n,s);let c=null;null!==n&&(c=b0(n,i[gs]));const h=o.rendererFactory.createRenderer(n,t);let g=16;t.signals?g=4096:t.onPush&&(g=64);const m=Ic(i,G0(t),null,g,i[e.index],e,o,h,null,null,c);return a.firstCreatePass&&Wh(a,e,r.length-1),Tc(i,m),i[e.index]=m}(Ur,O,We,Et,he,g,m);Le=Ry(_e,at),O&&function TF(e,n,t,r){if(r)Df(e,t,["ng-version",IP.full]);else{const{attrs:i,classes:o}=function _A(e){const n=[],t=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&n.push(o,e[++r]):8===i&&t.push(o);else{if(!Wr(i))break;i=o}r++}return{attrs:n,classes:t}}(n.selectors[0]);i&&Df(e,t,i),o&&o.length>0&&Kv(e,t,o.join(" "))}}(m,We,O,r),void 0!==t&&function PF(e,n,t){const r=e.projection=[];for(let i=0;i<n.length;i++){const o=t[i];r.push(null!=o?Array.from(o):null)}}(Le,this.ngContentSelectors,t),Ae=function IF(e,n,t,r,i,o){const s=Rn(),a=i[Me],c=lr(s,i);Q0(a,i,s,t,null,r);for(let g=0;g<t.length;g++)zn(No(i,a,s.directiveStart+g,s),i);Z0(a,i,s),c&&zn(c,i);const h=No(i,a,s.directiveStart+s.componentOffset,s);if(e[an]=i[an]=h,null!==o)for(const g of o)g(h,n);return Hh(a,s,e),h}(si,We,Et,dn,he,[FF]),Yh(_e,he,null)}finally{Uf()}return new bF(this.componentType,Ae,Us(Le,he),he,Le)}}class bF extends wP{constructor(n,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new wF(i),this.componentType=n}setInput(n,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[n])){if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;const o=this._rootLView;Jh(o[Me],o,i,n,t),this.previousInputValues.set(n,t),cu(br(this._tNode.index,o))}}get injector(){return new As(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}}function FF(){const e=Rn();ql(Se()[Me],e)}function ft(e){let n=function h_(e){return Object.getPrototypeOf(e.prototype).constructor}(e.type),t=!0;const r=[e];for(;n;){let i;if(Kr(e))i=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new J(903,!1);i=n.\u0275dir}if(i){if(t){r.push(i);const s=e;s.inputs=Mc(e.inputs),s.inputTransforms=Mc(e.inputTransforms),s.declaredInputs=Mc(e.declaredInputs),s.outputs=Mc(e.outputs);const a=i.hostBindings;a&&NF(e,a);const c=i.viewQuery,h=i.contentQueries;if(c&&RF(e,c),h&&xF(e,h),ue(e.inputs,i.inputs),ue(e.declaredInputs,i.declaredInputs),ue(e.outputs,i.outputs),null!==i.inputTransforms&&(null===s.inputTransforms&&(s.inputTransforms={}),ue(s.inputTransforms,i.inputTransforms)),Kr(i)&&i.data.animation){const g=e.data;g.animation=(g.animation||[]).concat(i.data.animation)}}const o=i.features;if(o)for(let s=0;s<o.length;s++){const a=o[s];a&&a.ngInherit&&a(e),a===ft&&(t=!1)}}n=Object.getPrototypeOf(n)}!function MF(e){let n=0,t=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=n+=i.hostVars,i.hostAttrs=Ba(i.hostAttrs,t=Ba(t,i.hostAttrs))}}(r)}function Mc(e){return e===ui?{}:e===mt?[]:e}function RF(e,n){const t=e.viewQuery;e.viewQuery=t?(r,i)=>{n(r,i),t(r,i)}:n}function xF(e,n){const t=e.contentQueries;e.contentQueries=t?(r,i,o)=>{n(r,i,o),t(r,i,o)}:n}function NF(e,n){const t=e.hostBindings;e.hostBindings=t?(r,i)=>{n(r,i),t(r,i)}:n}function y_(e){const n=e.inputConfig,t={};for(const r in n)if(n.hasOwnProperty(r)){const i=n[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}e.inputTransforms=t}function Rc(e){return!!Qh(e)&&(Array.isArray(e)||!(e instanceof Map)&&Symbol.iterator in e)}function Qh(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function vi(e,n,t){return e[n]=t}function Wn(e,n,t){return!Object.is(e[n],t)&&(e[n]=t,!0)}function Vo(e,n,t,r){const i=Wn(e,n,t);return Wn(e,n+1,r)||i}function gn(e,n,t,r){const i=Se();return Wn(i,bs(),n)&&(dt(),yi(Zt(),i,e,n,t,r)),gn}function In(e,n,t,r,i,o,s,a){const c=Se(),h=dt(),g=e+at,m=h.firstCreatePass?function oM(e,n,t,r,i,o,s,a,c){const h=n.consts,g=js(n,e,4,s||null,to(h,a));zh(n,t,g,to(h,c)),ql(n,g);const m=g.tView=qh(2,g,r,i,o,n.directiveRegistry,n.pipeRegistry,null,n.schemas,h,null);return null!==n.queries&&(n.queries.template(n,g),m.queries=n.queries.embeddedTView(g)),g}(g,h,c,n,t,r,i,o,s):h.data[g];hi(m,!1);const I=F_(h,c,m,e);$l()&&fc(h,c,I,m),zn(I,c),Tc(c,c[g]=e_(I,c,I,m)),Vl(m)&&jh(h,c,m),null!=s&&$h(c,m,a)}let F_=function M_(e,n,t,r){return no(!0),n[Xe].createComment("")};function it(e,n,t){const r=Se();return Wn(r,bs(),n)&&function Dr(e,n,t,r,i,o,s,a){const c=lr(n,t);let g,h=n.inputs;!a&&null!=h&&(g=h[r])?(Jh(e,t,g,r,i),Mo(n)&&function QP(e,n){const t=br(n,e);16&t[Ze]||(t[Ze]|=64)}(t,n.index)):3&n.type&&(r=function YP(e){return"class"===e?"className":"for"===e?"htmlFor":"formaction"===e?"formAction":"innerHtml"===e?"innerHTML":"readonly"===e?"readOnly":"tabindex"===e?"tabIndex":e}(r),i=null!=s?s(i,n.value||"",r):i,o.setProperty(c,r,i))}(dt(),Zt(),r,e,n,r[Xe],t,!1),it}function rp(e,n,t,r,i){const s=i?"class":"style";Jh(e,t,n.inputs[s],s,r)}function Re(e,n,t,r){const i=Se(),o=dt(),s=at+e,a=i[Xe],c=o.firstCreatePass?function cM(e,n,t,r,i,o){const s=n.consts,c=js(n,e,2,r,to(s,i));return zh(n,t,c,to(s,o)),null!==c.attrs&&Pc(c,c.attrs,!1),null!==c.mergedAttrs&&Pc(c,c.mergedAttrs,!0),null!==n.queries&&n.queries.elementStart(n,c),c}(s,o,i,n,t,r):o.data[s],h=R_(o,i,c,a,n,e);i[s]=h;const g=Vl(c);return hi(c,!0),Jv(a,h,c),32!=(32&c.flags)&&$l()&&fc(o,i,h,c),0===function YA(){return Je.lFrame.elementDepthCount}()&&zn(h,i),function QA(){Je.lFrame.elementDepthCount++}(),g&&(jh(o,i,c),Hh(o,c,i)),null!==r&&$h(i,c),Re}function Te(){let e=Rn();Nf()?Of():(e=e.parent,hi(e,!1));const n=e;(function XA(e){return Je.skipHydrationRootTNode===e})(n)&&function rI(){Je.skipHydrationRootTNode=null}(),function ZA(){Je.lFrame.elementDepthCount--}();const t=dt();return t.firstCreatePass&&(ql(t,e),If(e)&&t.queries.elementEnd(e)),null!=n.classesWithoutHost&&function yI(e){return 0!=(8&e.flags)}(n)&&rp(t,n,Se(),n.classesWithoutHost,!0),null!=n.stylesWithoutHost&&function vI(e){return 0!=(16&e.flags)}(n)&&rp(t,n,Se(),n.stylesWithoutHost,!1),Te}function Xt(e,n,t,r){return Re(e,n,t,r),Te(),Xt}let R_=(e,n,t,r,i,o)=>(no(!0),cc(r,i,function Jy(){return Je.lFrame.currentNamespace}()));function _u(e,n,t){const r=Se(),i=dt(),o=e+at,s=i.firstCreatePass?function hM(e,n,t,r,i){const o=n.consts,s=to(o,r),a=js(n,e,8,"ng-container",s);return null!==s&&Pc(a,s,!0),zh(n,t,a,to(o,i)),null!==n.queries&&n.queries.elementStart(n,a),a}(o,i,r,n,t):i.data[o];hi(s,!0);const a=x_(i,r,s,e);return r[o]=a,$l()&&fc(i,r,a,s),zn(a,r),Vl(s)&&(jh(i,r,s),Hh(i,s,r)),null!=t&&$h(r,s),_u}function wu(){let e=Rn();const n=dt();return Nf()?Of():(e=e.parent,hi(e,!1)),n.firstCreatePass&&(ql(n,e),If(e)&&n.queries.elementEnd(e)),wu}function ip(e,n,t){return _u(e,n,t),wu(),ip}let x_=(e,n,t,r)=>(no(!0),oh(n[Xe],""));function op(){return Se()}function Eu(e){return!!e&&"function"==typeof e.then}function N_(e){return!!e&&"function"==typeof e.subscribe}function xn(e,n,t,r){const i=Se(),o=dt(),s=Rn();return function k_(e,n,t,r,i,o,s){const a=Vl(r),h=e.firstCreatePass&&r_(e),g=n[an],m=n_(n);let I=!0;if(3&r.type||s){const ae=lr(r,n),pe=s?s(ae):ae,_e=m.length,he=s?Le=>s(qt(Le[r.index])):r.index;let Ae=null;if(!s&&a&&(Ae=function mM(e,n,t,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const s=i[o];if(s===t&&i[o+1]===r){const a=n[ps],c=i[o+2];return a.length>c?a[c]:null}"string"==typeof s&&(o+=2)}return null}(e,n,i,r.index)),null!==Ae)(Ae.__ngLastListenerFn__||Ae).__ngNextListenerFn__=o,Ae.__ngLastListenerFn__=o,I=!1;else{o=V_(r,n,g,o,!1);const Le=t.listen(pe,i,o);m.push(o,Le),h&&h.push(i,he,_e,_e+1)}}else o=V_(r,n,g,o,!1);const O=r.outputs;let X;if(I&&null!==O&&(X=O[i])){const ae=X.length;if(ae)for(let pe=0;pe<ae;pe+=2){const We=n[X[pe]][X[pe+1]].subscribe(o),Et=m.length;m.push(o,We),h&&h.push(i,r.index,Et,-(Et+1))}}}(o,i,i[Xe],s,e,n,r),xn}function L_(e,n,t,r){try{return fi(6,n,t),!1!==t(r)}catch(i){return o_(e,i),!1}finally{fi(7,n,t)}}function V_(e,n,t,r,i){return function o(s){if(s===Function)return r;cu(e.componentOffset>-1?br(e.index,n):n);let c=L_(n,t,r,s),h=o.__ngNextListenerFn__;for(;h;)c=L_(n,t,h,s)&&c,h=h.__ngNextListenerFn__;return i&&!1===c&&s.preventDefault(),c}}function fr(e=1){return function lI(e){return(Je.lFrame.contextLView=function cI(e,n){for(;e>0;)n=n[ms],e--;return n}(e,Je.lFrame.contextLView))[an]}(e)}function yM(e,n){let t=null;const r=function hA(e){const n=e.attrs;if(null!=n){const t=n.indexOf(5);if(!(1&t))return n[t+1]}return null}(e);for(let i=0;i<n.length;i++){const o=n[i];if("*"!==o){if(null===r?dy(e,o,!0):mA(r,o))return i}else t=i}return t}function Lc(e,n){return e<<17|n<<2}function so(e){return e>>17&32767}function ap(e){return 2|e}function Bo(e){return(131068&e)>>2}function up(e,n){return-131069&e|n<<2}function lp(e){return 1|e}function Y_(e,n,t,r,i){const o=e[t+1],s=null===n;let a=r?so(o):Bo(o),c=!1;for(;0!==a&&(!1===c||s);){const g=e[a+1];bM(e[a],n)&&(c=!0,e[a+1]=r?lp(g):ap(g)),a=r?so(g):Bo(g)}c&&(e[t+1]=r?ap(o):lp(o))}function bM(e,n){return null===e||null==n||(Array.isArray(e)?e[1]:e)===n||!(!Array.isArray(e)||"string"!=typeof n)&&Rs(e,n)>=0}const En={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Q_(e){return e.substring(En.key,En.keyEnd)}function Z_(e,n){const t=En.textEnd;return t===n?-1:(n=En.keyEnd=function IM(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}(e,En.key=n,t),Zs(e,n,t))}function Zs(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function wi(e){!function Qr(e,n,t,r){const i=dt(),o=function Vi(e){const n=Je.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}(2);i.firstUpdatePass&&function ow(e,n,t,r){const i=e.data;if(null===i[t+1]){const o=i[Xn()],s=iw(e,t);lw(o,r)&&null===n&&!s&&(n=!1),n=function MM(e,n,t,r){const i=function Lf(e){const n=Je.lFrame.currentDirectiveIndex;return-1===n?null:e[n]}(e);let o=r?n.residualClasses:n.residualStyles;if(null===i)0===(r?n.classBindings:n.styleBindings)&&(t=Su(t=cp(null,e,n,t,r),n.attrs,r),o=null);else{const s=n.directiveStylingLast;if(-1===s||e[s]!==i)if(t=cp(i,e,n,t,r),null===o){let c=function RM(e,n,t){const r=t?n.classBindings:n.styleBindings;if(0!==Bo(r))return e[so(r)]}(e,n,r);void 0!==c&&Array.isArray(c)&&(c=cp(null,e,n,c[1],r),c=Su(c,n.attrs,r),function xM(e,n,t,r){e[so(t?n.classBindings:n.styleBindings)]=r}(e,n,r,c))}else o=function NM(e,n,t){let r;const i=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<i;o++)r=Su(r,e[o].hostAttrs,t);return Su(r,n.attrs,t)}(e,n,r)}return void 0!==o&&(r?n.residualClasses=o:n.residualStyles=o),t}(i,o,n,r),function EM(e,n,t,r,i,o){let s=o?n.classBindings:n.styleBindings,a=so(s),c=Bo(s);e[r]=t;let g,h=!1;if(Array.isArray(t)?(g=t[1],(null===g||Rs(t,g)>0)&&(h=!0)):g=t,i)if(0!==c){const I=so(e[a+1]);e[r+1]=Lc(I,a),0!==I&&(e[I+1]=up(e[I+1],r)),e[a+1]=function _M(e,n){return 131071&e|n<<17}(e[a+1],r)}else e[r+1]=Lc(a,0),0!==a&&(e[a+1]=up(e[a+1],r)),a=r;else e[r+1]=Lc(c,0),0===a?a=r:e[c+1]=up(e[c+1],r),c=r;h&&(e[r+1]=ap(e[r+1])),Y_(e,g,r,!0),Y_(e,g,r,!1),function SM(e,n,t,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof n&&Rs(o,n)>=0&&(t[r+1]=lp(t[r+1]))}(n,g,e,r,o),s=Lc(a,c),o?n.classBindings=s:n.styleBindings=s}(i,o,n,t,s,r)}}(i,null,o,r);const s=Se();if(t!==et&&Wn(s,o,t)){const a=i.data[Xn()];if(lw(a,r)&&!iw(i,o)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=ge(c,t||"")),rp(i,a,s,t,r)}else!function LM(e,n,t,r,i,o,s,a){i===et&&(i=mt);let c=0,h=0,g=0<i.length?i[0]:null,m=0<o.length?o[0]:null;for(;null!==g||null!==m;){const I=c<i.length?i[c+1]:void 0,O=h<o.length?o[h+1]:void 0;let ae,X=null;g===m?(c+=2,h+=2,I!==O&&(X=m,ae=O)):null===m||null!==g&&g<m?(c+=2,X=g):(h+=2,X=m,ae=O),null!==X&&aw(e,n,t,r,X,ae,s,a),g=c<i.length?i[c]:null,m=h<o.length?o[h]:null}}(i,a,s,s[Xe],s[o+1],s[o+1]=function OM(e,n,t){if(null==t||""===t)return mt;const r=[],i=io(t);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&n(r,i);return r}(e,n,t),r,o)}}(kM,Ei,e,!0)}function Ei(e,n){for(let t=function DM(e){return function ew(e){En.key=0,En.keyEnd=0,En.value=0,En.valueEnd=0,En.textEnd=e.length}(e),Z_(e,Zs(e,0,En.textEnd))}(n);t>=0;t=Z_(n,t))Cr(e,Q_(n),!0)}function iw(e,n){return n>=e.expandoStartIndex}function cp(e,n,t,r,i){let o=null;const s=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<s&&(o=n[a],r=Su(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(t.directiveStylingLast=a),r}function Su(e,n,t){const r=t?1:2;let i=-1;if(null!==n)for(let o=0;o<n.length;o++){const s=n[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),Cr(e,s,!!t||n[++o]))}return void 0===e?null:e}function kM(e,n,t){const r=String(n);""!==r&&!r.includes(" ")&&Cr(e,r,t)}function aw(e,n,t,r,i,o,s,a){if(!(3&n.type))return;const c=e.data,h=c[a+1],g=function wM(e){return 1==(1&e)}(h)?uw(c,n,t,i,Bo(h),s):void 0;Bc(g)||(Bc(o)||function vM(e){return 2==(2&e)}(h)&&(o=uw(c,null,t,i,a,s)),function TT(e,n,t,r,i){if(n)i?e.addClass(t,r):e.removeClass(t,r);else{let o=-1===r.indexOf("-")?void 0:ro.DashCase;null==i?e.removeStyle(t,r,o):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=ro.Important),e.setStyle(t,r,i,o))}}(r,s,jl(Xn(),t),i,o))}function uw(e,n,t,r,i,o){const s=null===n;let a;for(;i>0;){const c=e[i],h=Array.isArray(c),g=h?c[1]:c,m=null===g;let I=t[i+1];I===et&&(I=m?mt:void 0);let O=m?Jf(I,r):g===r?I:void 0;if(h&&!Bc(O)&&(O=Jf(c,r)),Bc(O)&&(a=O,s))return a;const X=e[i+1];i=s?so(X):Bo(X)}if(null!==n){let c=o?n.residualClasses:n.residualStyles;null!=c&&(a=Jf(c,r))}return a}function Bc(e){return void 0!==e}function lw(e,n){return 0!=(e.flags&(n?8:16))}function Ve(e,n=""){const t=Se(),r=dt(),i=e+at,o=r.firstCreatePass?js(r,i,1,n,null):r.data[i],s=cw(r,t,o,n,e);t[i]=s,$l()&&fc(r,t,s,o),hi(o,!1)}let cw=(e,n,t,r,i)=>(no(!0),function lc(e,n){return e.createText(n)}(n[Xe],r));function Zr(e){return Uc("",e,""),Zr}function Uc(e,n,t){const r=Se(),i=function qs(e,n,t,r){return Wn(e,bs(),t)?n+Ee(t)+r:et}(r,e,n,t);return i!==et&&function Hi(e,n,t){const r=jl(n,e);!function Ov(e,n,t){e.setValue(n,t)}(e[Xe],r,t)}(r,Xn(),i),Uc}const ea="en-US";let Rw=ea;class ta{}class iE{}class yp extends ta{constructor(n,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new d_(this);const i=Er(n);this._bootstrapComponents=Ui(i.bootstrap),this._r3Injector=q0(n,t,[{provide:ta,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver},...r],ce(n),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(n)}get injector(){return this._r3Injector}destroy(){const n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}}class vp extends iE{constructor(n){super(),this.moduleType=n}create(n){return new yp(this.moduleType,n,[])}}class oE extends ta{constructor(n){super(),this.componentFactoryResolver=new d_(this),this.instance=null;const t=new Dh([...n.providers,{provide:ta,useValue:this},{provide:Cc,useValue:this.componentFactoryResolver}],n.parent||vc(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}}function _p(e,n,t=null){return new oE({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}let ax=(()=>{class e{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=h0(0,t.type),i=r.length>0?_p([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}}return e.\u0275prov=Be({token:e,providedIn:"environment",factory:()=>new e(Fe(gi))}),e})();function ao(e){e.getStandaloneInjector=n=>n.get(ax).getOrCreateStandaloneInjector(e)}function pr(e,n,t){const r=Zn()+e,i=Se();return i[r]===et?vi(i,r,t?n.call(t):n()):function gu(e,n){return e[n]}(i,r)}function Tu(e,n,t,r){return hE(Se(),Zn(),e,n,t,r)}function fE(e,n,t,r,i,o,s){return function mE(e,n,t,r,i,o,s,a,c){const h=n+t;return function kr(e,n,t,r,i,o){const s=Vo(e,n,t,r);return Vo(e,n+2,i,o)||s}(e,h,i,o,s,a)?vi(e,h+4,c?r.call(c,i,o,s,a):r(i,o,s,a)):Pu(e,h+4)}(Se(),Zn(),e,n,t,r,i,o,s)}function Pu(e,n){const t=e[n];return t===et?void 0:t}function hE(e,n,t,r,i,o){const s=n+t;return Wn(e,s,i)?vi(e,s+1,o?r.call(o,i):r(i)):Pu(e,s+1)}function na(e,n){const t=dt();let r;const i=e+at;t.firstCreatePass?(r=function bx(e,n){if(n)for(let t=n.length-1;t>=0;t--){const r=n[t];if(e===r.name)return r}}(n,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];const o=r.factory||(r.factory=Ro(r.type)),s=or(we);try{const a=Jl(!1),c=o();return Jl(a),function uM(e,n,t,r){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=r}(t,Se(),i,c),c}finally{or(s)}}function ra(e,n,t){const r=e+at,i=Se(),o=function _s(e,n){return e[n]}(i,r);return function Fu(e,n){return e[Me].data[n].pure}(i,r)?hE(i,Zn(),n,o.transform,t,o):o.transform(t)}function Ep(e){return n=>{setTimeout(e,void 0,n)}}const Gt=class Tx extends Lt{constructor(n=!1){super(),this.__isAsync=n}emit(n){super.next(n)}subscribe(n,t,r){let i=n,o=t||(()=>null),s=r;if(n&&"object"==typeof n){const c=n;i=c.next?.bind(c),o=c.error?.bind(c),s=c.complete?.bind(c)}this.__isAsync&&(o=Ep(o),i&&(i=Ep(i)),s&&(s=Ep(s)));const a=super.subscribe({next:i,error:o,complete:s});return n instanceof M&&n.add(a),a}};function Px(){return this._results[Symbol.iterator]()}class Sp{get changes(){return this._changes||(this._changes=new Gt)}constructor(n=!1){this._emitDistinctChangesOnly=n,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Sp.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=Px)}get(n){return this._results[n]}map(n){return this._results.map(n)}filter(n){return this._results.filter(n)}find(n){return this._results.find(n)}reduce(n,t){return this._results.reduce(n,t)}forEach(n){this._results.forEach(n)}some(n){return this._results.some(n)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(n,t){const r=this;r.dirty=!1;const i=function Or(e){return e.flat(Number.POSITIVE_INFINITY)}(n);(this._changesDetected=!function MI(e,n,t){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=n[r];if(t&&(i=t(i),o=t(o)),o!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Si=(()=>{class e{}return e.__NG_ELEMENT_ID__=Rx,e})();const Fx=Si,Mx=class extends Fx{constructor(n,t,r){super(),this._declarationLView=n,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(n,t){return this.createEmbeddedViewImpl(n,t,null)}createEmbeddedViewImpl(n,t,r){const s=this._declarationTContainer.tView,a=Ic(this._declarationLView,s,n,4096&this._declarationLView[Ze]?4096:16,null,s.declTNode,null,null,null,t||null,r||null);a[ja]=this._declarationLView[this._declarationTContainer.index];const h=this._declarationLView[li];return null!==h&&(a[li]=h.createEmbeddedView(s)),Yh(s,a,n),new hu(a)}};function Rx(){return zc(Rn(),Se())}function zc(e,n){return 4&e.type?new Mx(n,e,Us(e,n)):null}let Xr=(()=>{class e{}return e.__NG_ELEMENT_ID__=Bx,e})();function Bx(){return bE(Rn(),Se())}const Ux=Xr,EE=class extends Ux{constructor(n,t,r){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=r}get element(){return Us(this._hostTNode,this._hostLView)}get injector(){return new As(this._hostTNode,this._hostLView)}get parentInjector(){const n=zf(this._hostTNode,this._hostLView);if(Xy(n)){const t=Kl(n,this._hostLView),r=Gl(n);return new As(t[Me].data[r+8],t)}return new As(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){const t=SE(this._lContainer);return null!==t&&t[n]||null}get length(){return this._lContainer.length-qn}createEmbeddedView(n,t,r){let i,o;"number"==typeof r?i=r:null!=r&&(i=r.index,o=r.injector);const a=n.createEmbeddedViewImpl(t||{},o,null);return this.insertImpl(a,i,false),a}createComponent(n,t,r,i,o){const s=n&&!function Ga(e){return"function"==typeof e}(n);let a;if(s)a=t;else{const ae=t||{};a=ae.index,r=ae.injector,i=ae.projectableNodes,o=ae.environmentInjector||ae.ngModuleRef}const c=s?n:new pu(vt(n)),h=r||this.parentInjector;if(!o&&null==c.ngModule){const pe=(s?h:this.parentInjector).get(gi,null);pe&&(o=pe)}vt(c.componentType??{});const O=c.create(h,i,null,o);return this.insertImpl(O.hostView,a,false),O}insert(n,t){return this.insertImpl(n,t,!1)}insertImpl(n,t,r){const i=n._lView,o=i[Me];if(function GA(e){return ur(e[Qt])}(i)){const c=this.indexOf(n);if(-1!==c)this.detach(c);else{const h=i[Qt],g=new EE(h,h[$n],h[Qt]);g.detach(g.indexOf(n))}}const s=this._adjustIndex(t),a=this._lContainer;if(function wT(e,n,t,r){const i=qn+r,o=t.length;r>0&&(t[i-1][Gr]=n),r<o-qn?(n[Gr]=t[i],dv(t,qn+r,n)):(t.push(n),n[Gr]=null),n[Qt]=t;const s=n[ja];null!==s&&t!==s&&function ET(e,n){const t=e[vs];n[un]!==n[Qt][Qt][un]&&(e[vy]=!0),null===t?e[vs]=[n]:t.push(n)}(s,n);const a=n[li];null!==a&&a.insertView(e),n[Ze]|=128}(o,i,a,s),!r){const c=ch(s,a),h=i[Xe],g=dc(h,a[ci]);null!==g&&function yT(e,n,t,r,i,o){r[_n]=i,r[$n]=n,eu(e,r,t,1,i,o)}(o,a[$n],h,i,g,c)}return n.attachToViewContainerRef(),dv(Cp(a),s,n),n}move(n,t){return this.insert(n,t)}indexOf(n){const t=SE(this._lContainer);return null!==t?t.indexOf(n):-1}remove(n){const t=this._adjustIndex(n,-1),r=sh(this._lContainer,t);r&&(Xl(Cp(this._lContainer),t),Lv(r[Me],r))}detach(n){const t=this._adjustIndex(n,-1),r=sh(this._lContainer,t);return r&&null!=Xl(Cp(this._lContainer),t)?new hu(r):null}_adjustIndex(n,t=0){return n??this.length+t}};function SE(e){return e[8]}function Cp(e){return e[8]||(e[8]=[])}function bE(e,n){let t;const r=n[e.index];return ur(r)?t=r:(t=e_(r,n,null,e),n[e.index]=t,Tc(n,t)),CE(t,n,e,r),new EE(t,e,n)}let CE=function DE(e,n,t,r){if(e[ci])return;let i;i=8&t.type?qt(r):function Hx(e,n){const t=e[Xe],r=t.createComment(""),i=lr(n,e);return Oo(t,dc(t,i),r,function DT(e,n){return e.nextSibling(n)}(t,i),!1),r}(n,t),e[ci]=i};class Dp{constructor(n){this.queryList=n,this.matches=null}clone(){return new Dp(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ap{constructor(n=[]){this.queries=n}createEmbeddedView(n){const t=n.queries;if(null!==t){const r=null!==n.contentQueries?n.contentQueries[0]:t.length,i=[];for(let o=0;o<r;o++){const s=t.getByIndex(o);i.push(this.queries[s.indexInDeclarationView].clone())}return new Ap(i)}return null}insertView(n){this.dirtyQueriesWithMatches(n)}detachView(n){this.dirtyQueriesWithMatches(n)}dirtyQueriesWithMatches(n){for(let t=0;t<this.queries.length;t++)null!==FE(n,t).matches&&this.queries[t].setDirty()}}class AE{constructor(n,t,r=null){this.predicate=n,this.flags=t,this.read=r}}class Ip{constructor(n=[]){this.queries=n}elementStart(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(n,t)}elementEnd(n){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(n)}embeddedTView(n){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,o=this.getByIndex(r).embeddedTView(n,i);o&&(o.indexInDeclarationView=r,null!==t?t.push(o):t=[o])}return null!==t?new Ip(t):null}template(n,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(n,t)}getByIndex(n){return this.queries[n]}get length(){return this.queries.length}track(n){this.queries.push(n)}}class Tp{constructor(n,t=-1){this.metadata=n,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(n,t){this.isApplyingToNode(t)&&this.matchTNode(n,t)}elementEnd(n){this._declarationNodeIndex===n.index&&(this._appliesToNextNode=!1)}template(n,t){this.elementStart(n,t)}embeddedTView(n,t){return this.isApplyingToNode(n)?(this.crossesNgTemplate=!0,this.addMatch(-n.index,t),new Tp(this.metadata)):null}isApplyingToNode(n){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=n.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(n,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const o=r[i];this.matchTNodeWithReadOption(n,t,qx(t,o)),this.matchTNodeWithReadOption(n,t,Ql(t,n,o,!1,!1))}else r===Si?4&t.type&&this.matchTNodeWithReadOption(n,t,-1):this.matchTNodeWithReadOption(n,t,Ql(t,n,r,!1,!1))}matchTNodeWithReadOption(n,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===dr||i===Xr||i===Si&&4&t.type)this.addMatch(t.index,-2);else{const o=Ql(t,n,i,!1,!1);null!==o&&this.addMatch(t.index,o)}else this.addMatch(t.index,r)}}addMatch(n,t){null===this.matches?this.matches=[n,t]:this.matches.push(n,t)}}function qx(e,n){const t=e.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===n)return t[r+1];return null}function Wx(e,n,t,r){return-1===t?function zx(e,n){return 11&e.type?Us(e,n):4&e.type?zc(e,n):null}(n,e):-2===t?function Gx(e,n,t){return t===dr?Us(n,e):t===Si?zc(n,e):t===Xr?bE(n,e):void 0}(e,n,r):No(e,e[Me],t,n)}function IE(e,n,t,r){const i=n[li].queries[r];if(null===i.matches){const o=e.data,s=t.matches,a=[];for(let c=0;c<s.length;c+=2){const h=s[c];a.push(h<0?null:Wx(n,o[h],s[c+1],t.metadata.read))}i.matches=a}return i.matches}function Pp(e,n,t,r){const i=e.queries.getByIndex(t),o=i.matches;if(null!==o){const s=IE(e,n,i,t);for(let a=0;a<o.length;a+=2){const c=o[a];if(c>0)r.push(s[a/2]);else{const h=o[a+1],g=n[-c];for(let m=qn;m<g.length;m++){const I=g[m];I[ja]===I[Qt]&&Pp(I[Me],I,h,r)}if(null!==g[vs]){const m=g[vs];for(let I=0;I<m.length;I++){const O=m[I];Pp(O[Me],O,h,r)}}}}}return r}function Mu(e){const n=Se(),t=dt(),r=$y();Vf(r+1);const i=FE(t,r);if(e.dirty&&function zA(e){return 4==(4&e[Ze])}(n)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Pp(t,n,r,[]):IE(t,n,i,r);e.reset(o,CP),e.notifyOnChanges()}return!0}return!1}function Fp(e,n,t){const r=dt();r.firstCreatePass&&(PE(r,new AE(e,n,t),-1),2==(2&n)&&(r.staticViewQueries=!0)),TE(r,Se(),n)}function Mp(e,n,t,r){const i=dt();if(i.firstCreatePass){const o=Rn();PE(i,new AE(n,t,r),o.index),function Jx(e,n){const t=e.contentQueries||(e.contentQueries=[]);n!==(t.length?t[t.length-1]:-1)&&t.push(e.queries.length-1,n)}(i,e),2==(2&t)&&(i.staticContentQueries=!0)}TE(i,Se(),t)}function Ru(){return function Kx(e,n){return e[li].queries[n].queryList}(Se(),$y())}function TE(e,n,t){const r=new Sp(4==(4&t));(function GP(e,n,t,r){const i=n_(n);i.push(t),e.firstCreatePass&&r_(e).push(r,i.length-1)})(e,n,r,r.destroy),null===n[li]&&(n[li]=new Ap),n[li].queries.push(new Dp(r))}function PE(e,n,t){null===e.queries&&(e.queries=new Ip),e.queries.track(new Tp(n,t))}function FE(e,n){return e.queries.getByIndex(n)}const Lp=new ke("Application Initializer");let Vp=(()=>{class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=Ne(Lp,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const o=i();if(Eu(o))t.push(o);else if(N_(o)){const s=new Promise((a,c)=>{o.subscribe({complete:a,error:c})});t.push(s)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),GE=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();const ji=new ke("LocaleId",{providedIn:"root",factory:()=>Ne(ji,rt.Optional|rt.SkipSelf)||function y2(){return typeof $localize<"u"&&$localize.locale||ea}()});let Gc=(()=>{class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new At(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class w2{constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}}let KE=(()=>{class e{compileModuleSync(t){return new vp(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),o=Ui(Er(t).declarations).reduce((s,a)=>{const c=vt(a);return c&&s.push(new pu(c)),s},[]);return new w2(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function QE(...e){}class Nt{constructor({enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Gt(!1),this.onMicrotaskEmpty=new Gt(!1),this.onStable=new Gt(!1),this.onError=new Gt(!1),typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function b2(){const e="function"==typeof xt.requestAnimationFrame;let n=xt[e?"requestAnimationFrame":"setTimeout"],t=xt[e?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&n&&t){const r=n[Zone.__symbol__("OriginalDelegate")];r&&(n=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function A2(e){const n=()=>{!function D2(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(xt,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Up(e),e.isCheckStableRunning=!0,Bp(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Up(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,o,s,a)=>{try{return ZE(e),t.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&n(),XE(e)}},onInvoke:(t,r,i,o,s,a,c)=>{try{return ZE(e),t.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&n(),XE(e)}},onHasTask:(t,r,i,o)=>{t.hasTask(i,o),r===i&&("microTask"==o.change?(e._hasPendingMicrotasks=o.microTask,Up(e),Bp(e)):"macroTask"==o.change&&(e.hasPendingMacrotasks=o.macroTask))},onHandleError:(t,r,i,o)=>(t.handleError(i,o),e.runOutsideAngular(()=>e.onError.emit(o)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Nt.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(Nt.isInAngularZone())throw new J(909,!1)}run(n,t,r){return this._inner.run(n,t,r)}runTask(n,t,r,i){const o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,n,C2,QE,QE);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(n,t,r){return this._inner.runGuarded(n,t,r)}runOutsideAngular(n){return this._outer.run(n)}}const C2={};function Bp(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Up(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function ZE(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function XE(e){e._nesting--,Bp(e)}class I2{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Gt,this.onMicrotaskEmpty=new Gt,this.onStable=new Gt,this.onError=new Gt}run(n,t,r){return n.apply(t,r)}runGuarded(n,t,r){return n.apply(t,r)}runOutsideAngular(n){return n()}runTask(n,t,r,i){return n.apply(t,r)}}const eS=new ke("",{providedIn:"root",factory:tS});function tS(){const e=Ne(Nt);let n=!0;return function C(...e){const n=Ao(e),t=function vf(e,n){return"number"==typeof Ra(e)?e.pop():n}(e,1/0),r=e;return r.length?1===r.length?Mn(r[0]):Mi(t)(v(r,n)):wr}(new qe(i=>{n=e.isStable&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks,e.runOutsideAngular(()=>{i.next(n),i.complete()})}),new qe(i=>{let o;e.runOutsideAngular(()=>{o=e.onStable.subscribe(()=>{Nt.assertNotInAngularZone(),queueMicrotask(()=>{!n&&!e.hasPendingMacrotasks&&!e.hasPendingMicrotasks&&(n=!0,i.next(!0))})})});const s=e.onUnstable.subscribe(()=>{Nt.assertInAngularZone(),n&&(n=!1,e.runOutsideAngular(()=>{i.next(!1)}))});return()=>{o.unsubscribe(),s.unsubscribe()}}).pipe(F()))}const nS=new ke(""),Kc=new ke("");let $p,Hp=(()=>{class e{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,$p||(function T2(e){$p=e}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Nt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:o,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}}return e.\u0275fac=function(t){return new(t||e)(Fe(Nt),Fe(jp),Fe(Kc))},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})(),jp=(()=>{class e{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return $p?.findTestabilityInTree(this,t,r)??null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})(),uo=null;const rS=new ke("AllowMultipleToken"),qp=new ke("PlatformDestroyListeners"),zp=new ke("appBootstrapListener");class oS{constructor(n,t){this.name=n,this.token=t}}function aS(e,n,t=[]){const r=`Platform: ${n}`,i=new ke(r);return(o=[])=>{let s=Wp();if(!s||s.injector.get(rS,!1)){const a=[...t,...o,{provide:i,useValue:!0}];e?e(a):function M2(e){if(uo&&!uo.get(rS,!1))throw new J(400,!1);(function iS(){!function OA(e){Cy=e}(()=>{throw new J(600,!1)})})(),uo=e;const n=e.get(lS);(function sS(e){e.get(v0,null)?.forEach(t=>t())})(e)}(function uS(e=[],n){return mi.create({name:n,providers:[{provide:bh,useValue:"platform"},{provide:qp,useValue:new Set([()=>uo=null])},...e]})}(a,r))}return function x2(e){const n=Wp();if(!n)throw new J(401,!1);return n}()}}function Wp(){return uo?.get(lS)??null}let lS=(()=>{class e{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function N2(e="zone.js",n){return"noop"===e?new I2:"zone.js"===e?new Nt(n):e}(r?.ngZone,function cS(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const o=function sx(e,n,t){return new yp(e,n,t)}(t.moduleType,this.injector,function gS(e){return[{provide:Nt,useFactory:e},{provide:ou,multi:!0,useFactory:()=>{const n=Ne(k2,{optional:!0});return()=>n.initialize()}},{provide:pS,useFactory:O2},{provide:eS,useFactory:tS}]}(()=>i)),s=o.injector.get(Lo,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{s.handleError(c)}});o.onDestroy(()=>{Jc(this._modules,o),a.unsubscribe()})}),function dS(e,n,t){try{const r=t();return Eu(r)?r.catch(i=>{throw n.runOutsideAngular(()=>e.handleError(i)),i}):r}catch(r){throw n.runOutsideAngular(()=>e.handleError(r)),r}}(s,i,()=>{const a=o.injector.get(Vp);return a.runInitializers(),a.donePromise.then(()=>(function xw(e){$t(e,"Expected localeId to be defined"),"string"==typeof e&&(Rw=e.toLowerCase().replace(/_/g,"-"))}(o.injector.get(ji,ea)||ea),this._moduleDoBootstrap(o),o))})})}bootstrapModule(t,r=[]){const i=fS({},r);return function P2(e,n,t){const r=new vp(t);return Promise.resolve(r)}(0,0,t).then(o=>this.bootstrapModuleFactory(o,i))}_moduleDoBootstrap(t){const r=t.injector.get(Ho);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new J(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(qp,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Fe(mi))},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"platform"}),e})();function fS(e,n){return Array.isArray(n)?n.reduce(fS,e):{...e,...n}}let Ho=(()=>{class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Ne(pS),this.zoneIsStable=Ne(eS),this.componentTypes=[],this.components=[],this.isStable=Ne(Gc).hasPendingTasks.pipe(L(t=>t?A(!1):this.zoneIsStable),function U(e,n=tn){return e=e??K,ht((t,r)=>{let i,o=!0;t.subscribe(ct(r,s=>{const a=n(s);(o||!e(i,a))&&(o=!1,i=a,r.next(s))}))})}(),F()),this._injector=Ne(gi)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof A0;if(!this._injector.get(Vp).done)throw!i&&function hs(e){const n=vt(e)||jn(e)||ar(e);return null!==n&&n.standalone}(t),new J(405,!1);let s;s=i?t:this._injector.get(Cc).resolveComponentFactory(t),this.componentTypes.push(s.componentType);const a=function F2(e){return e.isBoundToModule}(s)?void 0:this._injector.get(ta),h=s.create(mi.NULL,[],r||s.selector,a),g=h.location.nativeElement,m=h.injector.get(nS,null);return m?.registerApplication(g),h.onDestroy(()=>{this.detachView(h.hostView),Jc(this.components,h),m?.unregisterApplication(g)}),this._loadComponent(h),h}tick(){if(this._runningTick)throw new J(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;Jc(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(zp,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Jc(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new J(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Jc(e,n){const t=e.indexOf(n);t>-1&&e.splice(t,1)}const pS=new ke("",{providedIn:"root",factory:()=>Ne(Lo).handleError.bind(void 0)});function O2(){const e=Ne(Nt),n=Ne(Lo);return t=>e.runOutsideAngular(()=>n.handleError(t))}let k2=(()=>{class e{constructor(){this.zone=Ne(Nt),this.applicationRef=Ne(Ho)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();let Nu=(()=>{class e{}return e.__NG_ELEMENT_ID__=V2,e})();function V2(e){return function B2(e,n,t){if(Mo(e)&&!t){const r=br(e.index,n);return new hu(r,r)}return 47&e.type?new hu(n[un],n):null}(Rn(),Se(),16==(16&e))}class _S{constructor(){}supports(n){return Rc(n)}create(n){return new z2(n)}}const q2=(e,n)=>n;class z2{constructor(n){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=n||q2}forEachItem(n){let t;for(t=this._itHead;null!==t;t=t._next)n(t)}forEachOperation(n){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){const s=!r||t&&t.currentIndex<ES(r,i,o)?t:r,a=ES(s,i,o),c=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,null==s.previousIndex)i++;else{o||(o=[]);const h=a-i,g=c-i;if(h!=g){for(let I=0;I<h;I++){const O=I<o.length?o[I]:o[I]=0,X=O+I;g<=X&&X<h&&(o[I]=O+1)}o[s.previousIndex]=g-h}}a!==c&&n(s,a,c)}}forEachPreviousItem(n){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachMovedItem(n){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}forEachIdentityChange(n){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)n(t)}diff(n){if(null==n&&(n=[]),!Rc(n))throw new J(900,!1);return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let i,o,s,t=this._itHead,r=!1;if(Array.isArray(n)){this.length=n.length;for(let a=0;a<this.length;a++)o=n[a],s=this._trackByFn(a,o),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)):(t=this._mismatch(t,o,s,a),r=!0),t=t._next}else i=0,function HF(e,n){if(Array.isArray(e))for(let t=0;t<e.length;t++)n(e[t]);else{const t=e[Symbol.iterator]();let r;for(;!(r=t.next()).done;)n(r.value)}}(n,a=>{s=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,s)?(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,s,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=n,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let n;for(n=this._previousItHead=this._itHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._additionsHead;null!==n;n=n._nextAdded)n.previousIndex=n.currentIndex;for(this._additionsHead=this._additionsTail=null,n=this._movesHead;null!==n;n=n._nextMoved)n.previousIndex=n.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(n,t,r,i){let o;return null===n?o=this._itTail:(o=n._prev,this._remove(n)),null!==(n=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._reinsertAfter(n,o,i)):null!==(n=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(n.item,t)||this._addIdentityChange(n,t),this._moveAfter(n,o,i)):n=this._addAfter(new W2(t,r),o,i),n}_verifyReinsertion(n,t,r,i){let o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==o?n=this._reinsertAfter(o,n._prev,i):n.currentIndex!=i&&(n.currentIndex=i,this._addToMoves(n,i)),n}_truncate(n){for(;null!==n;){const t=n._next;this._addToRemovals(this._unlink(n)),n=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(n,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(n);const i=n._prevRemoved,o=n._nextRemoved;return null===i?this._removalsHead=o:i._nextRemoved=o,null===o?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(n,t,r),this._addToMoves(n,r),n}_moveAfter(n,t,r){return this._unlink(n),this._insertAfter(n,t,r),this._addToMoves(n,r),n}_addAfter(n,t,r){return this._insertAfter(n,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=n:this._additionsTail._nextAdded=n,n}_insertAfter(n,t,r){const i=null===t?this._itHead:t._next;return n._next=i,n._prev=t,null===i?this._itTail=n:i._prev=n,null===t?this._itHead=n:t._next=n,null===this._linkedRecords&&(this._linkedRecords=new wS),this._linkedRecords.put(n),n.currentIndex=r,n}_remove(n){return this._addToRemovals(this._unlink(n))}_unlink(n){null!==this._linkedRecords&&this._linkedRecords.remove(n);const t=n._prev,r=n._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,n}_addToMoves(n,t){return n.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=n:this._movesTail._nextMoved=n),n}_addToRemovals(n){return null===this._unlinkedRecords&&(this._unlinkedRecords=new wS),this._unlinkedRecords.put(n),n.currentIndex=null,n._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=n,n._prevRemoved=null):(n._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=n),n}_addIdentityChange(n,t){return n.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=n:this._identityChangesTail._nextIdentityChange=n,n}}class W2{constructor(n,t){this.item=n,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class G2{constructor(){this._head=null,this._tail=null}add(n){null===this._head?(this._head=this._tail=n,n._nextDup=null,n._prevDup=null):(this._tail._nextDup=n,n._prevDup=this._tail,n._nextDup=null,this._tail=n)}get(n,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,n))return r;return null}remove(n){const t=n._prevDup,r=n._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class wS{constructor(){this.map=new Map}put(n){const t=n.trackById;let r=this.map.get(t);r||(r=new G2,this.map.set(t,r)),r.add(n)}get(n,t){const i=this.map.get(n);return i?i.get(n,t):null}remove(n){const t=n.trackById;return this.map.get(t).remove(n)&&this.map.delete(t),n}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function ES(e,n,t){const r=e.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+n+i}class SS{constructor(){}supports(n){return n instanceof Map||Qh(n)}create(){return new K2}}class K2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(n){let t;for(t=this._mapHead;null!==t;t=t._next)n(t)}forEachPreviousItem(n){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)n(t)}forEachChangedItem(n){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)n(t)}forEachAddedItem(n){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)n(t)}forEachRemovedItem(n){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)n(t)}diff(n){if(n){if(!(n instanceof Map||Qh(n)))throw new J(900,!1)}else n=new Map;return this.check(n)?this:null}onDestroy(){}check(n){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(n,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const o=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,o)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(n,t){if(n){const r=n._prev;return t._next=n,t._prev=r,n._prev=t,r&&(r._next=t),n===this._mapHead&&(this._mapHead=t),this._appendAfter=n,n}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(n,t){if(this._records.has(n)){const i=this._records.get(n);this._maybeAddToChanges(i,t);const o=i._prev,s=i._next;return o&&(o._next=s),s&&(s._prev=o),i._next=null,i._prev=null,i}const r=new J2(n);return this._records.set(n,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let n;for(this._previousMapHead=this._mapHead,n=this._previousMapHead;null!==n;n=n._next)n._nextPrevious=n._next;for(n=this._changesHead;null!==n;n=n._nextChanged)n.previousValue=n.currentValue;for(n=this._additionsHead;null!=n;n=n._nextAdded)n.previousValue=n.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(n,t){Object.is(t,n.currentValue)||(n.previousValue=n.currentValue,n.currentValue=t,this._addToChanges(n))}_addToAdditions(n){null===this._additionsHead?this._additionsHead=this._additionsTail=n:(this._additionsTail._nextAdded=n,this._additionsTail=n)}_addToChanges(n){null===this._changesHead?this._changesHead=this._changesTail=n:(this._changesTail._nextChanged=n,this._changesTail=n)}_forEach(n,t){n instanceof Map?n.forEach(t):Object.keys(n).forEach(r=>t(n[r],r))}}class J2{constructor(n){this.key=n,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function bS(){return new Zc([new _S])}let Zc=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||bS()),deps:[[e,new nc,new tc]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new J(901,!1)}}return e.\u0275prov=Be({token:e,providedIn:"root",factory:bS}),e})();function CS(){return new Ou([new SS])}let Ou=(()=>{class e{constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new e(t)}static extend(t){return{provide:e,useFactory:r=>e.create(t,r||CS()),deps:[[e,new nc,new tc]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new J(901,!1)}}return e.\u0275prov=Be({token:e,providedIn:"root",factory:CS}),e})();const Z2=aS(null,"core",[]);let X2=(()=>{class e{constructor(t){}}return e.\u0275fac=function(t){return new(t||e)(Fe(Ho))},e.\u0275mod=vn({type:e}),e.\u0275inj=gt({}),e})();function sa(e){return"boolean"==typeof e?e:null!=e&&"false"!==e}let Xp=null;function lo(){return Xp}class dN{}const Nn=new ke("DocumentToken");let eg=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:function(){return Ne(hN)},providedIn:"platform"}),e})();const fN=new ke("Location Initialized");let hN=(()=>{class e extends eg{constructor(){super(),this._doc=Ne(Nn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return lo().getBaseHref(this._doc)}onPopState(t){const r=lo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=lo().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:function(){return new e},providedIn:"platform"}),e})();function tg(e,n){if(0==e.length)return n;if(0==n.length)return e;let t=0;return e.endsWith("/")&&t++,n.startsWith("/")&&t++,2==t?e+n.substring(1):1==t?e+n:e+"/"+n}function MS(e){const n=e.match(/#|\?|$/),t=n&&n.index||e.length;return e.slice(0,t-("/"===e[t-1]?1:0))+e.slice(t)}function $i(e){return e&&"?"!==e[0]?"?"+e:e}let $o=(()=>{class e{historyGo(t){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:function(){return Ne(xS)},providedIn:"root"}),e})();const RS=new ke("appBaseHref");let xS=(()=>{class e extends $o{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??Ne(Nn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return tg(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+$i(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const s=this.prepareExternalUrl(i+$i(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){const s=this.prepareExternalUrl(i+$i(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(Fe(eg),Fe(RS,8))},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),pN=(()=>{class e extends $o{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=tg(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+$i(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+$i(o));0==s.length&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return e.\u0275fac=function(t){return new(t||e)(Fe(eg),Fe(RS,8))},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})(),ng=(()=>{class e{constructor(t){this._subject=new Gt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function yN(e){if(new RegExp("^(https?:)?//").test(e)){const[,t]=e.split(/\/\/[^\/]+/);return t}return e}(MS(NS(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+$i(r))}normalize(t){return e.stripTrailingSlash(function mN(e,n){if(!e||!n.startsWith(e))return n;const t=n.substring(e.length);return""===t||["/",";","?","#"].includes(t[0])?t:n}(this._basePath,NS(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$i(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+$i(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return e.normalizeQueryParams=$i,e.joinWithSlash=tg,e.stripTrailingSlash=MS,e.\u0275fac=function(t){return new(t||e)(Fe($o))},e.\u0275prov=Be({token:e,factory:function(){return function gN(){return new ng(Fe($o))}()},providedIn:"root"}),e})();function NS(e){return e.replace(/\/index.html$/,"")}function $S(e,n){n=encodeURIComponent(n);for(const t of e.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===n)return decodeURIComponent(o)}return null}const fg=/\s+/,qS=[];let cd=(()=>{class e{constructor(t,r,i,o){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=o,this.initialClasses=qS,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(fg):qS}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(fg):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(fg).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return e.\u0275fac=function(t){return new(t||e)(we(Zc),we(Ou),we(dr),we(Jr))},e.\u0275dir=Ge({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class nO{constructor(n,t,r,i){this.$implicit=n,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let hg=(()=>{class e{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new nO(i.item,this._ngForOf,-1,-1),null===s?void 0:s);else if(null==s)r.remove(null===o?void 0:o);else if(null!==o){const a=r.get(o);r.move(a,s),WS(a,i)}});for(let i=0,o=r.length;i<o;i++){const a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{WS(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(we(Xr),we(Si),we(Zc))},e.\u0275dir=Ge({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function WS(e,n){e.context.$implicit=n.item}let dd=(()=>{class e{constructor(t,r){this._viewContainer=t,this._context=new rO,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){GS("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){GS("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return e.\u0275fac=function(t){return new(t||e)(we(Xr),we(Si))},e.\u0275dir=Ge({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class rO{constructor(){this.$implicit=null,this.ngIf=null}}function GS(e,n){if(n&&!n.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${ce(n)}'.`)}let JS=(()=>{class e{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,o]=t.split("."),s=-1===i.indexOf("-")?void 0:ro.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,o?`${r}${o}`:r,s):this._renderer.removeStyle(this._ngEl.nativeElement,i,s)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}}return e.\u0275fac=function(t){return new(t||e)(we(dr),we(Ou),we(Jr))},e.\u0275dir=Ge({type:e,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0}),e})(),YS=(()=>{class e{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:s}=this;this._viewRef=r.createEmbeddedView(i,o,s?{injector:s}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return e.\u0275fac=function(t){return new(t||e)(we(Xr))},e.\u0275dir=Ge({type:e,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[Nr]}),e})();class aO{createSubscription(n,t){return Dy(()=>n.subscribe({next:t,error:r=>{throw r}}))}dispose(n){Dy(()=>n.unsubscribe())}}class uO{createSubscription(n,t){return n.then(t,r=>{throw r})}dispose(n){}}const lO=new uO,cO=new aO;let fd=(()=>{class e{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if(Eu(t))return lO;if(N_(t))return cO;throw function ni(e,n){return new J(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(we(Nu,16))},e.\u0275pipe=sr({name:"async",type:e,pure:!1,standalone:!0}),e})(),Wi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=gt({}),e})();const ZS="browser";function XS(e){return"server"===e}let RO=(()=>{class e{}return e.\u0275prov=Be({token:e,providedIn:"root",factory:()=>new xO(Fe(Nn),window)}),e})();class xO{constructor(n,t){this.document=n,this.window=t,this.offset=()=>[0,0]}setOffset(n){this.offset=Array.isArray(n)?()=>n:n}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(n){this.supportsScrolling()&&this.window.scrollTo(n[0],n[1])}scrollToAnchor(n){if(!this.supportsScrolling())return;const t=function NO(e,n){const t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if("function"==typeof e.createTreeWalker&&e.body&&"function"==typeof e.body.attachShadow){const r=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const s=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(s)return s}i=r.nextNode()}}return null}(this.document,n);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(n){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=n)}}scrollToElement(n){const t=n.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const n=eb(this.window.history)||eb(Object.getPrototypeOf(this.window.history));return!(!n||!n.writable&&!n.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function eb(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class tb{}class ak extends dN{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class wg extends ak{static makeCurrent(){!function cN(e){Xp||(Xp=e)}(new wg)}onAndCancel(n,t,r){return n.addEventListener(t,r),()=>{n.removeEventListener(t,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.parentNode&&n.parentNode.removeChild(n)}createElement(n,t){return(t=t||this.getDefaultDocument()).createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return"window"===t?window:"document"===t?n:"body"===t?n.body:null}getBaseHref(n){const t=function uk(){return Bu=Bu||document.querySelector("base"),Bu?Bu.getAttribute("href"):null}();return null==t?null:function lk(e){md=md||document.createElement("a"),md.setAttribute("href",e);const n=md.pathname;return"/"===n.charAt(0)?n:`/${n}`}(t)}resetBaseElement(){Bu=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return $S(document.cookie,n)}}let md,Bu=null,dk=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})();const Eg=new ke("EventManagerPlugins");let sb=(()=>{class e{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new J(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return e.\u0275fac=function(t){return new(t||e)(Fe(Eg),Fe(Nt))},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})();class ab{constructor(n){this._doc=n}}const Sg="ng-app-id";let ub=(()=>{class e{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=XS(o),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Sg}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Sg),o;{const s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Sg,this.appId),s}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return e.\u0275fac=function(t){return new(t||e)(Fe(Nn),Fe(_c),Fe(w0,8),Fe(oo))},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})();const bg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Cg=/%COMP%/g,gk=new ke("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function cb(e,n){return n.map(t=>t.replace(Cg,e))}let Dg=(()=>{class e{constructor(t,r,i,o,s,a,c,h=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=c,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=XS(a),this.defaultRenderer=new Ag(t,s,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===xr.ShadowDom&&(r={...r,encapsulation:xr.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof fb?i.applyToHost(t):i instanceof Ig&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const s=this.doc,a=this.ngZone,c=this.eventManager,h=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(r.encapsulation){case xr.Emulated:o=new fb(c,h,r,this.appId,g,s,a,m);break;case xr.ShadowDom:return new _k(c,h,t,r,s,a,this.nonce,m);default:o=new Ig(c,h,r,g,s,a,m)}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return e.\u0275fac=function(t){return new(t||e)(Fe(sb),Fe(ub),Fe(_c),Fe(gk),Fe(Nn),Fe(oo),Fe(Nt),Fe(w0))},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})();class Ag{constructor(n,t,r,i){this.eventManager=n,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(n,t){return t?this.doc.createElementNS(bg[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(db(n)?n.content:n).appendChild(t)}insertBefore(n,t,r){n&&(db(n)?n.content:n).insertBefore(t,r)}removeChild(n,t){n&&n.removeChild(t)}selectRootElement(n,t){let r="string"==typeof n?this.doc.querySelector(n):n;if(!r)throw new J(-5104,!1);return t||(r.textContent=""),r}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,r,i){if(i){t=i+":"+t;const o=bg[i];o?n.setAttributeNS(o,t,r):n.setAttribute(t,r)}else n.setAttribute(t,r)}removeAttribute(n,t,r){if(r){const i=bg[r];i?n.removeAttributeNS(i,t):n.removeAttribute(`${r}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,r,i){i&(ro.DashCase|ro.Important)?n.style.setProperty(t,r,i&ro.Important?"important":""):n.style[t]=r}removeStyle(n,t,r){r&ro.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,r){n[t]=r}setValue(n,t){n.nodeValue=t}listen(n,t,r){if("string"==typeof n&&!(n=lo().getGlobalEventTarget(this.doc,n)))throw new Error(`Unsupported event target ${n} for event ${t}`);return this.eventManager.addEventListener(n,t,this.decoratePreventDefault(r))}decoratePreventDefault(n){return t=>{if("__ngUnwrap__"===t)return n;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>n(t)):n(t))&&t.preventDefault()}}}function db(e){return"TEMPLATE"===e.tagName&&void 0!==e.content}class _k extends Ag{constructor(n,t,r,i,o,s,a,c){super(n,o,s,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const h=cb(i.id,i.styles);for(const g of h){const m=document.createElement("style");a&&m.setAttribute("nonce",a),m.textContent=g,this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,r){return super.insertBefore(this.nodeOrShadowRoot(n),t,r)}removeChild(n,t){return super.removeChild(this.nodeOrShadowRoot(n),t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Ig extends Ag{constructor(n,t,r,i,o,s,a,c){super(n,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?cb(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class fb extends Ig{constructor(n,t,r,i,o,s,a,c){const h=i+"-"+r.id;super(n,t,r,o,s,a,c,h),this.contentAttr=function mk(e){return"_ngcontent-%COMP%".replace(Cg,e)}(h),this.hostAttr=function yk(e){return"_nghost-%COMP%".replace(Cg,e)}(h)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){const r=super.createElement(n,t);return super.setAttribute(r,this.contentAttr,""),r}}let wk=(()=>{class e extends ab{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return e.\u0275fac=function(t){return new(t||e)(Fe(Nn))},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})();const hb=["alt","control","meta","shift"],Ek={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Sk={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let bk=(()=>{class e extends ab{constructor(t){super(t)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,r,i){const o=e.parseEventName(r),s=e.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>lo().onAndCancel(t,o.domEventName,s))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=e._normalizeKey(r.pop());let s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),hb.forEach(h=>{const g=r.indexOf(h);g>-1&&(r.splice(g,1),s+=h+".")}),s+=o,0!=r.length||0===o.length)return null;const c={};return c.domEventName=i,c.fullKey=s,c}static matchEventFullKeyCode(t,r){let i=Ek[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),hb.forEach(s=>{s!==i&&(0,Sk[s])(t)&&(o+=s+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{e.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return e.\u0275fac=function(t){return new(t||e)(Fe(Nn))},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})();const Ik=aS(Z2,"browser",[{provide:oo,useValue:ZS},{provide:v0,useValue:function Ck(){wg.makeCurrent()},multi:!0},{provide:Nn,useFactory:function Ak(){return function xT(e){hh=e}(document),document},deps:[]}]),Tk=new ke(""),mb=[{provide:Kc,useClass:class ck{addToWindow(n){xt.getAngularTestability=(r,i=!0)=>{const o=n.findTestabilityInTree(r,i);if(null==o)throw new J(5103,!1);return o},xt.getAllAngularTestabilities=()=>n.getAllTestabilities(),xt.getAllAngularRootElements=()=>n.getAllRootElements(),xt.frameworkStabilizers||(xt.frameworkStabilizers=[]),xt.frameworkStabilizers.push(r=>{const i=xt.getAllAngularTestabilities();let o=i.length,s=!1;const a=function(c){s=s||c,o--,0==o&&r(s)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(n,t,r){return null==t?null:n.getTestability(t)??(r?lo().isShadowRoot(t)?this.findTestabilityInTree(n,t.host,!0):this.findTestabilityInTree(n,t.parentElement,!0):null)}},deps:[]},{provide:nS,useClass:Hp,deps:[Nt,jp,Kc]},{provide:Hp,useClass:Hp,deps:[Nt,jp,Kc]}],yb=[{provide:bh,useValue:"root"},{provide:Lo,useFactory:function Dk(){return new Lo},deps:[]},{provide:Eg,useClass:wk,multi:!0,deps:[Nn,Nt,oo]},{provide:Eg,useClass:bk,multi:!0,deps:[Nn]},Dg,ub,sb,{provide:uu,useExisting:Dg},{provide:tb,useClass:dk,deps:[]},[]];let vb=(()=>{class e{constructor(t){}static withServerTransition(t){return{ngModule:e,providers:[{provide:_c,useValue:t.appId}]}}}return e.\u0275fac=function(t){return new(t||e)(Fe(Tk,12))},e.\u0275mod=vn({type:e}),e.\u0275inj=gt({providers:[...yb,...mb],imports:[Wi,X2]}),e})(),_b=(()=>{class e{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return e.\u0275fac=function(t){return new(t||e)(Fe(Nn))},e.\u0275prov=Be({token:e,factory:function(t){let r=null;return r=t?new t:function Fk(){return new _b(Fe(Nn))}(),r},providedIn:"root"}),e})();typeof window<"u"&&window;const{isArray:Ok}=Array,{getPrototypeOf:kk,prototype:Lk,keys:Vk}=Object;const{isArray:Uk}=Array;const la=new ke("CallSetDisabledState",{providedIn:"root",factory:()=>Sd}),Sd="always";let fC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=gt({}),e})(),BL=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=gt({imports:[fC]}),e})(),HL=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:la,useValue:t.callSetDisabledState??Sd}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=gt({imports:[BL]}),e})();function ca(e,n){return Q(n)?Jt(e,n,1):Jt(e,1)}function ri(e,n){return ht((t,r)=>{let i=0;t.subscribe(ct(r,o=>e.call(n,o,i++)&&r.next(o)))})}function qu(e){return ht((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}class Id{}class Td{}class Ci{constructor(n){this.normalizedNames=new Map,this.lazyUpdate=null,n?"string"==typeof n?this.lazyInit=()=>{this.headers=new Map,n.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),s=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(s):this.headers.set(o,[s])}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();const t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof Ci?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){const t=new Ci;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ci?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){const t=n.name.toLowerCase();switch(n.op){case"a":case"s":let r=n.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(n.name,t);const i=("a"===n.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=n.value;if(o){let s=this.headers.get(t);if(!s)return;s=s.filter(a=>-1===o.indexOf(a)),0===s.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,s)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(n,t){const r=(Array.isArray(t)?t:[t]).map(o=>o.toString()),i=n.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(n,i)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}}class jL{encodeKey(n){return FC(n)}encodeValue(n){return FC(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}}const qL=/%(\d[a-f0-9])/gi,zL={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function FC(e){return encodeURIComponent(e).replace(qL,(n,t)=>zL[t]??n)}function Pd(e){return`${e}`}class go{constructor(n={}){if(this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new jL,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function $L(e,n){const t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[s,a]=-1==o?[n.decodeKey(i),""]:[n.decodeKey(i.slice(0,o)),n.decodeValue(i.slice(o+1))],c=t.get(s)||[];c.push(a),t.set(s,c)}),t}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{const r=n.fromObject[t],i=Array.isArray(r)?r.map(Pd):[Pd(r)];this.map.set(t,i)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();const t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){const t=[];return Object.keys(n).forEach(r=>{const i=n[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{const t=this.encoder.encodeKey(n);return this.map.get(n).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(n=>""!==n).join("&")}clone(n){const t=new go({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":const t=("a"===n.op?this.map.get(n.param):void 0)||[];t.push(Pd(n.value)),this.map.set(n.param,t);break;case"d":if(void 0===n.value){this.map.delete(n.param);break}{let r=this.map.get(n.param)||[];const i=r.indexOf(Pd(n.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(n.param,r):this.map.delete(n.param)}}}),this.cloneFrom=this.updates=null)}}class WL{constructor(){this.map=new Map}set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}}function MC(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function RC(e){return typeof Blob<"u"&&e instanceof Blob}function xC(e){return typeof FormData<"u"&&e instanceof FormData}class zu{constructor(n,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=n.toUpperCase(),function GL(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ci),this.context||(this.context=new WL),this.params){const s=this.params.toString();if(0===s.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+s}}else this.params=new go,this.urlWithParams=t}serializeBody(){return null===this.body?null:MC(this.body)||RC(this.body)||xC(this.body)||function KL(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof go?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||xC(this.body)?null:RC(this.body)?this.body.type||null:MC(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof go?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(n={}){const t=n.method||this.method,r=n.url||this.url,i=n.responseType||this.responseType,o=void 0!==n.body?n.body:this.body,s=void 0!==n.withCredentials?n.withCredentials:this.withCredentials,a=void 0!==n.reportProgress?n.reportProgress:this.reportProgress;let c=n.headers||this.headers,h=n.params||this.params;const g=n.context??this.context;return void 0!==n.setHeaders&&(c=Object.keys(n.setHeaders).reduce((m,I)=>m.set(I,n.setHeaders[I]),c)),n.setParams&&(h=Object.keys(n.setParams).reduce((m,I)=>m.set(I,n.setParams[I]),h)),new zu(t,r,o,{params:h,headers:c,context:g,reportProgress:a,responseType:i,withCredentials:s})}}var da=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}(da||{});class Jg{constructor(n,t=200,r="OK"){this.headers=n.headers||new Ci,this.status=void 0!==n.status?n.status:t,this.statusText=n.statusText||r,this.url=n.url||null,this.ok=this.status>=200&&this.status<300}}class Yg extends Jg{constructor(n={}){super(n),this.type=da.ResponseHeader}clone(n={}){return new Yg({headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class fa extends Jg{constructor(n={}){super(n),this.type=da.Response,this.body=void 0!==n.body?n.body:null}clone(n={}){return new fa({body:void 0!==n.body?n.body:this.body,headers:n.headers||this.headers,status:void 0!==n.status?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}}class NC extends Jg{constructor(n){super(n,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${n.url||"(unknown url)"}`:`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}}function Qg(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let Zg=(()=>{class e{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof zu)o=t;else{let c,h;c=i.headers instanceof Ci?i.headers:new Ci(i.headers),i.params&&(h=i.params instanceof go?i.params:new go({fromObject:i.params})),o=new zu(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:h,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const s=A(o).pipe(ca(c=>this.handler.handle(c)));if(t instanceof zu||"events"===i.observe)return s;const a=s.pipe(ri(c=>c instanceof fa));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return a.pipe(_(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(_(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(_(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(_(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new go).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,Qg(i,r))}post(t,r,i={}){return this.request("POST",t,Qg(i,r))}put(t,r,i={}){return this.request("PUT",t,Qg(i,r))}}return e.\u0275fac=function(t){return new(t||e)(Fe(Id))},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})();function LC(e,n){return n(e)}function YL(e,n){return(t,r)=>n.intercept(t,{handle:i=>e(i,r)})}const VC=new ke(""),Wu=new ke(""),BC=new ke("");function ZL(){let e=null;return(n,t)=>{null===e&&(e=(Ne(VC,{optional:!0})??[]).reduceRight(YL,LC));const r=Ne(Gc),i=r.add();return e(n,t).pipe(qu(()=>r.remove(i)))}}let UC=(()=>{class e extends Id{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=Ne(Gc)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(Wu),...this.injector.get(BC,[])]));this.chain=i.reduceRight((o,s)=>function QL(e,n,t){return(r,i)=>t.runInContext(()=>n(r,o=>e(o,i)))}(o,s,this.injector),LC)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(qu(()=>this.pendingTasks.remove(r)))}}return e.\u0275fac=function(t){return new(t||e)(Fe(Td),Fe(gi))},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})();const n3=/^\)\]\}',?\n/;let jC=(()=>{class e{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new J(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?v(r.\u0275loadImpl()):A(null)).pipe(L(()=>new qe(o=>{const s=r.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((ae,pe)=>s.setRequestHeader(ae,pe.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const ae=t.detectContentTypeHeader();null!==ae&&s.setRequestHeader("Content-Type",ae)}if(t.responseType){const ae=t.responseType.toLowerCase();s.responseType="json"!==ae?ae:"text"}const a=t.serializeBody();let c=null;const h=()=>{if(null!==c)return c;const ae=s.statusText||"OK",pe=new Ci(s.getAllResponseHeaders()),_e=function r3(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new Yg({headers:pe,status:s.status,statusText:ae,url:_e}),c},g=()=>{let{headers:ae,status:pe,statusText:_e,url:he}=h(),Ae=null;204!==pe&&(Ae=typeof s.response>"u"?s.responseText:s.response),0===pe&&(pe=Ae?200:0);let Le=pe>=200&&pe<300;if("json"===t.responseType&&"string"==typeof Ae){const We=Ae;Ae=Ae.replace(n3,"");try{Ae=""!==Ae?JSON.parse(Ae):null}catch(Et){Ae=We,Le&&(Le=!1,Ae={error:Et,text:Ae})}}Le?(o.next(new fa({body:Ae,headers:ae,status:pe,statusText:_e,url:he||void 0})),o.complete()):o.error(new NC({error:Ae,headers:ae,status:pe,statusText:_e,url:he||void 0}))},m=ae=>{const{url:pe}=h(),_e=new NC({error:ae,status:s.status||0,statusText:s.statusText||"Unknown Error",url:pe||void 0});o.error(_e)};let I=!1;const O=ae=>{I||(o.next(h()),I=!0);let pe={type:da.DownloadProgress,loaded:ae.loaded};ae.lengthComputable&&(pe.total=ae.total),"text"===t.responseType&&s.responseText&&(pe.partialText=s.responseText),o.next(pe)},X=ae=>{let pe={type:da.UploadProgress,loaded:ae.loaded};ae.lengthComputable&&(pe.total=ae.total),o.next(pe)};return s.addEventListener("load",g),s.addEventListener("error",m),s.addEventListener("timeout",m),s.addEventListener("abort",m),t.reportProgress&&(s.addEventListener("progress",O),null!==a&&s.upload&&s.upload.addEventListener("progress",X)),s.send(a),o.next({type:da.Sent}),()=>{s.removeEventListener("error",m),s.removeEventListener("abort",m),s.removeEventListener("load",g),s.removeEventListener("timeout",m),t.reportProgress&&(s.removeEventListener("progress",O),null!==a&&s.upload&&s.upload.removeEventListener("progress",X)),s.readyState!==s.DONE&&s.abort()}})))}}return e.\u0275fac=function(t){return new(t||e)(Fe(tb))},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})();const Xg=new ke("XSRF_ENABLED"),$C=new ke("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),qC=new ke("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class zC{}let s3=(()=>{class e{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=$S(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(Fe(Nn),Fe(oo),Fe($C))},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})();function a3(e,n){const t=e.url.toLowerCase();if(!Ne(Xg)||"GET"===e.method||"HEAD"===e.method||t.startsWith("http://")||t.startsWith("https://"))return n(e);const r=Ne(zC).getToken(),i=Ne(qC);return null!=r&&!e.headers.has(i)&&(e=e.clone({headers:e.headers.set(i,r)})),n(e)}var mo=function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e}(mo||{});function Wo(e,n){return{\u0275kind:e,\u0275providers:n}}function u3(...e){const n=[Zg,jC,UC,{provide:Id,useExisting:UC},{provide:Td,useExisting:jC},{provide:Wu,useValue:a3,multi:!0},{provide:Xg,useValue:!0},{provide:zC,useClass:s3}];for(const t of e)n.push(...t.\u0275providers);return function _h(e){return{\u0275providers:e}}(n)}const WC=new ke("LEGACY_INTERCEPTOR_FN");let GC=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=gt({providers:[u3(Wo(mo.LegacyInterceptors,[{provide:WC,useFactory:ZL},{provide:Wu,useExisting:WC,multi:!0}]))]}),e})();class KC{}class g3{}const Gi="*";function JC(e,n){return{type:7,name:e,definitions:n,options:{}}}function YC(e,n=null){return{type:4,styles:n,timings:e}}function QC(e,n=null){return{type:2,steps:e,options:n}}function Gu(e){return{type:6,styles:e,offset:null}}function m3(e,n,t){return{type:0,name:e,styles:n,options:t}}function em(e,n,t=null){return{type:1,expr:e,animation:n,options:t}}function y3(e=null){return{type:9,options:e}}function v3(e,n,t=null){return{type:11,selector:e,animation:n,options:t}}class Ku{constructor(n=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=n+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(n=>n()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(n){this._position=this.totalTime?n*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class ZC{constructor(n){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=n;let t=0,r=0,i=0;const o=this.players.length;0==o?queueMicrotask(()=>this._onFinish()):this.players.forEach(s=>{s.onDone(()=>{++t==o&&this._onFinish()}),s.onDestroy(()=>{++r==o&&this._onDestroy()}),s.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((s,a)=>Math.max(s,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this.players.forEach(n=>n.init())}onStart(n){this._onStartFns.push(n)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(n=>n()),this._onStartFns=[])}onDone(n){this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(n=>n.play())}pause(){this.players.forEach(n=>n.pause())}restart(){this.players.forEach(n=>n.restart())}finish(){this._onFinish(),this.players.forEach(n=>n.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(n=>n.destroy()),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}reset(){this.players.forEach(n=>n.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(n){const t=n*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const n=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=n?n.getPosition():0}beforeDestroy(){this.players.forEach(n=>{n.beforeDestroy&&n.beforeDestroy()})}triggerCallback(n){const t="start"==n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}function XC(e){return new J(3e3,!1)}function yo(e){switch(e.length){case 0:return new Ku;case 1:return e[0];default:return new ZC(e)}}function e1(e,n,t=new Map,r=new Map){const i=[],o=[];let s=-1,a=null;if(n.forEach(c=>{const h=c.get("offset"),g=h==s,m=g&&a||new Map;c.forEach((I,O)=>{let X=O,ae=I;if("offset"!==O)switch(X=e.normalizePropertyName(X,i),ae){case"!":ae=t.get(O);break;case Gi:ae=r.get(O);break;default:ae=e.normalizeStyleValue(O,X,ae,i)}m.set(X,ae)}),g||o.push(m),a=m,s=h}),i.length)throw function H3(e){return new J(3502,!1)}();return o}function nm(e,n,t,r){switch(n){case"start":e.onStart(()=>r(t&&rm(t,"start",e)));break;case"done":e.onDone(()=>r(t&&rm(t,"done",e)));break;case"destroy":e.onDestroy(()=>r(t&&rm(t,"destroy",e)))}}function rm(e,n,t){const o=im(e.element,e.triggerName,e.fromState,e.toState,n||e.phaseName,t.totalTime??e.totalTime,!!t.disabled),s=e._data;return null!=s&&(o._data=s),o}function im(e,n,t,r,i="",o=0,s){return{element:e,triggerName:n,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Ir(e,n,t){let r=e.get(n);return r||e.set(n,r=t),r}function t1(e){const n=e.indexOf(":");return[e.substring(1,n),e.slice(n+1)]}const X3=(()=>typeof document>"u"?null:document.documentElement)();function om(e){const n=e.parentNode||e.host||null;return n===X3?null:n}let Go=null,n1=!1;function r1(e,n){for(;n;){if(n===e)return!0;n=om(n)}return!1}function i1(e,n,t){if(t)return Array.from(e.querySelectorAll(n));const r=e.querySelector(n);return r?[r]:[]}let o1=(()=>{class e{validateStyleProperty(t){return function t6(e){Go||(Go=function n6(){return typeof document<"u"?document.body:null}()||{},n1=!!Go.style&&"WebkitAppearance"in Go.style);let n=!0;return Go.style&&!function e6(e){return"ebkit"==e.substring(1,6)}(e)&&(n=e in Go.style,!n&&n1&&(n="Webkit"+e.charAt(0).toUpperCase()+e.slice(1)in Go.style)),n}(t)}matchesElement(t,r){return!1}containsElement(t,r){return r1(t,r)}getParentElement(t){return om(t)}query(t,r,i){return i1(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,s,a=[],c){return new Ku(i,o)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})(),sm=(()=>{class e{}return e.NOOP=new o1,e})();const r6=1e3,am="ng-enter",Md="ng-leave",Rd="ng-trigger",xd=".ng-trigger",a1="ng-animating",um=".ng-animating";function Ki(e){if("number"==typeof e)return e;const n=e.match(/^(-?[\.\d]+)(m?s)/);return!n||n.length<2?0:lm(parseFloat(n[1]),n[2])}function lm(e,n){return"s"===n?e*r6:e}function Nd(e,n,t){return e.hasOwnProperty("duration")?e:function o6(e,n,t){let i,o=0,s="";if("string"==typeof e){const a=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return n.push(XC()),{duration:0,delay:0,easing:""};i=lm(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(o=lm(parseFloat(c),a[4]));const h=a[5];h&&(s=h)}else i=e;if(!t){let a=!1,c=n.length;i<0&&(n.push(function _3(){return new J(3100,!1)}()),a=!0),o<0&&(n.push(function w3(){return new J(3101,!1)}()),a=!0),a&&n.splice(c,0,XC())}return{duration:i,delay:o,easing:s}}(e,n,t)}function Ju(e,n={}){return Object.keys(e).forEach(t=>{n[t]=e[t]}),n}function u1(e){const n=new Map;return Object.keys(e).forEach(t=>{n.set(t,e[t])}),n}function vo(e,n=new Map,t){if(t)for(let[r,i]of t)n.set(r,i);for(let[r,i]of e)n.set(r,i);return n}function Di(e,n,t){n.forEach((r,i)=>{const o=dm(i);t&&!t.has(i)&&t.set(i,e.style[o]),e.style[o]=r})}function Ko(e,n){n.forEach((t,r)=>{const i=dm(r);e.style[i]=""})}function Yu(e){return Array.isArray(e)?1==e.length?e[0]:QC(e):e}const cm=new RegExp("{{\\s*(.+?)\\s*}}","g");function c1(e){let n=[];if("string"==typeof e){let t;for(;t=cm.exec(e);)n.push(t[1]);cm.lastIndex=0}return n}function Qu(e,n,t){const r=e.toString(),i=r.replace(cm,(o,s)=>{let a=n[s];return null==a&&(t.push(function S3(e){return new J(3003,!1)}()),a=""),a.toString()});return i==r?e:i}function Od(e){const n=[];let t=e.next();for(;!t.done;)n.push(t.value),t=e.next();return n}const u6=/-+([a-z0-9])/g;function dm(e){return e.replace(u6,(...n)=>n[1].toUpperCase())}function Tr(e,n,t){switch(n.type){case 7:return e.visitTrigger(n,t);case 0:return e.visitState(n,t);case 1:return e.visitTransition(n,t);case 2:return e.visitSequence(n,t);case 3:return e.visitGroup(n,t);case 4:return e.visitAnimate(n,t);case 5:return e.visitKeyframes(n,t);case 6:return e.visitStyle(n,t);case 8:return e.visitReference(n,t);case 9:return e.visitAnimateChild(n,t);case 10:return e.visitAnimateRef(n,t);case 11:return e.visitQuery(n,t);case 12:return e.visitStagger(n,t);default:throw function b3(e){return new J(3004,!1)}()}}function d1(e,n){return window.getComputedStyle(e)[n]}const kd="*";function d6(e,n){const t=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(r=>function f6(e,n,t){if(":"==e[0]){const c=function h6(e,n){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return n.push(function L3(e){return new J(3016,!1)}()),"* => *"}}(e,t);if("function"==typeof c)return void n.push(c);e=c}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function k3(e){return new J(3015,!1)}()),n;const i=r[1],o=r[2],s=r[3];n.push(f1(i,s));"<"==o[0]&&!(i==kd&&s==kd)&&n.push(f1(s,i))}(r,t,n)):t.push(e),t}const Ld=new Set(["true","1"]),Vd=new Set(["false","0"]);function f1(e,n){const t=Ld.has(e)||Vd.has(e),r=Ld.has(n)||Vd.has(n);return(i,o)=>{let s=e==kd||e==i,a=n==kd||n==o;return!s&&t&&"boolean"==typeof i&&(s=i?Ld.has(e):Vd.has(e)),!a&&r&&"boolean"==typeof o&&(a=o?Ld.has(n):Vd.has(n)),s&&a}}const p6=new RegExp("s*:selfs*,?","g");function fm(e,n,t,r){return new g6(e).build(n,t,r)}class g6{constructor(n){this._driver=n}build(n,t,r){const i=new v6(t);return this._resetContextStyleTimingState(i),Tr(this,Yu(n),i)}_resetContextStyleTimingState(n){n.currentQuerySelector="",n.collectedStyles=new Map,n.collectedStyles.set("",new Map),n.currentTime=0}visitTrigger(n,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],s=[];return"@"==n.name.charAt(0)&&t.errors.push(function D3(){return new J(3006,!1)}()),n.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,h=c.name;h.toString().split(/\s*,\s*/).forEach(g=>{c.name=g,o.push(this.visitState(c,t))}),c.name=h}else if(1==a.type){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,s.push(c)}else t.errors.push(function A3(){return new J(3007,!1)}())}),{type:7,name:n.name,states:o,transitions:s,queryCount:r,depCount:i,options:null}}visitState(n,t){const r=this.visitStyle(n.styles,t),i=n.options&&n.options.params||null;if(r.containsDynamicStyles){const o=new Set,s=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{c1(c).forEach(h=>{s.hasOwnProperty(h)||o.add(h)})})}),o.size&&(Od(o.values()),t.errors.push(function I3(e,n){return new J(3008,!1)}()))}return{type:0,name:n.name,style:r,options:i?{params:i}:null}}visitTransition(n,t){t.queryCount=0,t.depCount=0;const r=Tr(this,Yu(n.animation),t);return{type:1,matchers:d6(n.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:Jo(n.options)}}visitSequence(n,t){return{type:2,steps:n.steps.map(r=>Tr(this,r,t)),options:Jo(n.options)}}visitGroup(n,t){const r=t.currentTime;let i=0;const o=n.steps.map(s=>{t.currentTime=r;const a=Tr(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:o,options:Jo(n.options)}}visitAnimate(n,t){const r=function w6(e,n){if(e.hasOwnProperty("duration"))return e;if("number"==typeof e)return hm(Nd(e,n).duration,0,"");const t=e;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=hm(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=Nd(t,n);return hm(i.duration,i.delay,i.easing)}(n.timings,t.errors);t.currentAnimateTimings=r;let i,o=n.styles?n.styles:Gu({});if(5==o.type)i=this.visitKeyframes(o,t);else{let s=n.styles,a=!1;if(!s){a=!0;const h={};r.easing&&(h.easing=r.easing),s=Gu(h)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(s,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(n,t){const r=this._makeStyleAst(n,t);return this._validateStyleAst(r,t),r}_makeStyleAst(n,t){const r=[],i=Array.isArray(n.styles)?n.styles:[n.styles];for(let a of i)"string"==typeof a?a===Gi?r.push(a):t.errors.push(new J(3002,!1)):r.push(u1(a));let o=!1,s=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o))for(let c of a.values())if(c.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:s,offset:n.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(n,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),n.styles.forEach(s=>{"string"!=typeof s&&s.forEach((a,c)=>{const h=t.collectedStyles.get(t.currentQuerySelector),g=h.get(c);let m=!0;g&&(o!=i&&o>=g.startTime&&i<=g.endTime&&(t.errors.push(function P3(e,n,t,r,i){return new J(3010,!1)}()),m=!1),o=g.startTime),m&&h.set(c,{startTime:o,endTime:i}),t.options&&function a6(e,n,t){const r=n.params||{},i=c1(e);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function E3(e){return new J(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(n,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function F3(){return new J(3011,!1)}()),r;let o=0;const s=[];let a=!1,c=!1,h=0;const g=n.steps.map(_e=>{const he=this._makeStyleAst(_e,t);let Ae=null!=he.offset?he.offset:function _6(e){if("string"==typeof e)return null;let n=null;if(Array.isArray(e))e.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;n=parseFloat(r.get("offset")),r.delete("offset")}});else if(e instanceof Map&&e.has("offset")){const t=e;n=parseFloat(t.get("offset")),t.delete("offset")}return n}(he.styles),Le=0;return null!=Ae&&(o++,Le=he.offset=Ae),c=c||Le<0||Le>1,a=a||Le<h,h=Le,s.push(Le),he});c&&t.errors.push(function M3(){return new J(3012,!1)}()),a&&t.errors.push(function R3(){return new J(3200,!1)}());const m=n.steps.length;let I=0;o>0&&o<m?t.errors.push(function x3(){return new J(3202,!1)}()):0==o&&(I=1/(m-1));const O=m-1,X=t.currentTime,ae=t.currentAnimateTimings,pe=ae.duration;return g.forEach((_e,he)=>{const Ae=I>0?he==O?1:I*he:s[he],Le=Ae*pe;t.currentTime=X+ae.delay+Le,ae.duration=Le,this._validateStyleAst(_e,t),_e.offset=Ae,r.styles.push(_e)}),r}visitReference(n,t){return{type:8,animation:Tr(this,Yu(n.animation),t),options:Jo(n.options)}}visitAnimateChild(n,t){return t.depCount++,{type:9,options:Jo(n.options)}}visitAnimateRef(n,t){return{type:10,animation:this.visitReference(n.animation,t),options:Jo(n.options)}}visitQuery(n,t){const r=t.currentQuerySelector,i=n.options||{};t.queryCount++,t.currentQuery=n;const[o,s]=function m6(e){const n=!!e.split(/\s*,\s*/).find(t=>":self"==t);return n&&(e=e.replace(p6,"")),e=e.replace(/@\*/g,xd).replace(/@\w+/g,t=>xd+"-"+t.slice(1)).replace(/:animating/g,um),[e,n]}(n.selector);t.currentQuerySelector=r.length?r+" "+o:o,Ir(t.collectedStyles,t.currentQuerySelector,new Map);const a=Tr(this,Yu(n.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:n.selector,options:Jo(n.options)}}visitStagger(n,t){t.currentQuery||t.errors.push(function N3(){return new J(3013,!1)}());const r="full"===n.timings?{duration:0,delay:0,easing:"full"}:Nd(n.timings,t.errors,!0);return{type:12,animation:Tr(this,Yu(n.animation),t),timings:r,options:null}}}class v6{constructor(n){this.errors=n,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function Jo(e){return e?(e=Ju(e)).params&&(e.params=function y6(e){return e?Ju(e):null}(e.params)):e={},e}function hm(e,n,t){return{duration:e,delay:n,easing:t}}function pm(e,n,t,r,i,o,s=null,a=!1){return{type:1,element:e,keyframes:n,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Bd{constructor(){this._map=new Map}get(n){return this._map.get(n)||[]}append(n,t){let r=this._map.get(n);r||this._map.set(n,r=[]),r.push(...t)}has(n){return this._map.has(n)}clear(){this._map.clear()}}const b6=new RegExp(":enter","g"),D6=new RegExp(":leave","g");function gm(e,n,t,r,i,o=new Map,s=new Map,a,c,h=[]){return(new A6).buildKeyframes(e,n,t,r,i,o,s,a,c,h)}class A6{buildKeyframes(n,t,r,i,o,s,a,c,h,g=[]){h=h||new Bd;const m=new mm(n,t,h,i,o,g,[]);m.options=c;const I=c.delay?Ki(c.delay):0;m.currentTimeline.delayNextStep(I),m.currentTimeline.setStyles([s],null,m.errors,c),Tr(this,r,m);const O=m.timelines.filter(X=>X.containsAnimation());if(O.length&&a.size){let X;for(let ae=O.length-1;ae>=0;ae--){const pe=O[ae];if(pe.element===t){X=pe;break}}X&&!X.allowOnlyTimelineStyles()&&X.setStyles([a],null,m.errors,c)}return O.length?O.map(X=>X.buildKeyframes()):[pm(t,[],[],[],0,I,"",!1)]}visitTrigger(n,t){}visitState(n,t){}visitTransition(n,t){}visitAnimateChild(n,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(n.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(r,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=n}visitAnimateRef(n,t){const r=t.createSubContext(n.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([n.options,n.animation.options],t,r),this.visitReference(n.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=n}_applyAnimationRefDelays(n,t,r){for(const i of n){const o=i?.delay;if(o){const s="number"==typeof o?o:Ki(Qu(o,i?.params??{},t.errors));r.delayNextStep(s)}}}_visitSubInstructions(n,t,r){let o=t.currentTimeline.currentTime;const s=null!=r.duration?Ki(r.duration):null,a=null!=r.delay?Ki(r.delay):null;return 0!==s&&n.forEach(c=>{const h=t.appendInstructionToTimeline(c,s,a);o=Math.max(o,h.duration+h.delay)}),o}visitReference(n,t){t.updateOptions(n.options,!0),Tr(this,n.animation,t),t.previousNode=n}visitSequence(n,t){const r=t.subContextCount;let i=t;const o=n.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ud);const s=Ki(o.delay);i.delayNextStep(s)}n.steps.length&&(n.steps.forEach(s=>Tr(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=n}visitGroup(n,t){const r=[];let i=t.currentTimeline.currentTime;const o=n.options&&n.options.delay?Ki(n.options.delay):0;n.steps.forEach(s=>{const a=t.createSubContext(n.options);o&&a.delayNextStep(o),Tr(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=n}_visitTiming(n,t){if(n.dynamic){const r=n.strValue;return Nd(t.params?Qu(r,t.params,t.errors):r,t.errors)}return{duration:n.duration,delay:n.delay,easing:n.easing}}visitAnimate(n,t){const r=t.currentAnimateTimings=this._visitTiming(n.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=n.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=n}visitStyle(n,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||n.easing;n.isEmptyStep?r.applyEmptyStep(o):r.setStyles(n.styles,o,t.errors,t.options),t.previousNode=n}visitKeyframes(n,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,n.styles.forEach(c=>{a.forwardTime((c.offset||0)*o),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=n}visitQuery(n,t){const r=t.currentTimeline.currentTime,i=n.options||{},o=i.delay?Ki(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ud);let s=r;const a=t.invokeQuery(n.selector,n.originalSelector,n.limit,n.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((h,g)=>{t.currentQueryIndex=g;const m=t.createSubContext(n.options,h);o&&m.delayNextStep(o),h===t.element&&(c=m.currentTimeline),Tr(this,n.animation,m),m.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,m.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=n}visitStagger(n,t){const r=t.parentContext,i=t.currentTimeline,o=n.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1);let c=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const g=t.currentTimeline;c&&g.delayNextStep(c);const m=g.currentTime;Tr(this,n.animation,t),t.previousNode=n,r.currentStaggerTime=i.currentTime-m+(i.startTime-r.currentTimeline.startTime)}}const Ud={};class mm{constructor(n,t,r,i,o,s,a,c){this._driver=n,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Ud,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new Hd(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(n,t){if(!n)return;const r=n;let i=this.options;null!=r.duration&&(i.duration=Ki(r.duration)),null!=r.delay&&(i.delay=Ki(r.delay));const o=r.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=Qu(o[a],s,this.errors))})}}_copyOptions(){const n={};if(this.options){const t=this.options.params;if(t){const r=n.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return n}createSubContext(n=null,t,r){const i=t||this.element,o=new mm(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(n),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(n){return this.previousNode=Ud,this.currentTimeline=this.currentTimeline.fork(this.element,n),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(n,t,r){const i={duration:t??n.duration,delay:this.currentTimeline.currentTime+(r??0)+n.delay,easing:""},o=new I6(this._driver,n.element,n.keyframes,n.preStyleProps,n.postStyleProps,i,n.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(n){this.currentTimeline.forwardTime(this.currentTimeline.duration+n)}delayNextStep(n){n>0&&this.currentTimeline.delayNextStep(n)}invokeQuery(n,t,r,i,o,s){let a=[];if(i&&a.push(this.element),n.length>0){n=(n=n.replace(b6,"."+this._enterClassName)).replace(D6,"."+this._leaveClassName);let h=this._driver.query(this.element,n,1!=r);0!==r&&(h=r<0?h.slice(h.length+r,h.length):h.slice(0,r)),a.push(...h)}return!o&&0==a.length&&s.push(function O3(e){return new J(3014,!1)}()),a}}class Hd{constructor(n,t,r,i){this._driver=n,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(n){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+n),t&&this.snapshotCurrentStyles()):this.startTime+=n}fork(n,t){return this.applyStylesToKeyframe(),new Hd(this._driver,n,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(n){this.applyStylesToKeyframe(),this.duration=n,this._loadKeyframe()}_updateStyle(n,t){this._localTimelineStyles.set(n,t),this._globalTimelineStyles.set(n,t),this._styleSummary.set(n,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(n){n&&this._previousKeyframe.set("easing",n);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Gi),this._currentKeyframe.set(t,Gi);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(n,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},s=function T6(e,n){const t=new Map;let r;return e.forEach(i=>{if("*"===i){r=r||n.keys();for(let o of r)t.set(o,Gi)}else vo(i,t)}),t}(n,this._globalTimelineStyles);for(let[a,c]of s){const h=Qu(c,o,r);this._pendingStyles.set(a,h),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??Gi),this._updateStyle(a,h)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((n,t)=>{this._currentKeyframe.set(t,n)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((n,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,n)}))}snapshotCurrentStyles(){for(let[n,t]of this._localTimelineStyles)this._pendingStyles.set(n,t),this._updateStyle(n,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const n=[];for(let t in this._currentKeyframe)n.push(t);return n}mergeTimelineCollectedStyles(n){n._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const n=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const h=vo(a,new Map,this._backFill);h.forEach((g,m)=>{"!"===g?n.add(m):g===Gi&&t.add(m)}),r||h.set("offset",c/this.duration),i.push(h)});const o=n.size?Od(n.values()):[],s=t.size?Od(t.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return pm(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}}class I6 extends Hd{constructor(n,t,r,i,o,s,a=!1){super(n,t,s.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let n=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],s=r+t,a=t/s,c=vo(n[0]);c.set("offset",0),o.push(c);const h=vo(n[0]);h.set("offset",g1(a)),o.push(h);const g=n.length-1;for(let m=1;m<=g;m++){let I=vo(n[m]);const O=I.get("offset");I.set("offset",g1((t+O*r)/s)),o.push(I)}r=s,t=0,i="",n=o}return pm(this.element,n,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function g1(e,n=3){const t=Math.pow(10,n-1);return Math.round(e*t)/t}class ym{}const P6=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class F6 extends ym{normalizePropertyName(n,t){return dm(n)}normalizeStyleValue(n,t,r,i){let o="";const s=r.toString().trim();if(P6.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function C3(e,n){return new J(3005,!1)}())}return s+o}}function m1(e,n,t,r,i,o,s,a,c,h,g,m,I){return{type:0,element:e,triggerName:n,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:h,postStyleProps:g,totalTime:m,errors:I}}const vm={};class y1{constructor(n,t,r){this._triggerName=n,this.ast=t,this._stateStyles=r}match(n,t,r,i){return function M6(e,n,t,r,i){return e.some(o=>o(n,t,r,i))}(this.ast.matchers,n,t,r,i)}buildStyles(n,t,r){let i=this._stateStyles.get("*");return void 0!==n&&(i=this._stateStyles.get(n?.toString())||i),i?i.buildStyles(t,r):new Map}build(n,t,r,i,o,s,a,c,h,g){const m=[],I=this.ast.options&&this.ast.options.params||vm,X=this.buildStyles(r,a&&a.params||vm,m),ae=c&&c.params||vm,pe=this.buildStyles(i,ae,m),_e=new Set,he=new Map,Ae=new Map,Le="void"===i,We={params:R6(ae,I),delay:this.ast.options?.delay},Et=g?[]:gm(n,t,this.ast.animation,o,s,X,pe,We,h,m);let dn=0;if(Et.forEach(si=>{dn=Math.max(si.duration+si.delay,dn)}),m.length)return m1(t,this._triggerName,r,i,Le,X,pe,[],[],he,Ae,dn,m);Et.forEach(si=>{const Qi=si.element,QD=Ir(he,Qi,new Set);si.preStyleProps.forEach(ts=>QD.add(ts));const wl=Ir(Ae,Qi,new Set);si.postStyleProps.forEach(ts=>wl.add(ts)),Qi!==t&&_e.add(Qi)});const Ur=Od(_e.values());return m1(t,this._triggerName,r,i,Le,X,pe,Et,Ur,he,Ae,dn)}}function R6(e,n){const t=Ju(n);for(const r in e)e.hasOwnProperty(r)&&null!=e[r]&&(t[r]=e[r]);return t}class x6{constructor(n,t,r){this.styles=n,this.defaultParams=t,this.normalizer=r}buildStyles(n,t){const r=new Map,i=Ju(this.defaultParams);return Object.keys(n).forEach(o=>{const s=n[o];null!==s&&(i[o]=s)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((s,a)=>{s&&(s=Qu(s,i,t));const c=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,c,s,t),r.set(a,s)})}),r}}class O6{constructor(n,t,r){this.name=n,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new x6(i.style,i.options&&i.options.params||{},r))}),v1(this.states,"true","1"),v1(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new y1(n,i,this.states))}),this.fallbackTransition=function k6(e,n,t){return new y1(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(s,a)=>!0],options:null,queryCount:0,depCount:0},n)}(n,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(n,t,r,i){return this.transitionFactories.find(s=>s.match(n,t,r,i))||null}matchStyles(n,t,r){return this.fallbackTransition.buildStyles(n,t,r)}}function v1(e,n,t){e.has(n)?e.has(t)||e.set(t,e.get(n)):e.has(t)&&e.set(n,e.get(t))}const L6=new Bd;class V6{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(n,t){const r=[],o=fm(this._driver,t,r,[]);if(r.length)throw function j3(e){return new J(3503,!1)}();this._animations.set(n,o)}_buildPlayer(n,t,r){const i=n.element,o=e1(this._normalizer,n.keyframes,t,r);return this._driver.animate(i,o,n.duration,n.delay,n.easing,[],!0)}create(n,t,r={}){const i=[],o=this._animations.get(n);let s;const a=new Map;if(o?(s=gm(this._driver,t,o,am,Md,new Map,new Map,r,L6,i),s.forEach(g=>{const m=Ir(a,g.element,new Map);g.postStyleProps.forEach(I=>m.set(I,null))})):(i.push(function $3(){return new J(3300,!1)}()),s=[]),i.length)throw function q3(e){return new J(3504,!1)}();a.forEach((g,m)=>{g.forEach((I,O)=>{g.set(O,this._driver.computeStyle(m,O,Gi))})});const h=yo(s.map(g=>{const m=a.get(g.element);return this._buildPlayer(g,new Map,m)}));return this._playersById.set(n,h),h.onDestroy(()=>this.destroy(n)),this.players.push(h),h}destroy(n){const t=this._getPlayer(n);t.destroy(),this._playersById.delete(n);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(n){const t=this._playersById.get(n);if(!t)throw function z3(e){return new J(3301,!1)}();return t}listen(n,t,r,i){const o=im(t,"","","");return nm(this._getPlayer(n),r,o,i),()=>{}}command(n,t,r,i){if("register"==r)return void this.register(n,i[0]);if("create"==r)return void this.create(n,t,i[0]||{});const o=this._getPlayer(n);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(n)}}}const _1="ng-animate-queued",_m="ng-animate-disabled",$6=[],w1={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},q6={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ii="__ng_removed";class wm{get params(){return this.options.params}constructor(n,t=""){this.namespaceId=t;const r=n&&n.hasOwnProperty("value");if(this.value=function K6(e){return e??null}(r?n.value:n),r){const o=Ju(n);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(n){const t=n.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Zu="void",Em=new wm(Zu);class z6{constructor(n,t,r){this.id=n,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+n,Br(t,this._hostClassName)}listen(n,t,r,i){if(!this._triggers.has(t))throw function W3(e,n){return new J(3302,!1)}();if(null==r||0==r.length)throw function G3(e){return new J(3303,!1)}();if(!function J6(e){return"start"==e||"done"==e}(r))throw function K3(e,n){return new J(3400,!1)}();const o=Ir(this._elementListeners,n,[]),s={name:t,phase:r,callback:i};o.push(s);const a=Ir(this._engine.statesByElement,n,new Map);return a.has(t)||(Br(n,Rd),Br(n,Rd+"-"+t),a.set(t,Em)),()=>{this._engine.afterFlush(()=>{const c=o.indexOf(s);c>=0&&o.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(n,t){return!this._triggers.has(n)&&(this._triggers.set(n,t),!0)}_getTrigger(n){const t=this._triggers.get(n);if(!t)throw function J3(e){return new J(3401,!1)}();return t}trigger(n,t,r,i=!0){const o=this._getTrigger(t),s=new Sm(this.id,t,n);let a=this._engine.statesByElement.get(n);a||(Br(n,Rd),Br(n,Rd+"-"+t),this._engine.statesByElement.set(n,a=new Map));let c=a.get(t);const h=new wm(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&h.absorbOptions(c.options),a.set(t,h),c||(c=Em),h.value!==Zu&&c.value===h.value){if(!function Z6(e,n){const t=Object.keys(e),r=Object.keys(n);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!n.hasOwnProperty(o)||e[o]!==n[o])return!1}return!0}(c.params,h.params)){const ae=[],pe=o.matchStyles(c.value,c.params,ae),_e=o.matchStyles(h.value,h.params,ae);ae.length?this._engine.reportError(ae):this._engine.afterFlush(()=>{Ko(n,pe),Di(n,_e)})}return}const I=Ir(this._engine.playersByElement,n,[]);I.forEach(ae=>{ae.namespaceId==this.id&&ae.triggerName==t&&ae.queued&&ae.destroy()});let O=o.matchTransition(c.value,h.value,n,h.params),X=!1;if(!O){if(!i)return;O=o.fallbackTransition,X=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:t,transition:O,fromState:c,toState:h,player:s,isFallbackTransition:X}),X||(Br(n,_1),s.onStart(()=>{ha(n,_1)})),s.onDone(()=>{let ae=this.players.indexOf(s);ae>=0&&this.players.splice(ae,1);const pe=this._engine.playersByElement.get(n);if(pe){let _e=pe.indexOf(s);_e>=0&&pe.splice(_e,1)}}),this.players.push(s),I.push(s),s}deregister(n){this._triggers.delete(n),this._engine.statesByElement.forEach(t=>t.delete(n)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=n))})}clearElementCache(n){this._engine.statesByElement.delete(n),this._elementListeners.delete(n);const t=this._engine.playersByElement.get(n);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(n))}_signalRemovalForInnerTriggers(n,t){const r=this._engine.driver.query(n,xd,!0);r.forEach(i=>{if(i[ii])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(n,t,r,i){const o=this._engine.statesByElement.get(n),s=new Map;if(o){const a=[];if(o.forEach((c,h)=>{if(s.set(h,c.value),this._triggers.has(h)){const g=this.trigger(n,h,Zu,i);g&&a.push(g)}}),a.length)return this._engine.markElementAsRemoved(this.id,n,!0,t,s),r&&yo(a).onDone(()=>this._engine.processLeaveNode(n)),!0}return!1}prepareLeaveAnimationListeners(n){const t=this._elementListeners.get(n),r=this._engine.statesByElement.get(n);if(t&&r){const i=new Set;t.forEach(o=>{const s=o.name;if(i.has(s))return;i.add(s);const c=this._triggers.get(s).fallbackTransition,h=r.get(s)||Em,g=new wm(Zu),m=new Sm(this.id,s,n);this._engine.totalQueuedPlayers++,this._queue.push({element:n,triggerName:s,transition:c,fromState:h,toState:g,player:m,isFallbackTransition:!0})})}}removeNode(n,t){const r=this._engine;if(n.childElementCount&&this._signalRemovalForInnerTriggers(n,t),this.triggerLeaveAnimation(n,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(n):[];if(o&&o.length)i=!0;else{let s=n;for(;s=s.parentNode;)if(r.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(n),i)r.markElementAsRemoved(this.id,n,!1,t);else{const o=n[ii];(!o||o===w1)&&(r.afterFlush(()=>this.clearElementCache(n)),r.destroyInnerAnimations(n),r._onRemovalComplete(n,t))}}insertNode(n,t){Br(n,this._hostClassName)}drainQueuedTransitions(n){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==r.triggerName){const c=im(o,r.triggerName,r.fromState.value,r.toState.value);c._data=n,nm(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,s=i.transition.ast.depCount;return 0==o||0==s?o-s:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(n){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,n)}}class W6{_onRemovalComplete(n,t){this.onRemovalComplete(n,t)}constructor(n,t,r){this.bodyNode=n,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const n=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&n.push(r)})}),n}createNamespace(n,t){const r=new z6(n,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[n]=r}_balanceNamespaceList(n,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const h=r.indexOf(c);r.splice(h+1,0,n),s=!0;break}a=this.driver.getParentElement(a)}s||r.unshift(n)}else r.push(n);return i.set(t,n),n}register(n,t){let r=this._namespaceLookup[n];return r||(r=this.createNamespace(n,t)),r}registerTrigger(n,t,r){let i=this._namespaceLookup[n];i&&i.register(t,r)&&this.totalAnimations++}destroy(n,t){n&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(n);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[n]}))}_fetchNamespace(n){return this._namespaceLookup[n]}fetchNamespacesByElement(n){const t=new Set,r=this.statesByElement.get(n);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(n,t,r,i){if(jd(t)){const o=this._fetchNamespace(n);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(n,t,r,i){if(!jd(t))return;const o=t[ii];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(n){const s=this._fetchNamespace(n);s&&s.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(n){this.collectedEnterElements.push(n)}markElementAsDisabled(n,t){t?this.disabledNodes.has(n)||(this.disabledNodes.add(n),Br(n,_m)):this.disabledNodes.has(n)&&(this.disabledNodes.delete(n),ha(n,_m))}removeNode(n,t,r){if(jd(t)){const i=n?this._fetchNamespace(n):null;i?i.removeNode(t,r):this.markElementAsRemoved(n,t,!1,r);const o=this.namespacesByHostElement.get(t);o&&o.id!==n&&o.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(n,t,r,i,o){this.collectedLeaveElements.push(t),t[ii]={namespaceId:n,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(n,t,r,i,o){return jd(t)?this._fetchNamespace(n).listen(t,r,i,o):()=>{}}_buildInstruction(n,t,r,i,o){return n.transition.build(this.driver,n.element,n.fromState.value,n.toState.value,r,i,n.fromState.options,n.toState.options,t,o)}destroyInnerAnimations(n){let t=this.driver.query(n,xd,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(n,um,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(n){const t=this.playersByElement.get(n);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(n){const t=this.playersByQueriedElement.get(n);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(n=>{if(this.players.length)return yo(this.players).onDone(()=>n());n()})}processLeaveNode(n){const t=n[ii];if(t&&t.setForRemoval){if(n[ii]=w1,t.namespaceId){this.destroyInnerAnimations(n);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(n)}this._onRemovalComplete(n,t.setForRemoval)}n.classList?.contains(_m)&&this.markElementAsDisabled(n,!1),this.driver.query(n,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(n=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Br(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,n)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?yo(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(n){throw function Y3(e){return new J(3402,!1)}()}_flushAnimations(n,t){const r=new Bd,i=[],o=new Map,s=[],a=new Map,c=new Map,h=new Map,g=new Set;this.disabledNodes.forEach(je=>{g.add(je);const ze=this.driver.query(je,".ng-animate-queued",!0);for(let Ke=0;Ke<ze.length;Ke++)g.add(ze[Ke])});const m=this.bodyNode,I=Array.from(this.statesByElement.keys()),O=b1(I,this.collectedEnterElements),X=new Map;let ae=0;O.forEach((je,ze)=>{const Ke=am+ae++;X.set(ze,Ke),je.forEach(pt=>Br(pt,Ke))});const pe=[],_e=new Set,he=new Set;for(let je=0;je<this.collectedLeaveElements.length;je++){const ze=this.collectedLeaveElements[je],Ke=ze[ii];Ke&&Ke.setForRemoval&&(pe.push(ze),_e.add(ze),Ke.hasAnimation?this.driver.query(ze,".ng-star-inserted",!0).forEach(pt=>_e.add(pt)):he.add(ze))}const Ae=new Map,Le=b1(I,Array.from(_e));Le.forEach((je,ze)=>{const Ke=Md+ae++;Ae.set(ze,Ke),je.forEach(pt=>Br(pt,Ke))}),n.push(()=>{O.forEach((je,ze)=>{const Ke=X.get(ze);je.forEach(pt=>ha(pt,Ke))}),Le.forEach((je,ze)=>{const Ke=Ae.get(ze);je.forEach(pt=>ha(pt,Ke))}),pe.forEach(je=>{this.processLeaveNode(je)})});const We=[],Et=[];for(let je=this._namespaceList.length-1;je>=0;je--)this._namespaceList[je].drainQueuedTransitions(t).forEach(Ke=>{const pt=Ke.player,Tn=Ke.element;if(We.push(pt),this.collectedEnterElements.length){const Qn=Tn[ii];if(Qn&&Qn.setForMove){if(Qn.previousTriggersValues&&Qn.previousTriggersValues.has(Ke.triggerName)){const ns=Qn.previousTriggersValues.get(Ke.triggerName),Hr=this.statesByElement.get(Ke.element);if(Hr&&Hr.has(Ke.triggerName)){const pf=Hr.get(Ke.triggerName);pf.value=ns,Hr.set(Ke.triggerName,pf)}}return void pt.destroy()}}const Fi=!m||!this.driver.containsElement(m,Tn),Pr=Ae.get(Tn),So=X.get(Tn),en=this._buildInstruction(Ke,r,So,Pr,Fi);if(en.errors&&en.errors.length)return void Et.push(en);if(Fi)return pt.onStart(()=>Ko(Tn,en.fromStyles)),pt.onDestroy(()=>Di(Tn,en.toStyles)),void i.push(pt);if(Ke.isFallbackTransition)return pt.onStart(()=>Ko(Tn,en.fromStyles)),pt.onDestroy(()=>Di(Tn,en.toStyles)),void i.push(pt);const eA=[];en.timelines.forEach(Qn=>{Qn.stretchStartingKeyframe=!0,this.disabledNodes.has(Qn.element)||eA.push(Qn)}),en.timelines=eA,r.append(Tn,en.timelines),s.push({instruction:en,player:pt,element:Tn}),en.queriedElements.forEach(Qn=>Ir(a,Qn,[]).push(pt)),en.preStyleProps.forEach((Qn,ns)=>{if(Qn.size){let Hr=c.get(ns);Hr||c.set(ns,Hr=new Set),Qn.forEach((pf,Xm)=>Hr.add(Xm))}}),en.postStyleProps.forEach((Qn,ns)=>{let Hr=h.get(ns);Hr||h.set(ns,Hr=new Set),Qn.forEach((pf,Xm)=>Hr.add(Xm))})});if(Et.length){const je=[];Et.forEach(ze=>{je.push(function Q3(e,n){return new J(3505,!1)}())}),We.forEach(ze=>ze.destroy()),this.reportError(je)}const dn=new Map,Ur=new Map;s.forEach(je=>{const ze=je.element;r.has(ze)&&(Ur.set(ze,ze),this._beforeAnimationBuild(je.player.namespaceId,je.instruction,dn))}),i.forEach(je=>{const ze=je.element;this._getPreviousPlayers(ze,!1,je.namespaceId,je.triggerName,null).forEach(pt=>{Ir(dn,ze,[]).push(pt),pt.destroy()})});const si=pe.filter(je=>D1(je,c,h)),Qi=new Map;S1(Qi,this.driver,he,h,Gi).forEach(je=>{D1(je,c,h)&&si.push(je)});const wl=new Map;O.forEach((je,ze)=>{S1(wl,this.driver,new Set(je),c,"!")}),si.forEach(je=>{const ze=Qi.get(je),Ke=wl.get(je);Qi.set(je,new Map([...ze?.entries()??[],...Ke?.entries()??[]]))});const ts=[],ZD=[],XD={};s.forEach(je=>{const{element:ze,player:Ke,instruction:pt}=je;if(r.has(ze)){if(g.has(ze))return Ke.onDestroy(()=>Di(ze,pt.toStyles)),Ke.disabled=!0,Ke.overrideTotalTime(pt.totalTime),void i.push(Ke);let Tn=XD;if(Ur.size>1){let Pr=ze;const So=[];for(;Pr=Pr.parentNode;){const en=Ur.get(Pr);if(en){Tn=en;break}So.push(Pr)}So.forEach(en=>Ur.set(en,Tn))}const Fi=this._buildAnimation(Ke.namespaceId,pt,dn,o,wl,Qi);if(Ke.setRealPlayer(Fi),Tn===XD)ts.push(Ke);else{const Pr=this.playersByElement.get(Tn);Pr&&Pr.length&&(Ke.parentPlayer=yo(Pr)),i.push(Ke)}}else Ko(ze,pt.fromStyles),Ke.onDestroy(()=>Di(ze,pt.toStyles)),ZD.push(Ke),g.has(ze)&&i.push(Ke)}),ZD.forEach(je=>{const ze=o.get(je.element);if(ze&&ze.length){const Ke=yo(ze);je.setRealPlayer(Ke)}}),i.forEach(je=>{je.parentPlayer?je.syncPlayerEvents(je.parentPlayer):je.destroy()});for(let je=0;je<pe.length;je++){const ze=pe[je],Ke=ze[ii];if(ha(ze,Md),Ke&&Ke.hasAnimation)continue;let pt=[];if(a.size){let Fi=a.get(ze);Fi&&Fi.length&&pt.push(...Fi);let Pr=this.driver.query(ze,um,!0);for(let So=0;So<Pr.length;So++){let en=a.get(Pr[So]);en&&en.length&&pt.push(...en)}}const Tn=pt.filter(Fi=>!Fi.destroyed);Tn.length?Y6(this,ze,Tn):this.processLeaveNode(ze)}return pe.length=0,ts.forEach(je=>{this.players.push(je),je.onDone(()=>{je.destroy();const ze=this.players.indexOf(je);this.players.splice(ze,1)}),je.play()}),ts}afterFlush(n){this._flushFns.push(n)}afterFlushAnimationsDone(n){this._whenQuietFns.push(n)}_getPreviousPlayers(n,t,r,i,o){let s=[];if(t){const a=this.playersByQueriedElement.get(n);a&&(s=a)}else{const a=this.playersByElement.get(n);if(a){const c=!o||o==Zu;a.forEach(h=>{h.queued||!c&&h.triggerName!=i||s.push(h)})}}return(r||i)&&(s=s.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(n,t,r){const o=t.element,s=t.isRemovalTransition?void 0:n,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const h=c.element,g=h!==o,m=Ir(r,h,[]);this._getPreviousPlayers(h,g,s,a,t.toState).forEach(O=>{const X=O.getRealPlayer();X.beforeDestroy&&X.beforeDestroy(),O.destroy(),m.push(O)})}Ko(o,t.fromStyles)}_buildAnimation(n,t,r,i,o,s){const a=t.triggerName,c=t.element,h=[],g=new Set,m=new Set,I=t.timelines.map(X=>{const ae=X.element;g.add(ae);const pe=ae[ii];if(pe&&pe.removedBeforeQueried)return new Ku(X.duration,X.delay);const _e=ae!==c,he=function Q6(e){const n=[];return C1(e,n),n}((r.get(ae)||$6).map(dn=>dn.getRealPlayer())).filter(dn=>!!dn.element&&dn.element===ae),Ae=o.get(ae),Le=s.get(ae),We=e1(this._normalizer,X.keyframes,Ae,Le),Et=this._buildPlayer(X,We,he);if(X.subTimeline&&i&&m.add(ae),_e){const dn=new Sm(n,a,ae);dn.setRealPlayer(Et),h.push(dn)}return Et});h.forEach(X=>{Ir(this.playersByQueriedElement,X.element,[]).push(X),X.onDone(()=>function G6(e,n,t){let r=e.get(n);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&e.delete(n)}return r}(this.playersByQueriedElement,X.element,X))}),g.forEach(X=>Br(X,a1));const O=yo(I);return O.onDestroy(()=>{g.forEach(X=>ha(X,a1)),Di(c,t.toStyles)}),m.forEach(X=>{Ir(i,X,[]).push(O)}),O}_buildPlayer(n,t,r){return t.length>0?this.driver.animate(n.element,t,n.duration,n.delay,n.easing,r):new Ku(n.duration,n.delay)}}class Sm{constructor(n,t,r){this.namespaceId=n,this.triggerName=t,this.element=r,this._player=new Ku,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(n){this._containsRealPlayer||(this._player=n,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>nm(n,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(n.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(n){this.totalTime=n}syncPlayerEvents(n){const t=this._player;t.triggerCallback&&n.onStart(()=>t.triggerCallback("start")),n.onDone(()=>this.finish()),n.onDestroy(()=>this.destroy())}_queueEvent(n,t){Ir(this._queuedCallbacks,n,[]).push(t)}onDone(n){this.queued&&this._queueEvent("done",n),this._player.onDone(n)}onStart(n){this.queued&&this._queueEvent("start",n),this._player.onStart(n)}onDestroy(n){this.queued&&this._queueEvent("destroy",n),this._player.onDestroy(n)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(n){this.queued||this._player.setPosition(n)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(n){const t=this._player;t.triggerCallback&&t.triggerCallback(n)}}function jd(e){return e&&1===e.nodeType}function E1(e,n){const t=e.style.display;return e.style.display=n??"none",t}function S1(e,n,t,r,i){const o=[];t.forEach(c=>o.push(E1(c)));const s=[];r.forEach((c,h)=>{const g=new Map;c.forEach(m=>{const I=n.computeStyle(h,m,i);g.set(m,I),(!I||0==I.length)&&(h[ii]=q6,s.push(h))}),e.set(h,g)});let a=0;return t.forEach(c=>E1(c,o[a++])),s}function b1(e,n){const t=new Map;if(e.forEach(a=>t.set(a,[])),0==n.length)return t;const i=new Set(n),o=new Map;function s(a){if(!a)return 1;let c=o.get(a);if(c)return c;const h=a.parentNode;return c=t.has(h)?h:i.has(h)?1:s(h),o.set(a,c),c}return n.forEach(a=>{const c=s(a);1!==c&&t.get(c).push(a)}),t}function Br(e,n){e.classList?.add(n)}function ha(e,n){e.classList?.remove(n)}function Y6(e,n,t){yo(t).onDone(()=>e.processLeaveNode(n))}function C1(e,n){for(let t=0;t<e.length;t++){const r=e[t];r instanceof ZC?C1(r.players,n):n.push(r)}}function D1(e,n,t){const r=t.get(e);if(!r)return!1;let i=n.get(e);return i?r.forEach(o=>i.add(o)):n.set(e,r),t.delete(e),!0}class $d{constructor(n,t,r){this.bodyNode=n,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new W6(n,t,r),this._timelineEngine=new V6(n,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(n,t,r,i,o){const s=n+"-"+i;let a=this._triggerCache[s];if(!a){const c=[],g=fm(this._driver,o,c,[]);if(c.length)throw function U3(e,n){return new J(3404,!1)}();a=function N6(e,n,t){return new O6(e,n,t)}(i,g,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(n,t){this._transitionEngine.register(n,t)}destroy(n,t){this._transitionEngine.destroy(n,t)}onInsert(n,t,r,i){this._transitionEngine.insertNode(n,t,r,i)}onRemove(n,t,r){this._transitionEngine.removeNode(n,t,r)}disableAnimations(n,t){this._transitionEngine.markElementAsDisabled(n,t)}process(n,t,r,i){if("@"==r.charAt(0)){const[o,s]=t1(r);this._timelineEngine.command(o,t,s,i)}else this._transitionEngine.trigger(n,t,r,i)}listen(n,t,r,i,o){if("@"==r.charAt(0)){const[s,a]=t1(r);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(n,t,r,i,o)}flush(n=-1){this._transitionEngine.flush(n)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(n){this._transitionEngine.afterFlushAnimationsDone(n)}}let e4=(()=>{class e{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=e.initialStylesByElement.get(t);o||e.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&Di(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Di(this._element,this._initialStyles),this._endStyles&&(Di(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Ko(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Ko(this._element,this._endStyles),this._endStyles=null),Di(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function bm(e){let n=null;return e.forEach((t,r)=>{(function t4(e){return"display"===e||"position"===e})(r)&&(n=n||new Map,n.set(r,t))}),n}class A1{constructor(n,t,r,i){this.element=n,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(n=>n()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const n=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,n,this.options),this._finalKeyframe=n.length?n[n.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(n){const t=[];return n.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(n,t,r){return n.animate(this._convertKeyframesToObject(t),r)}onStart(n){this._originalOnStartFns.push(n),this._onStartFns.push(n)}onDone(n){this._originalOnDoneFns.push(n),this._onDoneFns.push(n)}onDestroy(n){this._onDestroyFns.push(n)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(n=>n()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(n=>n()),this._onDestroyFns=[])}setPosition(n){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=n*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const n=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&n.set(i,this._finished?r:d1(this.element,i))}),this.currentSnapshot=n}triggerCallback(n){const t="start"===n?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class n4{validateStyleProperty(n){return!0}validateAnimatableStyleProperty(n){return!0}matchesElement(n,t){return!1}containsElement(n,t){return r1(n,t)}getParentElement(n){return om(n)}query(n,t,r){return i1(n,t,r)}computeStyle(n,t,r){return window.getComputedStyle(n)[t]}animate(n,t,r,i,o,s=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(c.easing=o);const h=new Map,g=s.filter(O=>O instanceof A1);(function l6(e,n){return 0===e||0===n})(r,i)&&g.forEach(O=>{O.currentSnapshot.forEach((X,ae)=>h.set(ae,X))});let m=function s6(e){return e.length?e[0]instanceof Map?e:e.map(n=>u1(n)):[]}(t).map(O=>vo(O));m=function c6(e,n,t){if(t.size&&n.length){let r=n[0],i=[];if(t.forEach((o,s)=>{r.has(s)||i.push(s),r.set(s,o)}),i.length)for(let o=1;o<n.length;o++){let s=n[o];i.forEach(a=>s.set(a,d1(e,a)))}}return n}(n,m,h);const I=function X6(e,n){let t=null,r=null;return Array.isArray(n)&&n.length?(t=bm(n[0]),n.length>1&&(r=bm(n[n.length-1]))):n instanceof Map&&(t=bm(n)),t||r?new e4(e,t,r):null}(n,m);return new A1(n,m,c,I)}}let r4=(()=>{class e extends KC{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:xr.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?QC(t):t;return I1(this._renderer,null,r,"register",[i]),new i4(r,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(Fe(uu),Fe(Nn))},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})();class i4 extends g3{constructor(n,t){super(),this._id=n,this._renderer=t}create(n,t){return new o4(this._id,n,t||{},this._renderer)}}class o4{constructor(n,t,r,i){this.id=n,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(n,t){return this._renderer.listen(this.element,`@@${this.id}:${n}`,t)}_command(n,...t){return I1(this._renderer,this.element,this.id,n,t)}onDone(n){this._listen("done",n)}onStart(n){this._listen("start",n)}onDestroy(n){this._listen("destroy",n)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(n){this._command("setPosition",n)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function I1(e,n,t,r,i){return e.setProperty(n,`@@${t}:${r}`,i)}const T1="@.disabled";let s4=(()=>{class e{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(o,s)=>{const a=s?.parentNode(o);a&&s.removeChild(a,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let g=this._rendererCache.get(o);return g||(g=new P1("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,g)),g}const s=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=g=>{Array.isArray(g)?g.forEach(c):this.engine.registerTrigger(s,a,t,g.name,g)};return r.data.animation.forEach(c),new a4(this,a,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(Fe(uu),Fe($d),Fe(Nt))},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})();class P1{constructor(n,t,r,i){this.namespaceId=n,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(n){this.delegate.destroyNode?.(n)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(n,t){return this.delegate.createElement(n,t)}createComment(n){return this.delegate.createComment(n)}createText(n){return this.delegate.createText(n)}appendChild(n,t){this.delegate.appendChild(n,t),this.engine.onInsert(this.namespaceId,t,n,!1)}insertBefore(n,t,r,i=!0){this.delegate.insertBefore(n,t,r),this.engine.onInsert(this.namespaceId,t,n,i)}removeChild(n,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(n,t){return this.delegate.selectRootElement(n,t)}parentNode(n){return this.delegate.parentNode(n)}nextSibling(n){return this.delegate.nextSibling(n)}setAttribute(n,t,r,i){this.delegate.setAttribute(n,t,r,i)}removeAttribute(n,t,r){this.delegate.removeAttribute(n,t,r)}addClass(n,t){this.delegate.addClass(n,t)}removeClass(n,t){this.delegate.removeClass(n,t)}setStyle(n,t,r,i){this.delegate.setStyle(n,t,r,i)}removeStyle(n,t,r){this.delegate.removeStyle(n,t,r)}setProperty(n,t,r){"@"==t.charAt(0)&&t==T1?this.disableAnimations(n,!!r):this.delegate.setProperty(n,t,r)}setValue(n,t){this.delegate.setValue(n,t)}listen(n,t,r){return this.delegate.listen(n,t,r)}disableAnimations(n,t){this.engine.disableAnimations(n,t)}}class a4 extends P1{constructor(n,t,r,i,o){super(t,r,i,o),this.factory=n,this.namespaceId=t}setProperty(n,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==T1?this.disableAnimations(n,r=void 0===r||!!r):this.engine.process(this.namespaceId,n,t.slice(1),r):this.delegate.setProperty(n,t,r)}listen(n,t,r){if("@"==t.charAt(0)){const i=function u4(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(n);let o=t.slice(1),s="";return"@"!=o.charAt(0)&&([o,s]=function l4(e){const n=e.indexOf(".");return[e.substring(0,n),e.slice(n+1)]}(o)),this.engine.listen(this.namespaceId,i,o,s,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(n,t,r)}}const F1=[{provide:KC,useClass:r4},{provide:ym,useFactory:function d4(){return new F6}},{provide:$d,useClass:(()=>{class e extends $d{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(Fe(Nn),Fe(sm),Fe(ym),Fe(Ho))},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})()},{provide:uu,useFactory:function f4(e,n,t){return new s4(e,n,t)},deps:[Dg,$d,Nt]}],Cm=[{provide:sm,useFactory:()=>new n4},{provide:_0,useValue:"BrowserAnimations"},...F1],M1=[{provide:sm,useClass:o1},{provide:_0,useValue:"NoopAnimations"},...F1];let h4=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?M1:Cm}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=gt({providers:Cm,imports:[vb]}),e})();function Dm(...e){const n=Ao(e),t=function Al(e){return Q(Ra(e))?e.pop():void 0}(e),{args:r,keys:i}=function bb(e){if(1===e.length){const n=e[0];if(Ok(n))return{args:n,keys:null};if(function Bk(e){return e&&"object"==typeof e&&kk(e)===Lk}(n)){const t=Vk(n);return{args:t.map(r=>n[r]),keys:t}}}return{args:e,keys:null}}(e);if(0===r.length)return v([],n);const o=new qe(function g4(e,n,t=tn){return r=>{R1(n,()=>{const{length:i}=e,o=new Array(i);let s=i,a=i;for(let c=0;c<i;c++)R1(n,()=>{const h=v(e[c],n);let g=!1;h.subscribe(ct(r,m=>{o[c]=m,g||(g=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}(r,n,i?s=>function Db(e,n){return e.reduce((t,r,i)=>(t[r]=n[i],t),{})}(i,s):tn));return t?o.pipe(function Cb(e){return _(n=>function Hk(e,n){return Uk(n)?e(...n):e(n)}(e,n))}(t)):o}function R1(e,n,t){e?St(t,e,n):n()}const zd=G(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function Wd(...e){return function m4(){return Mi(1)}()(v(e,Ao(e)))}function x1(e){return new qe(n=>{Mn(e()).subscribe(n)})}function Xu(e,n){const t=Q(e)?e:()=>e,r=i=>i.error(t());return new qe(n?i=>n.schedule(r,0,i):r)}function Am(){return ht((e,n)=>{let t=null;e._refCount++;const r=ct(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount)return void(t=null);const i=e._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),n.unsubscribe()});e.subscribe(r),r.closed||(t=e.connect())})}class N1 extends qe{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,fn(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){const n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new M;const t=this.getSubject();n.add(this.source.subscribe(ct(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),n.closed&&(this._connection=null,n=M.EMPTY)}return n}refCount(){return Am()(this)}}function _o(e){return e<=0?()=>wr:ht((n,t)=>{let r=0;n.subscribe(ct(t,i=>{++r<=e&&(t.next(i),e<=r&&t.complete())}))})}function Gd(e){return ht((n,t)=>{let r=!1;n.subscribe(ct(t,i=>{r=!0,t.next(i)},()=>{r||t.next(e),t.complete()}))})}function O1(e=v4){return ht((n,t)=>{let r=!1;n.subscribe(ct(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(e())))})}function v4(){return new zd}function Yo(e,n){const t=arguments.length>=2;return r=>r.pipe(e?ri((i,o)=>e(i,o,r)):tn,_o(1),t?Gd(n):O1(()=>new zd))}function On(e,n,t){const r=Q(e)||n||t?{next:e,error:n,complete:t}:e;return r?ht((i,o)=>{var s;null===(s=r.subscribe)||void 0===s||s.call(r);let a=!0;i.subscribe(ct(o,c=>{var h;null===(h=r.next)||void 0===h||h.call(r,c),o.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),o.complete()},c=>{var h;a=!1,null===(h=r.error)||void 0===h||h.call(r,c),o.error(c)},()=>{var c,h;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(h=r.finalize)||void 0===h||h.call(r)}))}):tn}function Qo(e){return ht((n,t)=>{let o,r=null,i=!1;r=n.subscribe(ct(t,void 0,void 0,s=>{o=Mn(e(s,Qo(e)(n))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Im(e){return e<=0?()=>wr:ht((n,t)=>{let r=[];n.subscribe(ct(t,i=>{r.push(i),e<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}const nt="primary",el=Symbol("RouteTitle");class b4{constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){const t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function pa(e){return new b4(e)}function C4(e,n,t){const r=t.path.split("/");if(r.length>e.length||"full"===t.pathMatch&&(n.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const s=r[o],a=e[o];if(s.startsWith(":"))i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Ai(e,n){const t=e?Object.keys(e):void 0,r=n?Object.keys(n):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!k1(e[i],n[i]))return!1;return!0}function k1(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;const t=[...e].sort(),r=[...n].sort();return t.every((i,o)=>r[o]===i)}return e===n}function L1(e){return e.length>0?e[e.length-1]:null}function wo(e){return function p4(e){return!!e&&(e instanceof qe||Q(e.lift)&&Q(e.subscribe))}(e)?e:Eu(e)?v(Promise.resolve(e)):A(e)}const A4={exact:function U1(e,n,t){if(!Zo(e.segments,n.segments)||!Kd(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const r in n.children)if(!e.children[r]||!U1(e.children[r],n.children[r],t))return!1;return!0},subset:H1},V1={exact:function I4(e,n){return Ai(e,n)},subset:function T4(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>k1(e[t],n[t]))},ignored:()=>!0};function B1(e,n,t){return A4[t.paths](e.root,n.root,t.matrixParams)&&V1[t.queryParams](e.queryParams,n.queryParams)&&!("exact"===t.fragment&&e.fragment!==n.fragment)}function H1(e,n,t){return j1(e,n,n.segments,t)}function j1(e,n,t,r){if(e.segments.length>t.length){const i=e.segments.slice(0,t.length);return!(!Zo(i,t)||n.hasChildren()||!Kd(i,t,r))}if(e.segments.length===t.length){if(!Zo(e.segments,t)||!Kd(e.segments,t,r))return!1;for(const i in n.children)if(!e.children[i]||!H1(e.children[i],n.children[i],r))return!1;return!0}{const i=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!!(Zo(e.segments,i)&&Kd(e.segments,i,r)&&e.children[nt])&&j1(e.children[nt],n,o,r)}}function Kd(e,n,t){return n.every((r,i)=>V1[t](e[i].parameters,r.parameters))}class ga{constructor(n=new Ct([],{}),t={},r=null){this.root=n,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pa(this.queryParams)),this._queryParamMap}toString(){return M4.serialize(this)}}class Ct{constructor(n,t){this.segments=n,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Jd(this)}}class tl{constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=pa(this.parameters)),this._parameterMap}toString(){return z1(this)}}function Zo(e,n){return e.length===n.length&&e.every((t,r)=>t.path===n[r].path)}let nl=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:function(){return new Tm},providedIn:"root"}),e})();class Tm{parse(n){const t=new j4(n);return new ga(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){const t=`/${rl(n.root,!0)}`,r=function N4(e){const n=Object.keys(e).map(t=>{const r=e[t];return Array.isArray(r)?r.map(i=>`${Yd(t)}=${Yd(i)}`).join("&"):`${Yd(t)}=${Yd(r)}`}).filter(t=>!!t);return n.length?`?${n.join("&")}`:""}(n.queryParams);return`${t}${r}${"string"==typeof n.fragment?`#${function R4(e){return encodeURI(e)}(n.fragment)}`:""}`}}const M4=new Tm;function Jd(e){return e.segments.map(n=>z1(n)).join("/")}function rl(e,n){if(!e.hasChildren())return Jd(e);if(n){const t=e.children[nt]?rl(e.children[nt],!1):"",r=[];return Object.entries(e.children).forEach(([i,o])=>{i!==nt&&r.push(`${i}:${rl(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function F4(e,n){let t=[];return Object.entries(e.children).forEach(([r,i])=>{r===nt&&(t=t.concat(n(i,r)))}),Object.entries(e.children).forEach(([r,i])=>{r!==nt&&(t=t.concat(n(i,r)))}),t}(e,(r,i)=>i===nt?[rl(e.children[nt],!1)]:[`${i}:${rl(r,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children[nt]?`${Jd(e)}/${t[0]}`:`${Jd(e)}/(${t.join("//")})`}}function $1(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Yd(e){return $1(e).replace(/%3B/gi,";")}function Pm(e){return $1(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Qd(e){return decodeURIComponent(e)}function q1(e){return Qd(e.replace(/\+/g,"%20"))}function z1(e){return`${Pm(e.path)}${function x4(e){return Object.keys(e).map(n=>`;${Pm(n)}=${Pm(e[n])}`).join("")}(e.parameters)}`}const O4=/^[^\/()?;#]+/;function Fm(e){const n=e.match(O4);return n?n[0]:""}const k4=/^[^\/()?;=#]+/,V4=/^[^=?&#]+/,U4=/^[^&#]+/;class j4{constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ct([],{}):new Ct([],this.parseChildren())}parseQueryParams(){const n={};if(this.consumeOptional("?"))do{this.parseQueryParam(n)}while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(r[nt]=new Ct(n,t)),r}parseSegment(){const n=Fm(this.remaining);if(""===n&&this.peekStartsWith(";"))throw new J(4009,!1);return this.capture(n),new tl(Qd(n),this.parseMatrixParams())}parseMatrixParams(){const n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){const t=function L4(e){const n=e.match(k4);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Fm(this.remaining);i&&(r=i,this.capture(r))}n[Qd(t)]=Qd(r)}parseQueryParam(n){const t=function B4(e){const n=e.match(V4);return n?n[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=function H4(e){const n=e.match(U4);return n?n[0]:""}(this.remaining);s&&(r=s,this.capture(r))}const i=q1(t),o=q1(r);if(n.hasOwnProperty(i)){let s=n[i];Array.isArray(s)||(s=[s],n[i]=s),s.push(o)}else n[i]=o}parseParens(n){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Fm(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new J(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=nt);const s=this.parseChildren();t[o]=1===Object.keys(s).length?s[nt]:new Ct([],s),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return!!this.peekStartsWith(n)&&(this.remaining=this.remaining.substring(n.length),!0)}capture(n){if(!this.consumeOptional(n))throw new J(4011,!1)}}function W1(e){return e.segments.length>0?new Ct([],{[nt]:e}):e}function G1(e){const n={};for(const r of Object.keys(e.children)){const o=G1(e.children[r]);if(r===nt&&0===o.segments.length&&o.hasChildren())for(const[s,a]of Object.entries(o.children))n[s]=a;else(o.segments.length>0||o.hasChildren())&&(n[r]=o)}return function $4(e){if(1===e.numberOfChildren&&e.children[nt]){const n=e.children[nt];return new Ct(e.segments.concat(n.segments),n.children)}return e}(new Ct(e.segments,n))}function Xo(e){return e instanceof ga}function K1(e){let n;const i=W1(function t(o){const s={};for(const c of o.children){const h=t(c);s[c.outlet]=h}const a=new Ct(o.url,s);return o===e&&(n=a),a}(e.root));return n??i}function J1(e,n,t,r){let i=e;for(;i.parent;)i=i.parent;if(0===n.length)return Mm(i,i,i,t,r);const o=function z4(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Q1(!0,0,e);let n=0,t=!1;const r=e.reduce((i,o,s)=>{if("object"==typeof o&&null!=o){if(o.outlets){const a={};return Object.entries(o.outlets).forEach(([c,h])=>{a[c]="string"==typeof h?h.split("/"):h}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===s?(o.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?n++:""!=a&&i.push(a))}),i):[...i,o]},[]);return new Q1(t,n,r)}(n);if(o.toRoot())return Mm(i,i,new Ct([],{}),t,r);const s=function W4(e,n,t){if(e.isAbsolute)return new Xd(n,!0,0);if(!t)return new Xd(n,!1,NaN);if(null===t.parent)return new Xd(t,!0,0);const r=Zd(e.commands[0])?0:1;return function G4(e,n,t){let r=e,i=n,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new J(4005,!1);i=r.segments.length}return new Xd(r,!1,i-o)}(t,t.segments.length-1+r,e.numberOfDoubleDots)}(o,i,e),a=s.processChildren?ol(s.segmentGroup,s.index,o.commands):Z1(s.segmentGroup,s.index,o.commands);return Mm(i,s.segmentGroup,a,t,r)}function Zd(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function il(e){return"object"==typeof e&&null!=e&&e.outlets}function Mm(e,n,t,r,i){let s,o={};r&&Object.entries(r).forEach(([c,h])=>{o[c]=Array.isArray(h)?h.map(g=>`${g}`):`${h}`}),s=e===n?t:Y1(e,n,t);const a=W1(G1(s));return new ga(a,o,i)}function Y1(e,n,t){const r={};return Object.entries(e.children).forEach(([i,o])=>{r[i]=o===n?t:Y1(o,n,t)}),new Ct(e.segments,r)}class Q1{constructor(n,t,r){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=r,n&&r.length>0&&Zd(r[0]))throw new J(4003,!1);const i=r.find(il);if(i&&i!==L1(r))throw new J(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Xd{constructor(n,t,r){this.segmentGroup=n,this.processChildren=t,this.index=r}}function Z1(e,n,t){if(e||(e=new Ct([],{})),0===e.segments.length&&e.hasChildren())return ol(e,n,t);const r=function J4(e,n,t){let r=0,i=n;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=t.length)return o;const s=e.segments[i],a=t[r];if(il(a))break;const c=`${a}`,h=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&h&&"object"==typeof h&&void 0===h.outlets){if(!eD(c,h,s))return o;r+=2}else{if(!eD(c,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,n,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const o=new Ct(e.segments.slice(0,r.pathIndex),{});return o.children[nt]=new Ct(e.segments.slice(r.pathIndex),e.children),ol(o,0,i)}return r.match&&0===i.length?new Ct(e.segments,{}):r.match&&!e.hasChildren()?Rm(e,n,t):r.match?ol(e,0,i):Rm(e,n,t)}function ol(e,n,t){if(0===t.length)return new Ct(e.segments,{});{const r=function K4(e){return il(e[0])?e[0].outlets:{[nt]:e}}(t),i={};if(!r[nt]&&e.children[nt]&&1===e.numberOfChildren&&0===e.children[nt].segments.length){const o=ol(e.children[nt],n,t);return new Ct(e.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{"string"==typeof s&&(s=[s]),null!==s&&(i[o]=Z1(e.children[o],n,s))}),Object.entries(e.children).forEach(([o,s])=>{void 0===r[o]&&(i[o]=s)}),new Ct(e.segments,i)}}function Rm(e,n,t){const r=e.segments.slice(0,n);let i=0;for(;i<t.length;){const o=t[i];if(il(o)){const c=Y4(o.outlets);return new Ct(r,c)}if(0===i&&Zd(t[0])){r.push(new tl(e.segments[n].path,X1(t[0]))),i++;continue}const s=il(o)?o.outlets[nt]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&Zd(a)?(r.push(new tl(s,X1(a))),i+=2):(r.push(new tl(s,{})),i++)}return new Ct(r,{})}function Y4(e){const n={};return Object.entries(e).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(n[t]=Rm(new Ct([],{}),0,r))}),n}function X1(e){const n={};return Object.entries(e).forEach(([t,r])=>n[t]=`${r}`),n}function eD(e,n,t){return e==t.path&&Ai(n,t.parameters)}const sl="imperative";class Ii{constructor(n,t){this.id=n,this.url=t}}class xm extends Ii{constructor(n,t,r="imperative",i=null){super(n,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class es extends Ii{constructor(n,t,r){super(n,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ef extends Ii{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class al extends Ii{constructor(n,t,r,i){super(n,t),this.reason=r,this.code=i,this.type=16}}class Nm extends Ii{constructor(n,t,r,i){super(n,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Q4 extends Ii{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Z4 extends Ii{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X4 extends Ii{constructor(n,t,r,i,o){super(n,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class e8 extends Ii{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class t8 extends Ii{constructor(n,t,r,i){super(n,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class n8{constructor(n){this.route=n,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class r8{constructor(n){this.route=n,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class i8{constructor(n){this.snapshot=n,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class o8{constructor(n){this.snapshot=n,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class s8{constructor(n){this.snapshot=n,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class a8{constructor(n){this.snapshot=n,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tD{constructor(n,t,r){this.routerEvent=n,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class u8{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ul,this.attachRef=null}}let ul=(()=>{class e{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new u8,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();class nD{constructor(n){this._root=n}get root(){return this._root.value}parent(n){const t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){const t=Om(n,this._root);return t?t.children.map(r=>r.value):[]}firstChild(n){const t=Om(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){const t=km(n,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==n)}pathFromRoot(n){return km(n,this._root).map(t=>t.value)}}function Om(e,n){if(e===n.value)return n;for(const t of n.children){const r=Om(e,t);if(r)return r}return null}function km(e,n){if(e===n.value)return[n];for(const t of n.children){const r=km(e,t);if(r.length)return r.unshift(n),r}return[]}class Ji{constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}}function ma(e){const n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}class rD extends nD{constructor(n,t){super(n),this.snapshot=t,Lm(this,n)}toString(){return this.snapshot.toString()}}function iD(e,n){const t=function l8(e,n){const s=new tf([],{},{},"",{},nt,n,null,{});return new sD("",new Ji(s,[]))}(0,n),r=new At([new tl("",{})]),i=new At({}),o=new At({}),s=new At({}),a=new At(""),c=new Eo(r,i,s,a,o,nt,n,t.root);return c.snapshot=t.root,new rD(new Ji(c,[]),t)}class Eo{constructor(n,t,r,i,o,s,a,c){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(_(h=>h[el]))??A(void 0),this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(_(n=>pa(n)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(_(n=>pa(n)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function oD(e,n="emptyOnly"){const t=e.pathFromRoot;let r=0;if("always"!==n)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function c8(e){return e.reduce((n,t)=>({params:{...n.params,...t.params},data:{...n.data,...t.data},resolve:{...t.data,...n.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class tf{get title(){return this.data?.[el]}constructor(n,t,r,i,o,s,a,c,h){this.url=n,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=pa(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=pa(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class sD extends nD{constructor(n,t){super(t),this.url=n,Lm(this,t)}toString(){return aD(this._root)}}function Lm(e,n){n.value._routerState=e,n.children.forEach(t=>Lm(e,t))}function aD(e){const n=e.children.length>0?` { ${e.children.map(aD).join(", ")} } `:"";return`${e.value}${n}`}function Vm(e){if(e.snapshot){const n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Ai(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Ai(n.params,t.params)||e.paramsSubject.next(t.params),function D4(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Ai(e[t],n[t]))return!1;return!0}(n.url,t.url)||e.urlSubject.next(t.url),Ai(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Bm(e,n){const t=Ai(e.params,n.params)&&function P4(e,n){return Zo(e,n)&&e.every((t,r)=>Ai(t.parameters,n[r].parameters))}(e.url,n.url);return t&&!(!e.parent!=!n.parent)&&(!e.parent||Bm(e.parent,n.parent))}let Um=(()=>{class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=nt,this.activateEvents=new Gt,this.deactivateEvents=new Gt,this.attachEvents=new Gt,this.detachEvents=new Gt,this.parentContexts=Ne(ul),this.location=Ne(Xr),this.changeDetector=Ne(Nu),this.environmentInjector=Ne(gi),this.inputBinder=Ne(nf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new J(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new J(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new J(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new J(4013,!1);this._activatedRoute=t;const i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new d8(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=Ge({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Nr]}),e})();class d8{constructor(n,t,r){this.route=n,this.childContexts=t,this.parent=r}get(n,t){return n===Eo?this.route:n===ul?this.childContexts:this.parent.get(n,t)}}const nf=new ke("");let uD=(()=>{class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=Dm([r.queryParams,r.params,r.data]).pipe(L(([o,s,a],c)=>(a={...o,...s,...a},0===c?A(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const s=function lN(e){const n=vt(e);if(!n)return null;const t=new pu(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}(r.component);if(s)for(const{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})();function ll(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=n.value;const i=function h8(e,n,t){return n.children.map(r=>{for(const i of t.children)if(e.shouldReuseRoute(r.value,i.value.snapshot))return ll(e,r,i);return ll(e,r)})}(e,n,t);return new Ji(r,i)}{if(e.shouldAttach(n.value)){const o=e.retrieve(n.value);if(null!==o){const s=o.route;return s.value._futureSnapshot=n.value,s.children=n.children.map(a=>ll(e,a)),s}}const r=function p8(e){return new Eo(new At(e.url),new At(e.params),new At(e.queryParams),new At(e.fragment),new At(e.data),e.outlet,e.component,e)}(n.value),i=n.children.map(o=>ll(e,o));return new Ji(r,i)}}const Hm="ngNavigationCancelingError";function lD(e,n){const{redirectTo:t,navigationBehaviorOptions:r}=Xo(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,i=cD(!1,0,n);return i.url=t,i.navigationBehaviorOptions=r,i}function cD(e,n,t){const r=new Error("NavigationCancelingError: "+(e||""));return r[Hm]=!0,r.cancellationCode=n,t&&(r.url=t),r}function dD(e){return fD(e)&&Xo(e.url)}function fD(e){return e&&e[Hm]}let hD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Dn({type:e,selectors:[["ng-component"]],standalone:!0,features:[ao],decls:1,vars:0,template:function(t,r){1&t&&Xt(0,"router-outlet")},dependencies:[Um],encapsulation:2}),e})();function jm(e){const n=e.children&&e.children.map(jm),t=n?{...e,children:n}:{...e};return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==nt&&(t.component=hD),t}function oi(e){return e.outlet||nt}function cl(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){const t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class E8{constructor(n,t,r,i,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(n){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,n),Vm(this.futureState.root),this.activateChildRoutes(t,r,n)}deactivateChildRoutes(n,t,r){const i=ma(t);n.children.forEach(o=>{const s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(i===o)if(i.component){const s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(n,t,s.children)}else this.deactivateChildRoutes(n,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=ma(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);if(r&&r.outlet){const s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:s,route:n,contexts:a})}}deactivateRouteAndOutlet(n,t){const r=t.getContext(n.value.outlet),i=r&&n.value.component?r.children:t,o=ma(n);for(const s of Object.keys(o))this.deactivateRouteAndItsChildren(o[s],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(n,t,r){const i=ma(t);n.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new a8(o.value.snapshot))}),n.children.length&&this.forwardEvent(new o8(n.value.snapshot))}activateRoutes(n,t,r){const i=n.value,o=t?t.value:null;if(Vm(i),i===o)if(i.component){const s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(n,t,s.children)}else this.activateChildRoutes(n,t,r);else if(i.component){const s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),Vm(a.route.value),this.activateChildRoutes(n,null,s.children)}else{const a=cl(i.snapshot);s.attachRef=null,s.route=i,s.injector=a,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(n,null,s.children)}}else this.activateChildRoutes(n,null,r)}}class pD{constructor(n){this.path=n,this.route=this.path[this.path.length-1]}}class rf{constructor(n,t){this.component=n,this.route=t}}function S8(e,n,t){const r=e._root;return dl(r,n?n._root:null,t,[r.value])}function ya(e,n){const t=Symbol(),r=n.get(e,t);return r===t?"function"!=typeof e||function qr(e){return null!==Rr(e)}(e)?n.get(e):e:r}function dl(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=ma(n);return e.children.forEach(s=>{(function C8(e,n,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=n?n.value:null,a=t?t.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function D8(e,n,t){if("function"==typeof t)return t(e,n);switch(t){case"pathParamsChange":return!Zo(e.url,n.url);case"pathParamsOrQueryParamsChange":return!Zo(e.url,n.url)||!Ai(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bm(e,n)||!Ai(e.queryParams,n.queryParams);default:return!Bm(e,n)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new pD(r)):(o.data=s.data,o._resolvedData=s._resolvedData),dl(e,n,o.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new rf(a.outlet.component,s))}else s&&fl(n,a,i),i.canActivateChecks.push(new pD(r)),dl(e,null,o.component?a?a.children:null:t,r,i)})(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>fl(a,t.getContext(s),i)),i}function fl(e,n,t){const r=ma(e),i=e.value;Object.entries(r).forEach(([o,s])=>{fl(s,i.component?n?n.children.getContext(o):null:n,t)}),t.canDeactivateChecks.push(new rf(i.component&&n&&n.outlet&&n.outlet.isActivated?n.outlet.component:null,i))}function hl(e){return"function"==typeof e}function gD(e){return e instanceof zd||"EmptyError"===e?.name}const sf=Symbol("INITIAL_VALUE");function va(){return L(e=>Dm(e.map(n=>n.pipe(_o(1),function y4(...e){const n=Ao(e);return ht((t,r)=>{(n?Wd(e,t,n):Wd(e,t)).subscribe(r)})}(sf)))).pipe(_(n=>{for(const t of n)if(!0!==t){if(t===sf)return sf;if(!1===t||t instanceof ga)return t}return!0}),ri(n=>n!==sf),_o(1)))}function mD(e){return function nn(...e){return ot(e)}(On(n=>{if(Xo(n))throw lD(0,n)}),_(n=>!0===n))}class af{constructor(n){this.segmentGroup=n||null}}class yD{constructor(n){this.urlTree=n}}function _a(e){return Xu(new af(e))}function vD(e){return Xu(new yD(e))}class z8{constructor(n,t){this.urlSerializer=n,this.urlTree=t}noMatchError(n){return new J(4002,!1)}lineralizeSegments(n,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return A(r);if(i.numberOfChildren>1||!i.children[nt])return Xu(new J(4e3,!1));i=i.children[nt]}}applyRedirectCommands(n,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),n,r)}applyRedirectCreateUrlTree(n,t,r,i){const o=this.createSegmentGroup(n,t.root,r,i);return new ga(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){const r={};return Object.entries(n).forEach(([i,o])=>{if("string"==typeof o&&o.startsWith(":")){const a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(n,t,r,i){const o=this.createSegments(n,t.segments,r,i);let s={};return Object.entries(t.children).forEach(([a,c])=>{s[a]=this.createSegmentGroup(n,c,r,i)}),new Ct(o,s)}createSegments(n,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(n,o,i):this.findOrReturn(o,r))}findPosParam(n,t,r){const i=r[t.path.substring(1)];if(!i)throw new J(4001,!1);return i}findOrReturn(n,t){let r=0;for(const i of t){if(i.path===n.path)return t.splice(r),i;r++}return n}}const $m={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function W8(e,n,t,r,i){const o=qm(e,n,t);return o.matched?(r=function g8(e,n){return e.providers&&!e._injector&&(e._injector=_p(e.providers,n,`Route: ${e.path}`)),e._injector??n}(n,r),function j8(e,n,t,r){const i=n.canMatch;return i&&0!==i.length?A(i.map(s=>{const a=ya(s,e);return wo(function M8(e){return e&&hl(e.canMatch)}(a)?a.canMatch(n,t):e.runInContext(()=>a(n,t)))})).pipe(va(),mD()):A(!0)}(r,n,t).pipe(_(s=>!0===s?o:{...$m}))):A(o)}function qm(e,n,t){if(""===n.path)return"full"===n.pathMatch&&(e.hasChildren()||t.length>0)?{...$m}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(n.matcher||C4)(t,e,n);if(!i)return{...$m};const o={};Object.entries(i.posParams??{}).forEach(([a,c])=>{o[a]=c.path});const s=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function _D(e,n,t,r){return t.length>0&&function J8(e,n,t){return t.some(r=>uf(e,n,r)&&oi(r)!==nt)}(e,t,r)?{segmentGroup:new Ct(n,K8(r,new Ct(t,e.children))),slicedSegments:[]}:0===t.length&&function Y8(e,n,t){return t.some(r=>uf(e,n,r))}(e,t,r)?{segmentGroup:new Ct(e.segments,G8(e,0,t,r,e.children)),slicedSegments:t}:{segmentGroup:new Ct(e.segments,e.children),slicedSegments:t}}function G8(e,n,t,r,i){const o={};for(const s of r)if(uf(e,t,s)&&!i[oi(s)]){const a=new Ct([],{});o[oi(s)]=a}return{...i,...o}}function K8(e,n){const t={};t[nt]=n;for(const r of e)if(""===r.path&&oi(r)!==nt){const i=new Ct([],{});t[oi(r)]=i}return t}function uf(e,n,t){return(!(e.hasChildren()||n.length>0)||"full"!==t.pathMatch)&&""===t.path}class e5{constructor(n,t,r,i,o,s,a){this.injector=n,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new z8(this.urlSerializer,this.urlTree)}noMatchError(n){return new J(4002,!1)}recognize(){const n=_D(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,n,nt).pipe(Qo(t=>{if(t instanceof yD)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof af?this.noMatchError(t):t}),_(t=>{const r=new tf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},nt,this.rootComponentType,null,{}),i=new Ji(r,t),o=new sD("",i),s=function q4(e,n,t=null,r=null){return J1(K1(e),n,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),this.inheritParamsAndData(o._root),{state:o,tree:s}}))}match(n){return this.processSegmentGroup(this.injector,this.config,n.root,nt).pipe(Qo(r=>{throw r instanceof af?this.noMatchError(r):r}))}inheritParamsAndData(n){const t=n.value,r=oD(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),n.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(n,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(n,t,r):this.processSegment(n,t,r,r.segments,i,!0)}processChildren(n,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return v(i).pipe(ca(o=>{const s=r.children[o],a=function _8(e,n){const t=e.filter(r=>oi(r)===n);return t.push(...e.filter(r=>oi(r)!==n)),t}(t,o);return this.processSegmentGroup(n,a,s,o)}),function w4(e,n){return ht(function _4(e,n,t,r,i){return(o,s)=>{let a=t,c=n,h=0;o.subscribe(ct(s,g=>{const m=h++;c=a?e(c,g,m):(a=!0,g),r&&s.next(c)},i&&(()=>{a&&s.next(c),s.complete()})))}}(e,n,arguments.length>=2,!0))}((o,s)=>(o.push(...s),o)),Gd(null),function E4(e,n){const t=arguments.length>=2;return r=>r.pipe(e?ri((i,o)=>e(i,o,r)):tn,Im(1),t?Gd(n):O1(()=>new zd))}(),Jt(o=>{if(null===o)return _a(r);const s=wD(o);return function t5(e){e.sort((n,t)=>n.value.outlet===nt?-1:t.value.outlet===nt?1:n.value.outlet.localeCompare(t.value.outlet))}(s),A(s)}))}processSegment(n,t,r,i,o,s){return v(t).pipe(ca(a=>this.processSegmentAgainstRoute(a._injector??n,t,a,r,i,o,s).pipe(Qo(c=>{if(c instanceof af)return A(null);throw c}))),Yo(a=>!!a),Qo(a=>{if(gD(a))return function Z8(e,n,t){return 0===n.length&&!e.children[t]}(r,i,o)?A([]):_a(r);throw a}))}processSegmentAgainstRoute(n,t,r,i,o,s,a){return function Q8(e,n,t,r){return!!(oi(e)===r||r!==nt&&uf(n,t,e))&&("**"===e.path||qm(n,e,t).matched)}(r,i,o,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(n,i,r,o,s,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(n,i,t,r,o,s):_a(i):_a(i)}expandSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(n,r,i,s):this.expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(n,t,r,i){const o=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?vD(o):this.applyRedirects.lineralizeSegments(r,o).pipe(Jt(s=>{const a=new Ct(s,{});return this.processSegment(n,t,a,s,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(n,t,r,i,o,s){const{matched:a,consumedSegments:c,remainingSegments:h,positionalParamSegments:g}=qm(t,i,o);if(!a)return _a(t);const m=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,g);return i.redirectTo.startsWith("/")?vD(m):this.applyRedirects.lineralizeSegments(i,m).pipe(Jt(I=>this.processSegment(n,r,t,I.concat(h),s,!1)))}matchSegmentAgainstRoute(n,t,r,i,o,s){let a;if("**"===r.path){const c=i.length>0?L1(i).parameters:{};a=A({snapshot:new tf(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ED(r),oi(r),r.component??r._loadedComponent??null,r,SD(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=W8(t,r,i,n).pipe(_(({matched:c,consumedSegments:h,remainingSegments:g,parameters:m})=>c?{snapshot:new tf(h,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ED(r),oi(r),r.component??r._loadedComponent??null,r,SD(r)),consumedSegments:h,remainingSegments:g}:null));return a.pipe(L(c=>null===c?_a(t):this.getChildConfig(n=r._injector??n,r,i).pipe(L(({routes:h})=>{const g=r._loadedInjector??n,{snapshot:m,consumedSegments:I,remainingSegments:O}=c,{segmentGroup:X,slicedSegments:ae}=_D(t,I,O,h);if(0===ae.length&&X.hasChildren())return this.processChildren(g,h,X).pipe(_(_e=>null===_e?null:[new Ji(m,_e)]));if(0===h.length&&0===ae.length)return A([new Ji(m,[])]);const pe=oi(r)===o;return this.processSegment(g,h,X,ae,pe?nt:o,!0).pipe(_(_e=>[new Ji(m,_e)]))}))))}getChildConfig(n,t,r){return t.children?A({routes:t.children,injector:n}):t.loadChildren?void 0!==t._loadedRoutes?A({routes:t._loadedRoutes,injector:t._loadedInjector}):function H8(e,n,t,r){const i=n.canLoad;return void 0===i||0===i.length?A(!0):A(i.map(s=>{const a=ya(s,e);return wo(function I8(e){return e&&hl(e.canLoad)}(a)?a.canLoad(n,t):e.runInContext(()=>a(n,t)))})).pipe(va(),mD())}(n,t,r).pipe(Jt(i=>i?this.configLoader.loadChildren(n,t).pipe(On(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function q8(e){return Xu(cD(!1,3))}())):A({routes:[],injector:n})}}function n5(e){const n=e.value.routeConfig;return n&&""===n.path}function wD(e){const n=[],t=new Set;for(const r of e){if(!n5(r)){n.push(r);continue}const i=n.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):n.push(r)}for(const r of t){const i=wD(r.children);n.push(new Ji(r.value,i))}return n.filter(r=>!t.has(r))}function ED(e){return e.data||{}}function SD(e){return e.resolve||{}}function bD(e){return"string"==typeof e.title||null===e.title}function zm(e){return L(n=>{const t=e(n);return t?v(t).pipe(_(()=>n)):A(n)})}const wa=new ke("ROUTES");let Wm=(()=>{class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=Ne(KE)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return A(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=wo(t.loadComponent()).pipe(_(CD),On(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),qu(()=>{this.componentLoaders.delete(t)})),i=new N1(r,()=>new Lt).pipe(Am());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return A({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe(_(a=>{this.onLoadEndListener&&this.onLoadEndListener(r);let c,h;return Array.isArray(a)?h=a:(c=a.create(t).injector,h=c.get(wa,[],rt.Self|rt.Optional).flat()),{routes:h.map(jm),injector:c}}),qu(()=>{this.childrenLoaders.delete(r)})),s=new N1(o,()=>new Lt).pipe(Am());return this.childrenLoaders.set(r,s),s}loadModuleFactoryOrRoutes(t){return wo(t()).pipe(_(CD),Jt(r=>r instanceof iE||Array.isArray(r)?A(r):v(this.compiler.compileModuleAsync(r))))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function CD(e){return function l5(e){return e&&"object"==typeof e&&"default"in e}(e)?e.default:e}let lf=(()=>{class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Lt,this.configLoader=Ne(Wm),this.environmentInjector=Ne(gi),this.urlSerializer=Ne(nl),this.rootContexts=Ne(ul),this.inputBindingEnabled=null!==Ne(nf,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>A(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new r8(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new n8(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new At({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sl,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ri(r=>0!==r.id),_(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),L(r=>{let i=!1,o=!1;return A(r).pipe(On(s=>{this.currentNavigation={id:s.id,initialUrl:s.rawUrl,extractedUrl:s.extractedUrl,trigger:s.source,extras:s.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),L(s=>{const a=t.browserUrlTree.toString(),c=!t.navigated||s.extractedUrl.toString()!==a||a!==t.currentUrlTree.toString();if(!c&&"reload"!==(s.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const g="";return this.events.next(new al(s.id,t.serializeUrl(r.rawUrl),g,0)),t.rawUrlTree=s.rawUrl,s.resolve(null),wr}if(t.urlHandlingStrategy.shouldProcessUrl(s.rawUrl))return DD(s.source)&&(t.browserUrlTree=s.extractedUrl),A(s).pipe(L(g=>{const m=this.transitions?.getValue();return this.events.next(new xm(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),m!==this.transitions?.getValue()?wr:Promise.resolve(g)}),function r5(e,n,t,r,i,o){return Jt(s=>function X8(e,n,t,r,i,o,s="emptyOnly"){return new e5(e,n,t,r,i,s,o).recognize()}(e,n,t,r,s.extractedUrl,i,o).pipe(_(({state:a,tree:c})=>({...s,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),On(g=>{if(r.targetSnapshot=g.targetSnapshot,r.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!g.extras.skipLocationChange){const I=t.urlHandlingStrategy.merge(g.urlAfterRedirects,g.rawUrl);t.setBrowserUrl(I,g)}t.browserUrlTree=g.urlAfterRedirects}const m=new Q4(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(m)}));if(c&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:g,extractedUrl:m,source:I,restoredState:O,extras:X}=s,ae=new xm(g,this.urlSerializer.serialize(m),I,O);this.events.next(ae);const pe=iD(0,this.rootComponentType).snapshot;return A(r={...s,targetSnapshot:pe,urlAfterRedirects:m,extras:{...X,skipLocationChange:!1,replaceUrl:!1}})}{const g="";return this.events.next(new al(s.id,t.serializeUrl(r.extractedUrl),g,1)),t.rawUrlTree=s.rawUrl,s.resolve(null),wr}}),On(s=>{const a=new Z4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot);this.events.next(a)}),_(s=>r={...s,guards:S8(s.targetSnapshot,s.currentSnapshot,this.rootContexts)}),function x8(e,n){return Jt(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return 0===s.length&&0===o.length?A({...t,guardsResult:!0}):function N8(e,n,t,r){return v(e).pipe(Jt(i=>function U8(e,n,t,r,i){const o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;return o&&0!==o.length?A(o.map(a=>{const c=cl(n)??i,h=ya(a,c);return wo(function F8(e){return e&&hl(e.canDeactivate)}(h)?h.canDeactivate(e,n,t,r):c.runInContext(()=>h(e,n,t,r))).pipe(Yo())})).pipe(va()):A(!0)}(i.component,i.route,t,n,r)),Yo(i=>!0!==i,!0))}(s,r,i,e).pipe(Jt(a=>a&&function A8(e){return"boolean"==typeof e}(a)?function O8(e,n,t,r){return v(n).pipe(ca(i=>Wd(function L8(e,n){return null!==e&&n&&n(new i8(e)),A(!0)}(i.route.parent,r),function k8(e,n){return null!==e&&n&&n(new s8(e)),A(!0)}(i.route,r),function B8(e,n,t){const r=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(s=>function b8(e){const n=e.routeConfig?e.routeConfig.canActivateChild:null;return n&&0!==n.length?{node:e,guards:n}:null}(s)).filter(s=>null!==s).map(s=>x1(()=>A(s.guards.map(c=>{const h=cl(s.node)??t,g=ya(c,h);return wo(function P8(e){return e&&hl(e.canActivateChild)}(g)?g.canActivateChild(r,e):h.runInContext(()=>g(r,e))).pipe(Yo())})).pipe(va())));return A(o).pipe(va())}(e,i.path,t),function V8(e,n,t){const r=n.routeConfig?n.routeConfig.canActivate:null;if(!r||0===r.length)return A(!0);const i=r.map(o=>x1(()=>{const s=cl(n)??t,a=ya(o,s);return wo(function T8(e){return e&&hl(e.canActivate)}(a)?a.canActivate(n,e):s.runInContext(()=>a(n,e))).pipe(Yo())}));return A(i).pipe(va())}(e,i.route,t))),Yo(i=>!0!==i,!0))}(r,o,e,n):A(a)),_(a=>({...t,guardsResult:a})))})}(this.environmentInjector,s=>this.events.next(s)),On(s=>{if(r.guardsResult=s.guardsResult,Xo(s.guardsResult))throw lD(0,s.guardsResult);const a=new X4(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(s.urlAfterRedirects),s.targetSnapshot,!!s.guardsResult);this.events.next(a)}),ri(s=>!!s.guardsResult||(t.restoreHistory(s),this.cancelNavigationTransition(s,"",3),!1)),zm(s=>{if(s.guards.canActivateChecks.length)return A(s).pipe(On(a=>{const c=new e8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}),L(a=>{let c=!1;return A(a).pipe(function i5(e,n){return Jt(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return A(t);let o=0;return v(i).pipe(ca(s=>function o5(e,n,t,r){const i=e.routeConfig,o=e._resolve;return void 0!==i?.title&&!bD(i)&&(o[el]=i.title),function s5(e,n,t,r){const i=function a5(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}(e);if(0===i.length)return A({});const o={};return v(i).pipe(Jt(s=>function u5(e,n,t,r){const i=cl(n)??r,o=ya(e,i);return wo(o.resolve?o.resolve(n,t):i.runInContext(()=>o(n,t)))}(e[s],n,t,r).pipe(Yo(),On(a=>{o[s]=a}))),Im(1),function S4(e){return _(()=>e)}(o),Qo(s=>gD(s)?wr:Xu(s)))}(o,e,n,r).pipe(_(s=>(e._resolvedData=s,e.data=oD(e,t).resolve,i&&bD(i)&&(e.data[el]=i.title),null)))}(s.route,r,e,n)),On(()=>o++),Im(1),Jt(s=>o===i.length?A(t):wr))})}(t.paramsInheritanceStrategy,this.environmentInjector),On({next:()=>c=!0,complete:()=>{c||(t.restoreHistory(a),this.cancelNavigationTransition(a,"",2))}}))}),On(a=>{const c=new t8(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(c)}))}),zm(s=>{const a=c=>{const h=[];c.routeConfig?.loadComponent&&!c.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(c.routeConfig).pipe(On(g=>{c.component=g}),_(()=>{})));for(const g of c.children)h.push(...a(g));return h};return Dm(a(s.targetSnapshot.root)).pipe(Gd(),_o(1))}),zm(()=>this.afterPreactivation()),_(s=>{const a=function f8(e,n,t){const r=ll(e,n._root,t?t._root:void 0);return new rD(r,n)}(t.routeReuseStrategy,s.targetSnapshot,s.currentRouterState);return r={...s,targetRouterState:a}}),On(s=>{t.currentUrlTree=s.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),t.routerState=s.targetRouterState,"deferred"===t.urlUpdateStrategy&&(s.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,s),t.browserUrlTree=s.urlAfterRedirects)}),((e,n,t,r)=>_(i=>(new E8(n,i.targetRouterState,i.currentRouterState,t,r).activate(e),i)))(this.rootContexts,t.routeReuseStrategy,s=>this.events.next(s),this.inputBindingEnabled),_o(1),On({next:s=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new es(s.id,this.urlSerializer.serialize(s.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(s.targetRouterState.snapshot),s.resolve(!0)},complete:()=>{i=!0}}),qu(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Qo(s=>{if(o=!0,fD(s)){dD(s)||(t.navigated=!0,t.restoreHistory(r,!0));const a=new ef(r.id,this.urlSerializer.serialize(r.extractedUrl),s.message,s.cancellationCode);if(this.events.next(a),dD(s)){const c=t.urlHandlingStrategy.merge(s.url,t.rawUrlTree),h={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||DD(r.source)};t.scheduleNavigation(c,sl,null,h,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const a=new Nm(r.id,this.urlSerializer.serialize(r.extractedUrl),s,r.targetSnapshot??void 0);this.events.next(a);try{r.resolve(t.errorHandler(s))}catch(c){r.reject(c)}}return wr}))}))}cancelNavigationTransition(t,r,i){const o=new ef(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function DD(e){return e!==sl}let AD=(()=>{class e{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===nt);return r}getResolvedTitleForRoute(t){return t.data[el]}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:function(){return Ne(c5)},providedIn:"root"}),e})(),c5=(()=>{class e extends AD{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return e.\u0275fac=function(t){return new(t||e)(Fe(_b))},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),d5=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:function(){return Ne(h5)},providedIn:"root"}),e})();class f5{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}}let h5=(()=>{class e extends f5{}return e.\u0275fac=function(){let n;return function(r){return(n||(n=rn(e)))(r||e)}}(),e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const cf=new ke("",{providedIn:"root",factory:()=>({})});let p5=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:function(){return Ne(g5)},providedIn:"root"}),e})(),g5=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var pl=function(e){return e[e.COMPLETE=0]="COMPLETE",e[e.FAILED=1]="FAILED",e[e.REDIRECTING=2]="REDIRECTING",e}(pl||{});function ID(e,n){e.events.pipe(ri(t=>t instanceof es||t instanceof ef||t instanceof Nm||t instanceof al),_(t=>t instanceof es||t instanceof al?pl.COMPLETE:t instanceof ef&&(0===t.code||1===t.code)?pl.REDIRECTING:pl.FAILED),ri(t=>t!==pl.REDIRECTING),_o(1)).subscribe(()=>{n()})}function m5(e){throw e}function y5(e,n,t){return n.parse("/")}const v5={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},_5={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let ir=(()=>{class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=Ne(GE),this.isNgZoneEnabled=!1,this.options=Ne(cf,{optional:!0})||{},this.pendingTasks=Ne(Gc),this.errorHandler=this.options.errorHandler||m5,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||y5,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=Ne(p5),this.routeReuseStrategy=Ne(d5),this.titleStrategy=Ne(AD),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Ne(wa,{optional:!0})?.flat()??[],this.navigationTransitions=Ne(lf),this.urlSerializer=Ne(nl),this.location=Ne(ng),this.componentInputBindingEnabled=!!Ne(nf,{optional:!0}),this.isNgZoneEnabled=Ne(Nt)instanceof Nt&&Nt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new ga,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=iD(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),sl,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(o.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(jm),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:c}=r,h=c?this.currentUrlTree.fragment:s;let m,g=null;switch(a){case"merge":g={...this.currentUrlTree.queryParams,...o};break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=o||null}null!==g&&(g=this.removeEmptyProps(g));try{m=K1(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),m=this.currentUrlTree.root}return J1(m,t,g,h??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Xo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,sl,null,r)}navigate(t,r={skipLocationChange:!1}){return function w5(e){for(let n=0;n<e.length;n++)if(null==e[n])throw new J(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...v5}:!1===r?{..._5}:r,Xo(t))return B1(this.currentUrlTree,t,i);const o=this.parseUrl(t);return B1(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,c,h;s?(a=s.resolve,c=s.reject,h=s.promise):h=new Promise((m,I)=>{a=m,c=I});const g=this.pendingTasks.add();return ID(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:c,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",s)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),gl=(()=>{class e{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new Lt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(h=>{h instanceof es&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,s){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||s||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function l0(e,n,t){return function tP(e,n){return"src"===n&&("embed"===e||"frame"===e||"iframe"===e||"media"===e||"script"===e)||"href"===n&&("base"===e||"link"===e)?u0:a0}(n,t)(e)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return e.\u0275fac=function(t){return new(t||e)(we(ir),we(Eo),function Zl(e){return function SI(e,n){if("class"===n)return e.classes;if("style"===n)return e.styles;const t=e.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const o=t[i];if(sy(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(o===n)return t[i+1];i+=2}}}return null}(Rn(),e)}("tabindex"),we(Jr),we(dr),we($o))},e.\u0275dir=Ge({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&xn("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&gn("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",sa],skipLocationChange:["skipLocationChange","skipLocationChange",sa],replaceUrl:["replaceUrl","replaceUrl",sa],routerLink:"routerLink"},standalone:!0,features:[y_,Nr]}),e})(),TD=(()=>{class e{get isActive(){return this._isActive}constructor(t,r,i,o,s){this.router=t,this.element=r,this.renderer=i,this.cdr=o,this.link=s,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new Gt,this.routerEventsSubscription=t.events.subscribe(a=>{a instanceof es&&this.update()})}ngAfterContentInit(){A(this.links.changes,A(null)).pipe(Mi()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const t=[...this.links.toArray(),this.link].filter(r=>!!r).map(r=>r.onChanges);this.linkInputChangesSubscription=v(t).pipe(Mi()).subscribe(r=>{this._isActive!==this.isLinkActive(this.router)(r)&&this.update()})}set routerLinkActive(t){const r=Array.isArray(t)?t:t.split(" ");this.classes=r.filter(i=>!!i)}ngOnChanges(t){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const t=this.hasActiveLinks();this._isActive!==t&&(this._isActive=t,this.cdr.markForCheck(),this.classes.forEach(r=>{t?this.renderer.addClass(this.element.nativeElement,r):this.renderer.removeClass(this.element.nativeElement,r)}),t&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(t))})}isLinkActive(t){const r=function E5(e){return!!e.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>!!i.urlTree&&t.isActive(i.urlTree,r)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.links.some(t)}}return e.\u0275fac=function(t){return new(t||e)(we(ir),we(dr),we(Jr),we(Nu),we(gl,8))},e.\u0275dir=Ge({type:e,selectors:[["","routerLinkActive",""]],contentQueries:function(t,r,i){if(1&t&&Mp(i,gl,5),2&t){let o;Mu(o=Ru())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Nr]}),e})();class PD{}let S5=(()=>{class e{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(ri(t=>t instanceof es),ca(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=_p(o.providers,t,`Route: ${o.path}`));const s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return v(i).pipe(Mi())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):A(null);const o=i.pipe(Jt(s=>null===s?A(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));return r.loadComponent&&!r._loadedComponent?v([o,this.loader.loadComponent(r)]).pipe(Mi()):o})}}return e.\u0275fac=function(t){return new(t||e)(Fe(ir),Fe(KE),Fe(gi),Fe(PD),Fe(Wm))},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Gm=new ke("");let FD=(()=>{class e{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof es?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof al&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof tD&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new tD(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return e.\u0275fac=function(t){!function z0(){throw new Error("invalid")}()},e.\u0275prov=Be({token:e,factory:e.\u0275fac}),e})();function Yi(e,n){return{\u0275kind:e,\u0275providers:n}}function RD(){const e=Ne(mi);return n=>{const t=e.get(Ho);if(n!==t.components[0])return;const r=e.get(ir),i=e.get(xD);1===e.get(Km)&&r.initialNavigation(),e.get(ND,null,rt.Optional)?.setUpPreloading(),e.get(Gm,null,rt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const xD=new ke("",{factory:()=>new Lt}),Km=new ke("",{providedIn:"root",factory:()=>1}),ND=new ke("");function A5(e){return Yi(0,[{provide:ND,useExisting:S5},{provide:PD,useExisting:e}])}const OD=new ke("ROUTER_FORROOT_GUARD"),T5=[ng,{provide:nl,useClass:Tm},ir,ul,{provide:Eo,useFactory:function MD(e){return e.routerState.root},deps:[ir]},Wm,[]];function P5(){return new oS("Router",ir)}let df=(()=>{class e{constructor(t){}static forRoot(t,r){return{ngModule:e,providers:[T5,[],{provide:wa,multi:!0,useValue:t},{provide:OD,useFactory:x5,deps:[[ir,new tc,new nc]]},{provide:cf,useValue:r||{}},r?.useHash?{provide:$o,useClass:pN}:{provide:$o,useClass:xS},{provide:Gm,useFactory:()=>{const e=Ne(RO),n=Ne(Nt),t=Ne(cf),r=Ne(lf),i=Ne(nl);return t.scrollOffset&&e.setOffset(t.scrollOffset),new FD(i,r,e,n,t)}},r?.preloadingStrategy?A5(r.preloadingStrategy).\u0275providers:[],{provide:oS,multi:!0,useFactory:P5},r?.initialNavigation?N5(r):[],r?.bindToComponentInputs?Yi(8,[uD,{provide:nf,useExisting:uD}]).\u0275providers:[],[{provide:kD,useFactory:RD},{provide:zp,multi:!0,useExisting:kD}]]}}static forChild(t){return{ngModule:e,providers:[{provide:wa,multi:!0,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)(Fe(OD,8))},e.\u0275mod=vn({type:e}),e.\u0275inj=gt({}),e})();function x5(e){return"guarded"}function N5(e){return["disabled"===e.initialNavigation?Yi(3,[{provide:Lp,multi:!0,useFactory:()=>{const n=Ne(ir);return()=>{n.setUpLocationChangeListener()}}},{provide:Km,useValue:2}]).\u0275providers:[],"enabledBlocking"===e.initialNavigation?Yi(2,[{provide:Km,useValue:0},{provide:Lp,multi:!0,deps:[mi],useFactory:n=>{const t=n.get(fN,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=n.get(ir),o=n.get(xD);ID(i,()=>{r(!0)}),n.get(lf).afterPreactivation=()=>(r(!0),o.closed?A(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const kD=new ke("");function LD(e,n,t,r,i,o,s){try{var a=e[o](s),c=a.value}catch(h){return void t(h)}a.done?n(c):Promise.resolve(c).then(r,i)}function gr(e){return function(){var n=this,t=arguments;return new Promise(function(r,i){var o=e.apply(n,t);function s(c){LD(o,r,i,s,a,"next",c)}function a(c){LD(o,r,i,s,a,"throw",c)}s(void 0)})}}var k5=k(414);const VD="StudentExamPracticeBE";let Pi={DefaultLoginRedirectPath:"/",ApiAuthorizationClientConfigurationUrl:`_configuration/${VD}`,Login:"authentication/login",LoginFailed:"authentication/login-failed",LoginCallback:"authentication/login-callback",Register:"authentication/register",Profile:"authentication/profile",LogOut:"authentication/logout",LoggedOut:"authentication/logged-out",LogOutCallback:"authentication/logout-callback",LoginPathComponents:[],LoginFailedPathComponents:[],LoginCallbackPathComponents:[],RegisterPathComponents:[],ProfilePathComponents:[],LogOutPathComponents:[],LoggedOutPathComponents:[],LogOutCallbackPathComponents:[],IdentityRegisterPath:"Identity/Account/Register",IdentityManagePath:"Identity/Account/Manage"};Pi={...Pi,LoginPathComponents:Pi.Login.split("/"),LoginFailedPathComponents:Pi.LoginFailed.split("/"),RegisterPathComponents:Pi.Register.split("/"),ProfilePathComponents:Pi.Profile.split("/"),LogOutPathComponents:Pi.LogOut.split("/"),LoggedOutPathComponents:Pi.LoggedOut.split("/"),LogOutCallbackPathComponents:Pi.LogOutCallback.split("/")};const Kn=Pi;var Jn=function(e){return e[e.Success=0]="Success",e[e.Redirect=1]="Redirect",e[e.Fail=2]="Fail",e}(Jn||{});let ml=(()=>{class e{constructor(t){this.http=t,this.popUpDisabled=!0,this.userSubject=new At(null)}isAuthenticated(){return this.getUser().pipe(_(t=>!!t))}hasRole(t){return this.getUser().pipe(L(r=>r&&r.name?this.getUserRoles(r.name).pipe(_(i=>i.includes(t)??!1)):A(!1)))}getUserRoles(t){return this.http.get("https://localhost:7075/api/account/user/roles?email="+t)}getUser(){return Wd(this.userSubject.pipe(_o(1),ri(t=>!!t)),this.getUserFromStorage().pipe(ri(t=>!!t),On(t=>this.userSubject.next(t))),this.userSubject.asObservable())}getAccessToken(){return v(this.ensureUserManagerInitialized()).pipe(Jt(()=>v(this.userManager.getUser())),_(t=>t&&t.access_token))}signIn(t){var r=this;return gr(function*(){yield r.ensureUserManagerInitialized();let i=null;try{return i=yield r.userManager.signinSilent(r.createArguments()),r.userSubject.next(i.profile),r.success(t)}catch(o){console.log("Silent authentication error: ",o);try{if(r.popUpDisabled)throw new Error("Popup disabled. Change 'authorize.service.ts:AuthorizeService.popupDisabled' to false to enable it.");return i=yield r.userManager.signinPopup(r.createArguments()),r.userSubject.next(i.profile),r.success(t)}catch(s){if("Popup window closed"===s.message)return r.error("The user closed the window.");r.popUpDisabled||console.log("Popup authentication error: ",s);try{return yield r.userManager.signinRedirect(r.createArguments(t)),r.redirect()}catch(a){return console.log("Redirect authentication error: ",a),r.error(a)}}}})()}completeSignIn(t){var r=this;return gr(function*(){try{yield r.ensureUserManagerInitialized();const i=yield r.userManager.signinCallback(t);return r.userSubject.next(i&&i.profile),r.success(i&&i.state)}catch(i){return console.log("There was an error signing in: ",i),r.error("There was an error signing in.")}})()}signOut(t){var r=this;return gr(function*(){try{if(r.popUpDisabled)throw new Error("Popup disabled. Change 'authorize.service.ts:AuthorizeService.popupDisabled' to false to enable it.");return yield r.ensureUserManagerInitialized(),yield r.userManager.signoutPopup(r.createArguments()),r.userSubject.next(null),r.success(t)}catch(i){console.log("Popup signout error: ",i);try{return yield r.userManager.signoutRedirect(r.createArguments(t)),r.redirect()}catch(o){return console.log("Redirect signout error: ",o),r.error(o)}}})()}completeSignOut(t){var r=this;return gr(function*(){yield r.ensureUserManagerInitialized();try{const i=yield r.userManager.signoutCallback(t);return r.userSubject.next(null),r.success(i&&i.state)}catch(i){return console.log(`There was an error trying to log out '${i}'.`),r.error(i)}})()}createArguments(t){return{useReplaceToNavigate:!0,data:t}}error(t){return{status:Jn.Fail,message:t}}success(t){return{status:Jn.Success,state:t}}redirect(){return{status:Jn.Redirect}}ensureUserManagerInitialized(){var t=this;return gr(function*(){if(void 0!==t.userManager)return;const r=yield fetch(Kn.ApiAuthorizationClientConfigurationUrl);if(!r.ok)throw new Error(`Could not load settings for '${VD}'`);const i=yield r.json();i.automaticSilentRenew=!0,i.includeIdTokenInSilentRenew=!0,t.userManager=new k5.UserManager(i),t.userManager.events.addUserSignedOut(gr(function*(){yield t.userManager.removeUser(),t.userSubject.next(null)}))})()}getUserFromStorage(){return v(this.ensureUserManagerInitialized()).pipe(Jt(()=>this.userManager.getUser()),_(t=>t&&t.profile))}}return e.\u0275fac=function(t){return new(t||e)(Fe(Zg))},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const L5=function(){return["/authentication/profile"]},V5=function(){return["/authentication/logout"]},B5=function(){return{local:!0}};function U5(e,n){if(1&e&&(Re(0,"ul",1)(1,"li",2)(2,"a",3),Ve(3),na(4,"async"),Te()(),Re(5,"li",2)(6,"a",4),Ve(7,"Logout"),Te()()()),2&e){const t=fr();Ye(2),it("routerLink",pr(6,L5)),Ye(1),Uc("Hello ",ra(4,4,t.userName),""),Ye(3),it("routerLink",pr(7,V5))("state",pr(8,B5))}}const H5=function(){return["/authentication/register"]},j5=function(){return["/authentication/login"]};function $5(e,n){1&e&&(Re(0,"ul",1)(1,"li",2)(2,"a",5),Ve(3,"Register"),Te()(),Re(4,"li",2)(5,"a",5),Ve(6,"Login"),Te()()()),2&e&&(Ye(2),it("routerLink",pr(2,H5)),Ye(3),it("routerLink",pr(3,j5)))}let q5=(()=>{class e{constructor(t){this.authorizeService=t}ngOnInit(){this.isAuthenticated=this.authorizeService.isAuthenticated(),this.userName=this.authorizeService.getUser().pipe(_(t=>t&&t.name))}}return e.\u0275fac=function(t){return new(t||e)(we(ml))},e.\u0275cmp=Dn({type:e,selectors:[["app-login-menu"]],decls:4,vars:6,consts:[["class","navbar-nav",4,"ngIf"],[1,"navbar-nav"],[1,"nav-item"],["title","Manage",1,"nav-link","text-dark",3,"routerLink"],["title","Logout",1,"nav-link","text-dark",3,"routerLink","state"],[1,"nav-link","text-dark",3,"routerLink"]],template:function(t,r){1&t&&(In(0,U5,8,9,"ul",0),na(1,"async"),In(2,$5,7,4,"ul",0),na(3,"async")),2&t&&(it("ngIf",ra(1,2,r.isAuthenticated)),Ye(2),it("ngIf",!0!==ra(3,4,r.isAuthenticated)))},dependencies:[dd,gl,fd]}),e})();const UD=function(){return["/"]},z5=function(e){return{show:e}},Ym=function(){return["link-active"]},W5=function(){return{exact:!0}},G5=function(){return["/counter"]},K5=function(){return["/fetch-data"]};let J5=(()=>{class e{constructor(){this.isExpanded=!1}collapse(){this.isExpanded=!1}toggle(){this.isExpanded=!this.isExpanded}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Dn({type:e,selectors:[["app-nav-bar"]],decls:19,vars:20,consts:[[1,"navbar","navbar-expand-sm","navbar-toggleable-sm","navbar-light","bg-white","border-bottom","box-shadow","mb-3"],[1,"container"],[1,"navbar-brand",3,"routerLink"],["type","button","data-toggle","collapse","data-target",".navbar-collapse","aria-label","Toggle navigation",1,"navbar-toggler",3,"click"],[1,"navbar-toggler-icon"],[1,"navbar-collapse","collapse","d-sm-inline-flex","justify-content-end",3,"ngClass"],[1,"navbar-nav","flex-grow"],[1,"nav-item",3,"routerLinkActive","routerLinkActiveOptions"],[1,"nav-link","text-dark",3,"routerLink"],[1,"nav-item",3,"routerLinkActive"]],template:function(t,r){1&t&&(Re(0,"header")(1,"nav",0)(2,"div",1)(3,"a",2),Ve(4,"StudentExamPractice"),Te(),Re(5,"button",3),xn("click",function(){return r.toggle()}),Xt(6,"span",4),Te(),Re(7,"div",5)(8,"ul",6)(9,"li",7)(10,"a",8),Ve(11,"Home"),Te()(),Re(12,"li",9)(13,"a",8),Ve(14,"Counter"),Te()(),Re(15,"li",9)(16,"a",8),Ve(17,"Fetch data"),Te()()(),Xt(18,"app-login-menu"),Te()()()()),2&t&&(Ye(3),it("routerLink",pr(10,UD)),Ye(2),gn("aria-expanded",r.isExpanded),Ye(2),it("ngClass",Tu(11,z5,r.isExpanded)),Ye(2),it("routerLinkActive",pr(13,Ym))("routerLinkActiveOptions",pr(14,W5)),Ye(1),it("routerLink",pr(15,UD)),Ye(2),it("routerLinkActive",pr(16,Ym)),Ye(1),it("routerLink",pr(17,G5)),Ye(2),it("routerLinkActive",pr(18,Ym)),Ye(1),it("routerLink",pr(19,K5)))},dependencies:[cd,gl,TD,q5]}),e})();function yl(e){return(yl="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(e)}function ve(e,n,t){return(n=function Q5(e){var n=function Y5(e,n){if("object"!==yl(e)||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var r=t.call(e,n||"default");if("object"!==yl(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"===yl(n)?n:String(n)}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}let Yn=(()=>{class e{}return ve(e,"STARTS_WITH","startsWith"),ve(e,"CONTAINS","contains"),ve(e,"NOT_CONTAINS","notContains"),ve(e,"ENDS_WITH","endsWith"),ve(e,"EQUALS","equals"),ve(e,"NOT_EQUALS","notEquals"),ve(e,"IN","in"),ve(e,"LESS_THAN","lt"),ve(e,"LESS_THAN_OR_EQUAL_TO","lte"),ve(e,"GREATER_THAN","gt"),ve(e,"GREATER_THAN_OR_EQUAL_TO","gte"),ve(e,"BETWEEN","between"),ve(e,"IS","is"),ve(e,"IS_NOT","isNot"),ve(e,"BEFORE","before"),ve(e,"AFTER","after"),ve(e,"DATE_IS","dateIs"),ve(e,"DATE_IS_NOT","dateIsNot"),ve(e,"DATE_BEFORE","dateBefore"),ve(e,"DATE_AFTER","dateAfter"),e})(),HD=(()=>{class e{constructor(){ve(this,"messageSource",new Lt),ve(this,"clearSource",new Lt),ve(this,"messageObserver",this.messageSource.asObservable()),ve(this,"clearObserver",this.clearSource.asObservable())}add(t){t&&this.messageSource.next(t)}addAll(t){t&&t.length&&this.messageSource.next(t)}clear(t){this.clearSource.next(t||null)}}return ve(e,"\u0275fac",function(t){return new(t||e)}),ve(e,"\u0275prov",Be({token:e,factory:e.\u0275fac})),e})(),jD=(()=>{class e{constructor(){ve(this,"ripple",!1),ve(this,"overlayOptions",{}),ve(this,"filterMatchModeOptions",{text:[Yn.STARTS_WITH,Yn.CONTAINS,Yn.NOT_CONTAINS,Yn.ENDS_WITH,Yn.EQUALS,Yn.NOT_EQUALS],numeric:[Yn.EQUALS,Yn.NOT_EQUALS,Yn.LESS_THAN,Yn.LESS_THAN_OR_EQUAL_TO,Yn.GREATER_THAN,Yn.GREATER_THAN_OR_EQUAL_TO],date:[Yn.DATE_IS,Yn.DATE_IS_NOT,Yn.DATE_BEFORE,Yn.DATE_AFTER]}),ve(this,"translation",{startsWith:"Starts with",contains:"Contains",notContains:"Not contains",endsWith:"Ends with",equals:"Equals",notEquals:"Not equals",noFilter:"No Filter",lt:"Less than",lte:"Less than or equal to",gt:"Greater than",gte:"Greater than or equal to",is:"Is",isNot:"Is not",before:"Before",after:"After",dateIs:"Date is",dateIsNot:"Date is not",dateBefore:"Date is before",dateAfter:"Date is after",clear:"Clear",apply:"Apply",matchAll:"Match All",matchAny:"Match Any",addRule:"Add Rule",removeRule:"Remove Rule",accept:"Yes",reject:"No",choose:"Choose",upload:"Upload",cancel:"Cancel",pending:"Pending",dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],chooseYear:"Choose Year",chooseMonth:"Choose Month",chooseDate:"Choose Date",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",prevHour:"Previous Hour",nextHour:"Next Hour",prevMinute:"Previous Minute",nextMinute:"Next Minute",prevSecond:"Previous Second",nextSecond:"Next Second",am:"am",pm:"pm",dateFormat:"mm/dd/yy",firstDayOfWeek:0,today:"Today",weekHeader:"Wk",weak:"Weak",medium:"Medium",strong:"Strong",passwordPrompt:"Enter a password",emptyMessage:"No results found",searchMessage:"{0} results are available",selectionMessage:"{0} items selected",emptySelectionMessage:"No selected item",emptySearchMessage:"No results found",emptyFilterMessage:"No results found",aria:{trueLabel:"True",falseLabel:"False",nullLabel:"Not Selected",star:"1 star",stars:"{star} stars",selectAll:"All items selected",unselectAll:"All items unselected",close:"Close",previous:"Previous",next:"Next",navigation:"Navigation",scrollTop:"Scroll Top",moveTop:"Move Top",moveUp:"Move Up",moveDown:"Move Down",moveBottom:"Move Bottom",moveToTarget:"Move to Target",moveToSource:"Move to Source",moveAllToTarget:"Move All to Target",moveAllToSource:"Move All to Source",pageLabel:"{page}",firstPageLabel:"First Page",lastPageLabel:"Last Page",nextPageLabel:"Next Page",prevPageLabel:"Previous Page",rowsPerPageLabel:"Rows per page",previousPageLabel:"Previous Page",jumpToPageDropdownLabel:"Jump to Page Dropdown",jumpToPageInputLabel:"Jump to Page Input",selectRow:"Row Selected",unselectRow:"Row Unselected",expandRow:"Row Expanded",collapseRow:"Row Collapsed",showFilterMenu:"Show Filter Menu",hideFilterMenu:"Hide Filter Menu",filterOperator:"Filter Operator",filterConstraint:"Filter Constraint",editRow:"Row Edit",saveEdit:"Save Edit",cancelEdit:"Cancel Edit",listView:"List View",gridView:"Grid View",slide:"Slide",slideNumber:"{slideNumber}",zoomImage:"Zoom Image",zoomIn:"Zoom In",zoomOut:"Zoom Out",rotateRight:"Rotate Right",rotateLeft:"Rotate Left"}}),ve(this,"zIndex",{modal:1100,overlay:1e3,menu:1e3,tooltip:1100}),ve(this,"translationSource",new Lt),ve(this,"translationObserver",this.translationSource.asObservable())}getTranslation(t){return this.translation[t]}setTranslation(t){this.translation={...this.translation,...t},this.translationSource.next(this.translation)}}return ve(e,"\u0275fac",function(t){return new(t||e)}),ve(e,"\u0275prov",Be({token:e,factory:e.\u0275fac,providedIn:"root"})),e})(),X5=(()=>{class e{constructor(t){ve(this,"template",void 0),ve(this,"type",void 0),ve(this,"name",void 0),this.template=t}getType(){return this.name}}return ve(e,"\u0275fac",function(t){return new(t||e)(we(Si))}),ve(e,"\u0275dir",Ge({type:e,selectors:[["","pTemplate",""]],inputs:{type:"type",name:["pTemplate","name"]}})),e})(),eV=(()=>{class e{}return ve(e,"\u0275fac",function(t){return new(t||e)}),ve(e,"\u0275mod",vn({type:e})),ve(e,"\u0275inj",gt({imports:[Wi]})),e})();class ff{static equals(n,t,r){return r?this.resolveFieldData(n,r)===this.resolveFieldData(t,r):this.equalsByValue(n,t)}static equalsByValue(n,t){if(n===t)return!0;if(n&&t&&"object"==typeof n&&"object"==typeof t){var o,s,a,r=Array.isArray(n),i=Array.isArray(t);if(r&&i){if((s=n.length)!=t.length)return!1;for(o=s;0!=o--;)if(!this.equalsByValue(n[o],t[o]))return!1;return!0}if(r!=i)return!1;var c=this.isDate(n),h=this.isDate(t);if(c!=h)return!1;if(c&&h)return n.getTime()==t.getTime();var g=n instanceof RegExp,m=t instanceof RegExp;if(g!=m)return!1;if(g&&m)return n.toString()==t.toString();var I=Object.keys(n);if((s=I.length)!==Object.keys(t).length)return!1;for(o=s;0!=o--;)if(!Object.prototype.hasOwnProperty.call(t,I[o]))return!1;for(o=s;0!=o--;)if(!this.equalsByValue(n[a=I[o]],t[a]))return!1;return!0}return n!=n&&t!=t}static resolveFieldData(n,t){if(n&&t){if(this.isFunction(t))return t(n);if(-1==t.indexOf("."))return n[t];{let r=t.split("."),i=n;for(let o=0,s=r.length;o<s;++o){if(null==i)return null;i=i[r[o]]}return i}}return null}static isFunction(n){return!!(n&&n.constructor&&n.call&&n.apply)}static reorderArray(n,t,r){n&&t!==r&&(r>=n.length&&(r%=n.length,t%=n.length),n.splice(r,0,n.splice(t,1)[0]))}static insertIntoOrderedArray(n,t,r,i){if(r.length>0){let o=!1;for(let s=0;s<r.length;s++)if(this.findIndexInList(r[s],i)>t){r.splice(s,0,n),o=!0;break}o||r.push(n)}else r.push(n)}static findIndexInList(n,t){let r=-1;if(t)for(let i=0;i<t.length;i++)if(t[i]==n){r=i;break}return r}static contains(n,t){if(null!=n&&t&&t.length)for(let r of t)if(this.equals(n,r))return!0;return!1}static removeAccents(n){return n&&n.search(/[\xC0-\xFF]/g)>-1&&(n=n.replace(/[\xC0-\xC5]/g,"A").replace(/[\xC6]/g,"AE").replace(/[\xC7]/g,"C").replace(/[\xC8-\xCB]/g,"E").replace(/[\xCC-\xCF]/g,"I").replace(/[\xD0]/g,"D").replace(/[\xD1]/g,"N").replace(/[\xD2-\xD6\xD8]/g,"O").replace(/[\xD9-\xDC]/g,"U").replace(/[\xDD]/g,"Y").replace(/[\xDE]/g,"P").replace(/[\xE0-\xE5]/g,"a").replace(/[\xE6]/g,"ae").replace(/[\xE7]/g,"c").replace(/[\xE8-\xEB]/g,"e").replace(/[\xEC-\xEF]/g,"i").replace(/[\xF1]/g,"n").replace(/[\xF2-\xF6\xF8]/g,"o").replace(/[\xF9-\xFC]/g,"u").replace(/[\xFE]/g,"p").replace(/[\xFD\xFF]/g,"y")),n}static isDate(n){return"[object Date]"===Object.prototype.toString.call(n)}static isEmpty(n){return null==n||""===n||Array.isArray(n)&&0===n.length||!this.isDate(n)&&"object"==typeof n&&0===Object.keys(n).length}static isNotEmpty(n){return!this.isEmpty(n)}static compare(n,t,r,i=1){let o=-1;const s=this.isEmpty(n),a=this.isEmpty(t);return o=s&&a?0:s?i:a?-i:"string"==typeof n&&"string"==typeof t?n.localeCompare(t,r,{numeric:!0}):n<t?-1:n>t?1:0,o}static sort(n,t,r=1,i,o=1){return(1===o?r:o)*ff.compare(n,t,i,r)}static merge(n,t){if(null!=n||null!=t)return null!=n&&"object"!=typeof n||null!=t&&"object"!=typeof t?null!=n&&"string"!=typeof n||null!=t&&"string"!=typeof t?t||n:[n||"",t||""].join(" "):{...n||{},...t||{}}}static isPrintableCharacter(n=""){return this.isNotEmpty(n)&&1===n.length&&n.match(/\S| /)}static getItemValue(n,...t){return this.isFunction(n)?n(...t):n}static findLastIndex(n,t){let r=-1;if(this.isNotEmpty(n))try{r=n.findLastIndex(t)}catch{r=n.lastIndexOf([...n].reverse().find(t))}return r}static findLast(n,t){let r;if(this.isNotEmpty(n))try{r=n.findLast(t)}catch{r=[...n].reverse().find(t)}return r}}var $D=0;function hf(e="pn_id_"){return`${e}${++$D}`}var Qm=function tV(){let e=[];const i=o=>o&&parseInt(o.style.zIndex,10)||0;return{get:i,set:(o,s,a)=>{s&&(s.style.zIndex=String(((o,s)=>{let a=e.length>0?e[e.length-1]:{key:o,value:s},c=a.value+(a.key===o?0:s)+1;return e.push({key:o,value:c}),c})(o,a)))},clear:o=>{o&&((o=>{e=e.filter(s=>s.value!==o)})(i(o)),o.style.zIndex="")},getCurrent:()=>e.length>0?e[e.length-1].value:0}}();const nV=["*"];let vl=(()=>{class e{constructor(){ve(this,"label",void 0),ve(this,"spin",!1),ve(this,"styleClass",void 0),ve(this,"role",void 0),ve(this,"ariaLabel",void 0),ve(this,"ariaHidden",void 0)}ngOnInit(){this.getAttributes()}getAttributes(){const t=ff.isEmpty(this.label);this.role=t?void 0:"img",this.ariaLabel=t?void 0:this.label,this.ariaHidden=t}getClassNames(){return`p-icon ${this.styleClass?this.styleClass+" ":""}${this.spin?"p-icon-spin":""}`}}return ve(e,"\u0275fac",function(t){return new(t||e)}),ve(e,"\u0275cmp",Dn({type:e,selectors:[["ng-component"]],hostAttrs:[1,"p-element","p-icon-wrapper"],inputs:{label:"label",spin:"spin",styleClass:"styleClass"},standalone:!0,features:[ao],ngContentSelectors:nV,decls:1,vars:0,template:function(t,r){1&t&&(function B_(e){const n=Se()[un][$n];if(!n.projection){const r=n.projection=Ja(e?e.length:1,null),i=r.slice();let o=n.child;for(;null!==o;){const s=e?yM(o,e):0;null!==s&&(i[s]?i[s].projectionNext=o:r[s]=o,i[s]=o),o=o.next}}}(),function U_(e,n=0,t){const r=Se(),i=dt(),o=js(i,at+e,16,null,t||null);null===o.projection&&(o.projection=n),Of(),(!r[ki]||ws())&&32!=(32&o.flags)&&function AT(e,n,t){Gv(n[Xe],0,n,t,uh(e,t,n),Hv(t.parent||n[$n],t,n))}(i,r,o)}(0))},encapsulation:2,changeDetection:0})),e})(),qD=(()=>{class e extends vl{}return ve(e,"\u0275fac",function(){let n;return function(r){return(n||(n=rn(e)))(r||e)}}()),ve(e,"\u0275cmp",Dn({type:e,selectors:[["CheckIcon"]],standalone:!0,features:[ft,ao],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M4.86199 11.5948C4.78717 11.5923 4.71366 11.5745 4.64596 11.5426C4.57826 11.5107 4.51779 11.4652 4.46827 11.4091L0.753985 7.69483C0.683167 7.64891 0.623706 7.58751 0.580092 7.51525C0.536478 7.44299 0.509851 7.36177 0.502221 7.27771C0.49459 7.19366 0.506156 7.10897 0.536046 7.03004C0.565935 6.95111 0.613367 6.88 0.674759 6.82208C0.736151 6.76416 0.8099 6.72095 0.890436 6.69571C0.970973 6.67046 1.05619 6.66385 1.13966 6.67635C1.22313 6.68886 1.30266 6.72017 1.37226 6.76792C1.44186 6.81567 1.4997 6.8786 1.54141 6.95197L4.86199 10.2503L12.6397 2.49483C12.7444 2.42694 12.8689 2.39617 12.9932 2.40745C13.1174 2.41873 13.2343 2.47141 13.3251 2.55705C13.4159 2.64268 13.4753 2.75632 13.4938 2.87973C13.5123 3.00315 13.4888 3.1292 13.4271 3.23768L5.2557 11.4091C5.20618 11.4652 5.14571 11.5107 5.07801 11.5426C5.01031 11.5745 4.9368 11.5923 4.86199 11.5948Z","fill","currentColor"]],template:function(t,r){1&t&&(Cs(),Re(0,"svg",0),Xt(1,"path",1),Te()),2&t&&(wi(r.getClassNames()),gn("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})(),zD=(()=>{class e extends vl{constructor(...t){super(...t),ve(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+hf()+")"}}return ve(e,"\u0275fac",function(){let n;return function(r){return(n||(n=rn(e)))(r||e)}}()),ve(e,"\u0275cmp",Dn({type:e,selectors:[["ExclamationTriangleIcon"]],standalone:!0,features:[ft,ao],decls:8,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M13.4018 13.1893H0.598161C0.49329 13.189 0.390283 13.1615 0.299143 13.1097C0.208003 13.0578 0.131826 12.9832 0.0780112 12.8932C0.0268539 12.8015 0 12.6982 0 12.5931C0 12.4881 0.0268539 12.3848 0.0780112 12.293L6.47985 1.08982C6.53679 1.00399 6.61408 0.933574 6.70484 0.884867C6.7956 0.836159 6.897 0.810669 7 0.810669C7.103 0.810669 7.2044 0.836159 7.29516 0.884867C7.38592 0.933574 7.46321 1.00399 7.52015 1.08982L13.922 12.293C13.9731 12.3848 14 12.4881 14 12.5931C14 12.6982 13.9731 12.8015 13.922 12.8932C13.8682 12.9832 13.792 13.0578 13.7009 13.1097C13.6097 13.1615 13.5067 13.189 13.4018 13.1893ZM1.63046 11.989H12.3695L7 2.59425L1.63046 11.989Z","fill","currentColor"],["d","M6.99996 8.78801C6.84143 8.78594 6.68997 8.72204 6.57787 8.60993C6.46576 8.49782 6.40186 8.34637 6.39979 8.18784V5.38703C6.39979 5.22786 6.46302 5.0752 6.57557 4.96265C6.68813 4.85009 6.84078 4.78686 6.99996 4.78686C7.15914 4.78686 7.31179 4.85009 7.42435 4.96265C7.5369 5.0752 7.60013 5.22786 7.60013 5.38703V8.18784C7.59806 8.34637 7.53416 8.49782 7.42205 8.60993C7.30995 8.72204 7.15849 8.78594 6.99996 8.78801Z","fill","currentColor"],["d","M6.99996 11.1887C6.84143 11.1866 6.68997 11.1227 6.57787 11.0106C6.46576 10.8985 6.40186 10.7471 6.39979 10.5885V10.1884C6.39979 10.0292 6.46302 9.87658 6.57557 9.76403C6.68813 9.65147 6.84078 9.58824 6.99996 9.58824C7.15914 9.58824 7.31179 9.65147 7.42435 9.76403C7.5369 9.87658 7.60013 10.0292 7.60013 10.1884V10.5885C7.59806 10.7471 7.53416 10.8985 7.42205 11.0106C7.30995 11.1227 7.15849 11.1866 6.99996 11.1887Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(Cs(),Re(0,"svg",0)(1,"g"),Xt(2,"path",1)(3,"path",2)(4,"path",3),Te(),Re(5,"defs")(6,"clipPath",4),Xt(7,"rect",5),Te()()()),2&t&&(wi(r.getClassNames()),gn("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Ye(1),gn("clip-path",r.pathId),Ye(5),it("id",r.pathId))},encapsulation:2})),e})(),WD=(()=>{class e extends vl{constructor(...t){super(...t),ve(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+hf()+")"}}return ve(e,"\u0275fac",function(){let n;return function(r){return(n||(n=rn(e)))(r||e)}}()),ve(e,"\u0275cmp",Dn({type:e,selectors:[["InfoCircleIcon"]],standalone:!0,features:[ft,ao],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M3.11101 12.8203C4.26215 13.5895 5.61553 14 7 14C8.85652 14 10.637 13.2625 11.9497 11.9497C13.2625 10.637 14 8.85652 14 7C14 5.61553 13.5895 4.26215 12.8203 3.11101C12.0511 1.95987 10.9579 1.06266 9.67879 0.532846C8.3997 0.00303296 6.99224 -0.13559 5.63437 0.134506C4.2765 0.404603 3.02922 1.07129 2.05026 2.05026C1.07129 3.02922 0.404603 4.2765 0.134506 5.63437C-0.13559 6.99224 0.00303296 8.3997 0.532846 9.67879C1.06266 10.9579 1.95987 12.0511 3.11101 12.8203ZM3.75918 2.14976C4.71846 1.50879 5.84628 1.16667 7 1.16667C8.5471 1.16667 10.0308 1.78125 11.1248 2.87521C12.2188 3.96918 12.8333 5.45291 12.8333 7C12.8333 8.15373 12.4912 9.28154 11.8502 10.2408C11.2093 11.2001 10.2982 11.9478 9.23232 12.3893C8.16642 12.8308 6.99353 12.9463 5.86198 12.7212C4.73042 12.4962 3.69102 11.9406 2.87521 11.1248C2.05941 10.309 1.50384 9.26958 1.27876 8.13803C1.05367 7.00647 1.16919 5.83358 1.61071 4.76768C2.05222 3.70178 2.79989 2.79074 3.75918 2.14976ZM7.00002 4.8611C6.84594 4.85908 6.69873 4.79698 6.58977 4.68801C6.48081 4.57905 6.4187 4.43185 6.41669 4.27776V3.88888C6.41669 3.73417 6.47815 3.58579 6.58754 3.4764C6.69694 3.367 6.84531 3.30554 7.00002 3.30554C7.15473 3.30554 7.3031 3.367 7.4125 3.4764C7.52189 3.58579 7.58335 3.73417 7.58335 3.88888V4.27776C7.58134 4.43185 7.51923 4.57905 7.41027 4.68801C7.30131 4.79698 7.1541 4.85908 7.00002 4.8611ZM7.00002 10.6945C6.84594 10.6925 6.69873 10.6304 6.58977 10.5214C6.48081 10.4124 6.4187 10.2652 6.41669 10.1111V6.22225C6.41669 6.06754 6.47815 5.91917 6.58754 5.80977C6.69694 5.70037 6.84531 5.63892 7.00002 5.63892C7.15473 5.63892 7.3031 5.70037 7.4125 5.80977C7.52189 5.91917 7.58335 6.06754 7.58335 6.22225V10.1111C7.58134 10.2652 7.51923 10.4124 7.41027 10.5214C7.30131 10.6304 7.1541 10.6925 7.00002 10.6945Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(Cs(),Re(0,"svg",0)(1,"g"),Xt(2,"path",1),Te(),Re(3,"defs")(4,"clipPath",2),Xt(5,"rect",3),Te()()()),2&t&&(wi(r.getClassNames()),gn("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Ye(1),gn("clip-path",r.pathId),Ye(3),it("id",r.pathId))},encapsulation:2})),e})(),GD=(()=>{class e extends vl{}return ve(e,"\u0275fac",function(){let n;return function(r){return(n||(n=rn(e)))(r||e)}}()),ve(e,"\u0275cmp",Dn({type:e,selectors:[["TimesIcon"]],standalone:!0,features:[ft,ao],decls:2,vars:5,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M8.01186 7.00933L12.27 2.75116C12.341 2.68501 12.398 2.60524 12.4375 2.51661C12.4769 2.42798 12.4982 2.3323 12.4999 2.23529C12.5016 2.13827 12.4838 2.0419 12.4474 1.95194C12.4111 1.86197 12.357 1.78024 12.2884 1.71163C12.2198 1.64302 12.138 1.58893 12.0481 1.55259C11.9581 1.51625 11.8617 1.4984 11.7647 1.50011C11.6677 1.50182 11.572 1.52306 11.4834 1.56255C11.3948 1.60204 11.315 1.65898 11.2488 1.72997L6.99067 5.98814L2.7325 1.72997C2.59553 1.60234 2.41437 1.53286 2.22718 1.53616C2.03999 1.53946 1.8614 1.61529 1.72901 1.74767C1.59663 1.88006 1.5208 2.05865 1.5175 2.24584C1.5142 2.43303 1.58368 2.61419 1.71131 2.75116L5.96948 7.00933L1.71131 11.2675C1.576 11.403 1.5 11.5866 1.5 11.7781C1.5 11.9696 1.576 12.1532 1.71131 12.2887C1.84679 12.424 2.03043 12.5 2.2219 12.5C2.41338 12.5 2.59702 12.424 2.7325 12.2887L6.99067 8.03052L11.2488 12.2887C11.3843 12.424 11.568 12.5 11.7594 12.5C11.9509 12.5 12.1346 12.424 12.27 12.2887C12.4053 12.1532 12.4813 11.9696 12.4813 11.7781C12.4813 11.5866 12.4053 11.403 12.27 11.2675L8.01186 7.00933Z","fill","currentColor"]],template:function(t,r){1&t&&(Cs(),Re(0,"svg",0),Xt(1,"path",1),Te()),2&t&&(wi(r.getClassNames()),gn("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role))},encapsulation:2})),e})(),KD=(()=>{class e extends vl{constructor(...t){super(...t),ve(this,"pathId",void 0)}ngOnInit(){this.pathId="url(#"+hf()+")"}}return ve(e,"\u0275fac",function(){let n;return function(r){return(n||(n=rn(e)))(r||e)}}()),ve(e,"\u0275cmp",Dn({type:e,selectors:[["TimesCircleIcon"]],standalone:!0,features:[ft,ao],decls:6,vars:7,consts:[["width","14","height","14","viewBox","0 0 14 14","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M7 14C5.61553 14 4.26215 13.5895 3.11101 12.8203C1.95987 12.0511 1.06266 10.9579 0.532846 9.67879C0.00303296 8.3997 -0.13559 6.99224 0.134506 5.63437C0.404603 4.2765 1.07129 3.02922 2.05026 2.05026C3.02922 1.07129 4.2765 0.404603 5.63437 0.134506C6.99224 -0.13559 8.3997 0.00303296 9.67879 0.532846C10.9579 1.06266 12.0511 1.95987 12.8203 3.11101C13.5895 4.26215 14 5.61553 14 7C14 8.85652 13.2625 10.637 11.9497 11.9497C10.637 13.2625 8.85652 14 7 14ZM7 1.16667C5.84628 1.16667 4.71846 1.50879 3.75918 2.14976C2.79989 2.79074 2.05222 3.70178 1.61071 4.76768C1.16919 5.83358 1.05367 7.00647 1.27876 8.13803C1.50384 9.26958 2.05941 10.309 2.87521 11.1248C3.69102 11.9406 4.73042 12.4962 5.86198 12.7212C6.99353 12.9463 8.16642 12.8308 9.23232 12.3893C10.2982 11.9478 11.2093 11.2001 11.8502 10.2408C12.4912 9.28154 12.8333 8.15373 12.8333 7C12.8333 5.45291 12.2188 3.96918 11.1248 2.87521C10.0308 1.78125 8.5471 1.16667 7 1.16667ZM4.66662 9.91668C4.58998 9.91704 4.51404 9.90209 4.44325 9.87271C4.37246 9.84333 4.30826 9.8001 4.2544 9.74557C4.14516 9.6362 4.0838 9.48793 4.0838 9.33335C4.0838 9.17876 4.14516 9.0305 4.2544 8.92113L6.17553 7L4.25443 5.07891C4.15139 4.96832 4.09529 4.82207 4.09796 4.67094C4.10063 4.51982 4.16185 4.37563 4.26872 4.26876C4.3756 4.16188 4.51979 4.10066 4.67091 4.09799C4.82204 4.09532 4.96829 4.15142 5.07887 4.25446L6.99997 6.17556L8.92106 4.25446C9.03164 4.15142 9.1779 4.09532 9.32903 4.09799C9.48015 4.10066 9.62434 4.16188 9.73121 4.26876C9.83809 4.37563 9.89931 4.51982 9.90198 4.67094C9.90464 4.82207 9.84855 4.96832 9.74551 5.07891L7.82441 7L9.74554 8.92113C9.85478 9.0305 9.91614 9.17876 9.91614 9.33335C9.91614 9.48793 9.85478 9.6362 9.74554 9.74557C9.69168 9.8001 9.62748 9.84333 9.55669 9.87271C9.4859 9.90209 9.40996 9.91704 9.33332 9.91668C9.25668 9.91704 9.18073 9.90209 9.10995 9.87271C9.03916 9.84333 8.97495 9.8001 8.9211 9.74557L6.99997 7.82444L5.07884 9.74557C5.02499 9.8001 4.96078 9.84333 4.88999 9.87271C4.81921 9.90209 4.74326 9.91704 4.66662 9.91668Z","fill","currentColor"],[3,"id"],["width","14","height","14","fill","white"]],template:function(t,r){1&t&&(Cs(),Re(0,"svg",0)(1,"g"),Xt(2,"path",1),Te(),Re(3,"defs")(4,"clipPath",2),Xt(5,"rect",3),Te()()()),2&t&&(wi(r.getClassNames()),gn("aria-label",r.ariaLabel)("aria-hidden",r.ariaHidden)("role",r.role),Ye(1),gn("clip-path",r.pathId),Ye(3),it("id",r.pathId))},encapsulation:2})),e})(),mr=(()=>{class e{static addClass(t,r){t&&r&&(t.classList?t.classList.add(r):t.className+=" "+r)}static addMultipleClasses(t,r){if(t&&r)if(t.classList){let i=r.trim().split(" ");for(let o=0;o<i.length;o++)t.classList.add(i[o])}else{let i=r.split(" ");for(let o=0;o<i.length;o++)t.className+=" "+i[o]}}static removeClass(t,r){t&&r&&(t.classList?t.classList.remove(r):t.className=t.className.replace(new RegExp("(^|\\b)"+r.split(" ").join("|")+"(\\b|$)","gi")," "))}static hasClass(t,r){return!(!t||!r)&&(t.classList?t.classList.contains(r):new RegExp("(^| )"+r+"( |$)","gi").test(t.className))}static siblings(t){return Array.prototype.filter.call(t.parentNode.children,function(r){return r!==t})}static find(t,r){return Array.from(t.querySelectorAll(r))}static findSingle(t,r){return this.isElement(t)?t.querySelector(r):null}static index(t){let r=t.parentNode.childNodes,i=0;for(var o=0;o<r.length;o++){if(r[o]==t)return i;1==r[o].nodeType&&i++}return-1}static indexWithinGroup(t,r){let i=t.parentNode?t.parentNode.childNodes:[],o=0;for(var s=0;s<i.length;s++){if(i[s]==t)return o;i[s].attributes&&i[s].attributes[r]&&1==i[s].nodeType&&o++}return-1}static appendOverlay(t,r,i="self"){"self"!==i&&t&&r&&this.appendChild(t,r)}static alignOverlay(t,r,i="self",o=!0){t&&r&&(o&&(t.style.minWidth=`${e.getOuterWidth(r)}px`),"self"===i?this.relativePosition(t,r):this.absolutePosition(t,r))}static relativePosition(t,r){const i=_e=>{if(_e)return"relative"===getComputedStyle(_e).getPropertyValue("position")?_e:i(_e.parentElement)},o=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),s=r.offsetHeight,a=r.getBoundingClientRect(),c=this.getWindowScrollTop(),h=this.getWindowScrollLeft(),g=this.getViewport(),I=i(t)?.getBoundingClientRect()||{top:-1*c,left:-1*h};let O,X;a.top+s+o.height>g.height?(O=a.top-I.top-o.height,t.style.transformOrigin="bottom",a.top+O<0&&(O=-1*a.top)):(O=s+a.top-I.top,t.style.transformOrigin="top");const ae=a.left+o.width-g.width;X=o.width>g.width?-1*(a.left-I.left):ae>0?a.left-I.left-ae:a.left-I.left,t.style.top=O+"px",t.style.left=X+"px"}static absolutePosition(t,r){const i=t.offsetParent?{width:t.offsetWidth,height:t.offsetHeight}:this.getHiddenElementDimensions(t),o=i.height,s=i.width,a=r.offsetHeight,c=r.offsetWidth,h=r.getBoundingClientRect(),g=this.getWindowScrollTop(),m=this.getWindowScrollLeft(),I=this.getViewport();let O,X;h.top+a+o>I.height?(O=h.top+g-o,t.style.transformOrigin="bottom",O<0&&(O=g)):(O=a+h.top+g,t.style.transformOrigin="top"),X=h.left+s>I.width?Math.max(0,h.left+m+c-s):h.left+m,t.style.top=O+"px",t.style.left=X+"px"}static getParents(t,r=[]){return null===t.parentNode?r:this.getParents(t.parentNode,r.concat([t.parentNode]))}static getScrollableParents(t){let r=[];if(t){let i=this.getParents(t);const o=/(auto|scroll)/,s=a=>{let c=window.getComputedStyle(a,null);return o.test(c.getPropertyValue("overflow"))||o.test(c.getPropertyValue("overflowX"))||o.test(c.getPropertyValue("overflowY"))};for(let a of i){let c=1===a.nodeType&&a.dataset.scrollselectors;if(c){let h=c.split(",");for(let g of h){let m=this.findSingle(a,g);m&&s(m)&&r.push(m)}}9!==a.nodeType&&s(a)&&r.push(a)}}return r}static getHiddenElementOuterHeight(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetHeight;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementOuterWidth(t){t.style.visibility="hidden",t.style.display="block";let r=t.offsetWidth;return t.style.display="none",t.style.visibility="visible",r}static getHiddenElementDimensions(t){let r={};return t.style.visibility="hidden",t.style.display="block",r.width=t.offsetWidth,r.height=t.offsetHeight,t.style.display="none",t.style.visibility="visible",r}static scrollInView(t,r){let i=getComputedStyle(t).getPropertyValue("borderTopWidth"),o=i?parseFloat(i):0,s=getComputedStyle(t).getPropertyValue("paddingTop"),a=s?parseFloat(s):0,c=t.getBoundingClientRect(),g=r.getBoundingClientRect().top+document.body.scrollTop-(c.top+document.body.scrollTop)-o-a,m=t.scrollTop,I=t.clientHeight,O=this.getOuterHeight(r);g<0?t.scrollTop=m+g:g+O>I&&(t.scrollTop=m+g-I+O)}static fadeIn(t,r){t.style.opacity=0;let i=+new Date,o=0,s=function(){o=+t.style.opacity.replace(",",".")+((new Date).getTime()-i)/r,t.style.opacity=o,i=+new Date,+o<1&&(window.requestAnimationFrame&&requestAnimationFrame(s)||setTimeout(s,16))};s()}static fadeOut(t,r){var i=1,a=50/r;let c=setInterval(()=>{(i-=a)<=0&&(i=0,clearInterval(c)),t.style.opacity=i},50)}static getWindowScrollTop(){let t=document.documentElement;return(window.pageYOffset||t.scrollTop)-(t.clientTop||0)}static getWindowScrollLeft(){let t=document.documentElement;return(window.pageXOffset||t.scrollLeft)-(t.clientLeft||0)}static matches(t,r){var i=Element.prototype;return(i.matches||i.webkitMatchesSelector||i.mozMatchesSelector||i.msMatchesSelector||function(s){return-1!==[].indexOf.call(document.querySelectorAll(s),this)}).call(t,r)}static getOuterWidth(t,r){let i=t.offsetWidth;if(r){let o=getComputedStyle(t);i+=parseFloat(o.marginLeft)+parseFloat(o.marginRight)}return i}static getHorizontalPadding(t){let r=getComputedStyle(t);return parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)}static getHorizontalMargin(t){let r=getComputedStyle(t);return parseFloat(r.marginLeft)+parseFloat(r.marginRight)}static innerWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r+=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static width(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight),r}static getInnerHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r+=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom),r}static getOuterHeight(t,r){let i=t.offsetHeight;if(r){let o=getComputedStyle(t);i+=parseFloat(o.marginTop)+parseFloat(o.marginBottom)}return i}static getHeight(t){let r=t.offsetHeight,i=getComputedStyle(t);return r-=parseFloat(i.paddingTop)+parseFloat(i.paddingBottom)+parseFloat(i.borderTopWidth)+parseFloat(i.borderBottomWidth),r}static getWidth(t){let r=t.offsetWidth,i=getComputedStyle(t);return r-=parseFloat(i.paddingLeft)+parseFloat(i.paddingRight)+parseFloat(i.borderLeftWidth)+parseFloat(i.borderRightWidth),r}static getViewport(){let t=window,r=document,i=r.documentElement,o=r.getElementsByTagName("body")[0];return{width:t.innerWidth||i.clientWidth||o.clientWidth,height:t.innerHeight||i.clientHeight||o.clientHeight}}static getOffset(t){var r=t.getBoundingClientRect();return{top:r.top+(window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0),left:r.left+(window.pageXOffset||document.documentElement.scrollLeft||document.body.scrollLeft||0)}}static replaceElementWith(t,r){let i=t.parentNode;if(!i)throw"Can't replace element";return i.replaceChild(r,t)}static getUserAgent(){if(navigator&&this.isClient())return navigator.userAgent}static isIE(){var t=window.navigator.userAgent;return t.indexOf("MSIE ")>0||(t.indexOf("Trident/")>0?(t.indexOf("rv:"),!0):t.indexOf("Edge/")>0)}static isIOS(){return/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream}static isAndroid(){return/(android)/i.test(navigator.userAgent)}static isTouchDevice(){return"ontouchstart"in window||navigator.maxTouchPoints>0}static appendChild(t,r){if(this.isElement(r))r.appendChild(t);else{if(!(r&&r.el&&r.el.nativeElement))throw"Cannot append "+r+" to "+t;r.el.nativeElement.appendChild(t)}}static removeChild(t,r){if(this.isElement(r))r.removeChild(t);else{if(!r.el||!r.el.nativeElement)throw"Cannot remove "+t+" from "+r;r.el.nativeElement.removeChild(t)}}static removeElement(t){"remove"in Element.prototype?t.remove():t.parentNode.removeChild(t)}static isElement(t){return"object"==typeof HTMLElement?t instanceof HTMLElement:t&&"object"==typeof t&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName}static calculateScrollbarWidth(t){if(t){let r=getComputedStyle(t);return t.offsetWidth-t.clientWidth-parseFloat(r.borderLeftWidth)-parseFloat(r.borderRightWidth)}{if(null!==this.calculatedScrollbarWidth)return this.calculatedScrollbarWidth;let r=document.createElement("div");r.className="p-scrollbar-measure",document.body.appendChild(r);let i=r.offsetWidth-r.clientWidth;return document.body.removeChild(r),this.calculatedScrollbarWidth=i,i}}static calculateScrollbarHeight(){if(null!==this.calculatedScrollbarHeight)return this.calculatedScrollbarHeight;let t=document.createElement("div");t.className="p-scrollbar-measure",document.body.appendChild(t);let r=t.offsetHeight-t.clientHeight;return document.body.removeChild(t),this.calculatedScrollbarWidth=r,r}static invokeElementMethod(t,r,i){t[r].apply(t,i)}static clearSelection(){if(window.getSelection)window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().rangeCount>0&&window.getSelection().getRangeAt(0).getClientRects().length>0&&window.getSelection().removeAllRanges();else if(document.selection&&document.selection.empty)try{document.selection.empty()}catch{}}static getBrowser(){if(!this.browser){let t=this.resolveUserAgent();this.browser={},t.browser&&(this.browser[t.browser]=!0,this.browser.version=t.version),this.browser.chrome?this.browser.webkit=!0:this.browser.webkit&&(this.browser.safari=!0)}return this.browser}static resolveUserAgent(){let t=navigator.userAgent.toLowerCase(),r=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:r[1]||"",version:r[2]||"0"}}static isInteger(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&isFinite(t)&&Math.floor(t)===t}static isHidden(t){return!t||null===t.offsetParent}static isVisible(t){return t&&null!=t.offsetParent}static isExist(t){return null!==t&&typeof t<"u"&&t.nodeName&&t.parentNode}static focus(t,r){t&&document.activeElement!==t&&t.focus(r)}static getFocusableElements(t){let r=e.find(t,'button:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [href]:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                input:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), select:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                textarea:not([tabindex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]), [tabIndex]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]),\n                [contenteditable]:not([tabIndex = "-1"]):not([disabled]):not([style*="display:none"]):not([hidden]):not(.p-disabled)'),i=[];for(let o of r)(o.offsetWidth||o.offsetHeight||o.getClientRects().length)&&i.push(o);return i}static getNextFocusableElement(t,r=!1){const i=e.getFocusableElements(t);let o=0;if(i&&i.length>0){const s=i.indexOf(i[0].ownerDocument.activeElement);r?o=-1==s||0===s?i.length-1:s-1:-1!=s&&s!==i.length-1&&(o=s+1)}return i[o]}static generateZIndex(){return this.zindex=this.zindex||999,++this.zindex}static getSelection(){return window.getSelection?window.getSelection().toString():document.getSelection?document.getSelection().toString():document.selection?document.selection.createRange().text:null}static getTargetElement(t,r){if(!t)return null;switch(t){case"document":return document;case"window":return window;case"@next":return r?.nextElementSibling;case"@prev":return r?.previousElementSibling;case"@parent":return r?.parentElement;case"@grandparent":return r?.parentElement.parentElement;default:const i=typeof t;if("string"===i)return document.querySelector(t);if("object"===i&&t.hasOwnProperty("nativeElement"))return this.isExist(t.nativeElement)?t.nativeElement:void 0;const s=(a=t)&&a.constructor&&a.call&&a.apply?t():t;return s&&9===s.nodeType||this.isExist(s)?s:null}var a}static isClient(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}static getAttribute(t,r){if(t){const i=t.getAttribute(r);return isNaN(i)?"true"===i||"false"===i?"true"===i:i:+i}}}return ve(e,"zindex",1e3),ve(e,"calculatedScrollbarWidth",null),ve(e,"calculatedScrollbarHeight",null),ve(e,"browser",void 0),e})(),rV=(()=>{class e{constructor(t,r,i,o,s,a){ve(this,"document",void 0),ve(this,"platformId",void 0),ve(this,"renderer",void 0),ve(this,"el",void 0),ve(this,"zone",void 0),ve(this,"config",void 0),ve(this,"animationListener",void 0),ve(this,"mouseDownListener",void 0),ve(this,"timeout",void 0),this.document=t,this.platformId=r,this.renderer=i,this.el=o,this.zone=s,this.config=a}ngAfterViewInit(){(function MO(e){return e===ZS})(this.platformId)&&this.config&&this.config.ripple&&this.zone.runOutsideAngular(()=>{this.create(),this.mouseDownListener=this.renderer.listen(this.el.nativeElement,"mousedown",this.onMouseDown.bind(this))})}onMouseDown(t){let r=this.getInk();if(!r||"none"===this.document.defaultView?.getComputedStyle(r,null).display)return;if(mr.removeClass(r,"p-ink-active"),!mr.getHeight(r)&&!mr.getWidth(r)){let a=Math.max(mr.getOuterWidth(this.el.nativeElement),mr.getOuterHeight(this.el.nativeElement));r.style.height=a+"px",r.style.width=a+"px"}let i=mr.getOffset(this.el.nativeElement),o=t.pageX-i.left+this.document.body.scrollTop-mr.getWidth(r)/2,s=t.pageY-i.top+this.document.body.scrollLeft-mr.getHeight(r)/2;this.renderer.setStyle(r,"top",s+"px"),this.renderer.setStyle(r,"left",o+"px"),mr.addClass(r,"p-ink-active"),this.timeout=setTimeout(()=>{let a=this.getInk();a&&mr.removeClass(a,"p-ink-active")},401)}getInk(){const t=this.el.nativeElement.children;for(let r=0;r<t.length;r++)if("string"==typeof t[r].className&&-1!==t[r].className.indexOf("p-ink"))return t[r];return null}resetInk(){let t=this.getInk();t&&mr.removeClass(t,"p-ink-active")}onAnimationEnd(t){this.timeout&&clearTimeout(this.timeout),mr.removeClass(t.currentTarget,"p-ink-active")}create(){let t=this.renderer.createElement("span");this.renderer.addClass(t,"p-ink"),this.renderer.appendChild(this.el.nativeElement,t),this.renderer.setAttribute(t,"aria-hidden","true"),this.renderer.setAttribute(t,"role","presentation"),this.animationListener||(this.animationListener=this.renderer.listen(t,"animationend",this.onAnimationEnd.bind(this)))}remove(){let t=this.getInk();t&&(this.mouseDownListener&&this.mouseDownListener(),this.animationListener&&this.animationListener(),this.mouseDownListener=null,this.animationListener=null,mr.removeElement(t))}ngOnDestroy(){this.config&&this.config.ripple&&this.remove()}}return ve(e,"\u0275fac",function(t){return new(t||e)(we(Nn),we(oo),we(Jr),we(dr),we(Nt),we(jD,8))}),ve(e,"\u0275dir",Ge({type:e,selectors:[["","pRipple",""]],hostAttrs:[1,"p-ripple","p-element"]})),e})(),iV=(()=>{class e{}return ve(e,"\u0275fac",function(t){return new(t||e)}),ve(e,"\u0275mod",vn({type:e})),ve(e,"\u0275inj",gt({imports:[Wi]})),e})();const JD=["container"];function oV(e,n){1&e&&Xt(0,"span"),2&e&&wi("p-toast-message-icon pi "+fr(2).message.icon)}function sV(e,n){1&e&&Xt(0,"CheckIcon")}function aV(e,n){1&e&&Xt(0,"InfoCircleIcon")}function uV(e,n){1&e&&Xt(0,"TimesCircleIcon")}function lV(e,n){1&e&&Xt(0,"ExclamationTriangleIcon")}function cV(e,n){if(1&e&&(Re(0,"span",11),_u(1),In(2,sV,1,0,"CheckIcon",3),In(3,aV,1,0,"InfoCircleIcon",3),In(4,uV,1,0,"TimesCircleIcon",3),In(5,lV,1,0,"ExclamationTriangleIcon",3),wu(),Te()),2&e){const t=fr(2);Ye(2),it("ngIf","success"===t.message.severity),Ye(1),it("ngIf","info"===t.message.severity),Ye(1),it("ngIf","error"===t.message.severity),Ye(1),it("ngIf","warn"===t.message.severity)}}function dV(e,n){if(1&e&&(_u(0),In(1,oV,1,2,"span",6),In(2,cV,6,4,"span",7),Re(3,"div",8)(4,"div",9),Ve(5),Te(),Re(6,"div",10),Ve(7),Te()(),wu()),2&e){const t=fr();Ye(1),it("ngIf",t.message.icon),Ye(1),it("ngIf",!t.message.icon),Ye(3),Zr(t.message.summary),Ye(2),Zr(t.message.detail)}}function fV(e,n){1&e&&ip(0)}function hV(e,n){1&e&&Xt(0,"span"),2&e&&wi("p-toast-message-icon pi "+fr(2).message.closeIcon)}function pV(e,n){1&e&&Xt(0,"TimesIcon",14),2&e&&it("styleClass","p-toast-icon-close-icon")}function gV(e,n){if(1&e){const t=op();Re(0,"button",12),xn("click",function(i){return Es(t),Ss(fr().onCloseIconClick(i))})("keydown.enter",function(i){return Es(t),Ss(fr().onCloseIconClick(i))}),In(1,hV,1,2,"span",6),In(2,pV,1,1,"TimesIcon",13),Te()}if(2&e){const t=fr();Ye(1),it("ngIf",t.message.closeIcon),Ye(1),it("ngIf",!t.message.closeIcon)}}const mV=function(e){return[e,"p-toast-message"]},yV=function(e,n,t,r){return{showTransformParams:e,hideTransformParams:n,showTransitionParams:t,hideTransitionParams:r}},vV=function(e){return{value:"visible",params:e}},_V=function(e){return{$implicit:e}};function wV(e,n){if(1&e){const t=op();Re(0,"p-toastItem",3),xn("onClose",function(i){return Es(t),Ss(fr().onMessageClose(i))})("@toastAnimation.start",function(i){return Es(t),Ss(fr().onAnimationStart(i))})("@toastAnimation.done",function(i){return Es(t),Ss(fr().onAnimationEnd(i))}),Te()}if(2&e){const t=n.$implicit,r=n.index,i=fr();it("message",t)("index",r)("template",i.template)("@toastAnimation",void 0)("showTransformOptions",i.showTransformOptions)("hideTransformOptions",i.hideTransformOptions)("showTransitionOptions",i.showTransitionOptions)("hideTransitionOptions",i.hideTransitionOptions)}}let EV=(()=>{class e{constructor(t){ve(this,"zone",void 0),ve(this,"message",void 0),ve(this,"index",void 0),ve(this,"template",void 0),ve(this,"showTransformOptions",void 0),ve(this,"hideTransformOptions",void 0),ve(this,"showTransitionOptions",void 0),ve(this,"hideTransitionOptions",void 0),ve(this,"onClose",new Gt),ve(this,"containerViewChild",void 0),ve(this,"timeout",void 0),this.zone=t}ngAfterViewInit(){this.initTimeout()}initTimeout(){this.message?.sticky||this.zone.runOutsideAngular(()=>{this.timeout=setTimeout(()=>{this.onClose.emit({index:this.index,message:this.message})},this.message?.life||3e3)})}clearTimeout(){this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}onMouseEnter(){this.clearTimeout()}onMouseLeave(){this.initTimeout()}onCloseIconClick(t){this.clearTimeout(),this.onClose.emit({index:this.index,message:this.message}),t.preventDefault()}ngOnDestroy(){this.clearTimeout()}}return ve(e,"\u0275fac",function(t){return new(t||e)(we(Nt))}),ve(e,"\u0275cmp",Dn({type:e,selectors:[["p-toastItem"]],viewQuery:function(t,r){if(1&t&&Fp(JD,5),2&t){let i;Mu(i=Ru())&&(r.containerViewChild=i.first)}},hostAttrs:[1,"p-element"],inputs:{message:"message",index:"index",template:"template",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions"},outputs:{onClose:"onClose"},decls:6,vars:21,consts:[[3,"ngClass","mouseenter","mouseleave"],["container",""],["role","alert","aria-live","assertive","aria-atomic","true",1,"p-toast-message-content",3,"ngClass"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["type","button","class","p-toast-icon-close p-link","pRipple","",3,"click","keydown.enter",4,"ngIf"],[3,"class",4,"ngIf"],["class","p-toast-message-icon",4,"ngIf"],[1,"p-toast-message-text"],[1,"p-toast-summary"],[1,"p-toast-detail"],[1,"p-toast-message-icon"],["type","button","pRipple","",1,"p-toast-icon-close","p-link",3,"click","keydown.enter"],[3,"styleClass",4,"ngIf"],[3,"styleClass"]],template:function(t,r){1&t&&(Re(0,"div",0,1),xn("mouseenter",function(){return r.onMouseEnter()})("mouseleave",function(){return r.onMouseLeave()}),Re(2,"div",2),In(3,dV,8,4,"ng-container",3),In(4,fV,1,0,"ng-container",4),In(5,gV,3,2,"button",5),Te()()),2&t&&(wi(null==r.message?null:r.message.styleClass),it("ngClass",Tu(10,mV,"p-toast-message-"+(null==r.message?null:r.message.severity)))("@messageState",Tu(17,vV,fE(12,yV,r.showTransformOptions,r.hideTransformOptions,r.showTransitionOptions,r.hideTransitionOptions))),gn("id",null==r.message?null:r.message.id),Ye(2),it("ngClass",null==r.message?null:r.message.contentStyleClass),Ye(1),it("ngIf",!r.template),Ye(1),it("ngTemplateOutlet",r.template)("ngTemplateOutletContext",Tu(19,_V,r.message)),Ye(1),it("ngIf",!1!==(null==r.message?null:r.message.closable)))},dependencies:function(){return[cd,dd,YS,rV,qD,WD,KD,zD,GD]},encapsulation:2,data:{animation:[JC("messageState",[m3("visible",Gu({transform:"translateY(0)",opacity:1})),em("void => *",[Gu({transform:"{{showTransformParams}}",opacity:0}),YC("{{showTransitionParams}}")]),em("* => void",[YC("{{hideTransitionParams}}",Gu({height:0,opacity:0,transform:"{{hideTransformParams}}"}))])])]},changeDetection:0})),e})(),SV=(()=>{class e{constructor(t,r,i,o,s){ve(this,"document",void 0),ve(this,"renderer",void 0),ve(this,"messageService",void 0),ve(this,"cd",void 0),ve(this,"config",void 0),ve(this,"key",void 0),ve(this,"autoZIndex",!0),ve(this,"baseZIndex",0),ve(this,"style",void 0),ve(this,"styleClass",void 0),ve(this,"position","top-right"),ve(this,"preventOpenDuplicates",!1),ve(this,"preventDuplicates",!1),ve(this,"showTransformOptions","translateY(100%)"),ve(this,"hideTransformOptions","translateY(-100%)"),ve(this,"showTransitionOptions","300ms ease-out"),ve(this,"hideTransitionOptions","250ms ease-in"),ve(this,"breakpoints",void 0),ve(this,"onClose",new Gt),ve(this,"containerViewChild",void 0),ve(this,"templates",void 0),ve(this,"messageSubscription",void 0),ve(this,"clearSubscription",void 0),ve(this,"messages",void 0),ve(this,"messagesArchieve",void 0),ve(this,"template",void 0),ve(this,"styleElement",void 0),ve(this,"id",hf()),this.document=t,this.renderer=r,this.messageService=i,this.cd=o,this.config=s}ngOnInit(){this.messageSubscription=this.messageService.messageObserver.subscribe(t=>{if(t)if(Array.isArray(t)){const r=t.filter(i=>this.canAdd(i));this.add(r)}else this.canAdd(t)&&this.add([t])}),this.clearSubscription=this.messageService.clearObserver.subscribe(t=>{t?this.key===t&&(this.messages=null):this.messages=null,this.cd.markForCheck()})}ngAfterViewInit(){this.breakpoints&&this.createStyle()}add(t){this.messages=this.messages?[...this.messages,...t]:[...t],this.preventDuplicates&&(this.messagesArchieve=this.messagesArchieve?[...this.messagesArchieve,...t]:[...t]),this.cd.markForCheck()}canAdd(t){let r=this.key===t.key;return r&&this.preventOpenDuplicates&&(r=!this.containsMessage(this.messages,t)),r&&this.preventDuplicates&&(r=!this.containsMessage(this.messagesArchieve,t)),r}containsMessage(t,r){return!!t&&null!=t.find(i=>i.summary===r.summary&&i.detail==r.detail&&i.severity===r.severity)}ngAfterContentInit(){this.templates?.forEach(t=>{t.getType(),this.template=t.template})}onMessageClose(t){this.messages?.splice(t.index,1),this.onClose.emit({message:t.message}),this.cd.detectChanges()}onAnimationStart(t){"void"===t.fromState&&(this.renderer.setAttribute(this.containerViewChild?.nativeElement,this.id,""),this.autoZIndex&&""===this.containerViewChild?.nativeElement.style.zIndex&&Qm.set("modal",this.containerViewChild?.nativeElement,this.baseZIndex||this.config.zIndex.modal))}onAnimationEnd(t){"void"===t.toState&&this.autoZIndex&&ff.isEmpty(this.messages)&&Qm.clear(this.containerViewChild?.nativeElement)}createStyle(){if(!this.styleElement){this.styleElement=this.renderer.createElement("style"),this.styleElement.type="text/css",this.renderer.appendChild(this.document.head,this.styleElement);let t="";for(let r in this.breakpoints){let i="";for(let o in this.breakpoints[r])i+=o+":"+this.breakpoints[r][o]+" !important;";t+=`\n                    @media screen and (max-width: ${r}) {\n                        .p-toast[${this.id}] {\n                           ${i}\n                        }\n                    }\n                `}this.renderer.setProperty(this.styleElement,"innerHTML",t)}}destroyStyle(){this.styleElement&&(this.renderer.removeChild(this.document.head,this.styleElement),this.styleElement=null)}ngOnDestroy(){this.messageSubscription&&this.messageSubscription.unsubscribe(),this.containerViewChild&&this.autoZIndex&&Qm.clear(this.containerViewChild.nativeElement),this.clearSubscription&&this.clearSubscription.unsubscribe(),this.destroyStyle()}}return ve(e,"\u0275fac",function(t){return new(t||e)(we(Nn),we(Jr),we(HD),we(Nu),we(jD))}),ve(e,"\u0275cmp",Dn({type:e,selectors:[["p-toast"]],contentQueries:function(t,r,i){if(1&t&&Mp(i,X5,4),2&t){let o;Mu(o=Ru())&&(r.templates=o)}},viewQuery:function(t,r){if(1&t&&Fp(JD,5),2&t){let i;Mu(i=Ru())&&(r.containerViewChild=i.first)}},hostAttrs:[1,"p-element"],inputs:{key:"key",autoZIndex:"autoZIndex",baseZIndex:"baseZIndex",style:"style",styleClass:"styleClass",position:"position",preventOpenDuplicates:"preventOpenDuplicates",preventDuplicates:"preventDuplicates",showTransformOptions:"showTransformOptions",hideTransformOptions:"hideTransformOptions",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",breakpoints:"breakpoints"},outputs:{onClose:"onClose"},decls:3,vars:5,consts:[[3,"ngClass","ngStyle"],["container",""],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose",4,"ngFor","ngForOf"],[3,"message","index","template","showTransformOptions","hideTransformOptions","showTransitionOptions","hideTransitionOptions","onClose"]],template:function(t,r){1&t&&(Re(0,"div",0,1),In(2,wV,1,8,"p-toastItem",2),Te()),2&t&&(wi(r.styleClass),it("ngClass","p-toast p-component p-toast-"+r.position)("ngStyle",r.style),Ye(2),it("ngForOf",r.messages))},dependencies:[cd,hg,JS,EV],styles:[".p-toast{position:fixed;width:25rem}.p-toast-message{overflow:hidden}.p-toast-message-content{display:flex;align-items:flex-start}.p-toast-message-text{flex:1 1 auto}.p-toast-top-right{top:20px;right:20px}.p-toast-top-left{top:20px;left:20px}.p-toast-bottom-left{bottom:20px;left:20px}.p-toast-bottom-right{bottom:20px;right:20px}.p-toast-top-center{top:20px;left:50%;transform:translate(-50%)}.p-toast-bottom-center{bottom:20px;left:50%;transform:translate(-50%)}.p-toast-center{left:50%;top:50%;min-width:20vw;transform:translate(-50%,-50%)}.p-toast-icon-close{display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-toast-icon-close.p-link{cursor:pointer}\n"],encapsulation:2,data:{animation:[JC("toastAnimation",[em(":enter, :leave",[v3("@*",y3())])])]},changeDetection:0})),e})(),bV=(()=>{class e{}return ve(e,"\u0275fac",function(t){return new(t||e)}),ve(e,"\u0275mod",vn({type:e})),ve(e,"\u0275inj",gt({imports:[Wi,iV,qD,WD,KD,zD,GD,eV]})),e})(),CV=(()=>{class e{constructor(){this.title="app"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Dn({type:e,selectors:[["app-root"]],decls:5,vars:0,consts:[[1,"container"]],template:function(t,r){1&t&&(Re(0,"body"),Xt(1,"app-nav-bar"),Re(2,"main",0),Xt(3,"router-outlet"),Te(),Xt(4,"p-toast"),Te())},dependencies:[J5,Um,SV],encapsulation:2}),e})(),_l=(()=>{class e{constructor(t,r,i){this.authorizeService=t,this.activatedRoute=r,this.router=i,this.message=new At(null)}ngOnInit(){var t=this;return gr(function*(){const r=t.activatedRoute.snapshot.url[1];switch(r.path){case"login":yield t.login(t.getReturnUrl());break;case"login-callback":yield t.processLoginCallback();break;case"login-failed":const i=t.activatedRoute.snapshot.queryParamMap.get("message");t.message.next(i);break;case"profile":t.redirectToProfile();break;case"register":t.redirectToRegister();break;default:throw new Error(`Invalid action '${r}'`)}})()}login(t){var r=this;return gr(function*(){const i={returnUrl:t},o=yield r.authorizeService.signIn(i);switch(r.message.next(void 0),o.status){case Jn.Redirect:break;case Jn.Success:yield r.navigateToReturnUrl(t);break;case Jn.Fail:yield r.router.navigate(Kn.LoginFailedPathComponents,{queryParams:{message:o.message}});break;default:throw new Error(`Invalid status result ${o.status}.`)}})()}processLoginCallback(){var t=this;return gr(function*(){const r=window.location.href,i=yield t.authorizeService.completeSignIn(r);switch(i.status){case Jn.Redirect:throw new Error("Should not redirect.");case Jn.Success:yield t.navigateToReturnUrl(t.getReturnUrl(i.state));break;case Jn.Fail:t.message.next(i.message)}})()}redirectToRegister(){this.redirectToApiAuthorizationPath(`${Kn.IdentityRegisterPath}?returnUrl=${encodeURI("/"+Kn.Login)}`)}redirectToProfile(){this.redirectToApiAuthorizationPath(Kn.IdentityManagePath)}navigateToReturnUrl(t){var r=this;return gr(function*(){yield r.router.navigateByUrl(t,{replaceUrl:!0})})()}getReturnUrl(t){const r=this.activatedRoute.snapshot.queryParams.returnUrl;if(r&&!r.startsWith(`${window.location.origin}/`)&&!/\/[^\/].*/.test(r))throw new Error("Invalid return url. The return url needs to have the same origin as the current page.");return t&&t.returnUrl||r||Kn.DefaultLoginRedirectPath}redirectToApiAuthorizationPath(t){const r=`${window.location.origin}/${t}`;window.location.replace(r)}}return e.\u0275fac=function(t){return new(t||e)(we(ml),we(Eo),we(ir))},e.\u0275cmp=Dn({type:e,selectors:[["app-login"]],decls:3,vars:3,template:function(t,r){1&t&&(Re(0,"p"),Ve(1),na(2,"async"),Te()),2&t&&(Ye(1),Zr(ra(2,1,r.message)))},dependencies:[fd]}),e})(),Zm=(()=>{class e{constructor(t,r,i){this.authorizeService=t,this.activatedRoute=r,this.router=i,this.message=new At(null)}ngOnInit(){var t=this;return gr(function*(){const r=t.activatedRoute.snapshot.url[1];switch(r.path){case"logout":window.history.state.local?yield t.logout(t.getReturnUrl()):t.message.next("The logout was not initiated from within the page.");break;case"logout-callback":yield t.processLogoutCallback();break;case"logged-out":t.message.next("You successfully logged out!");break;default:throw new Error(`Invalid action '${r}'`)}})()}logout(t){var r=this;return gr(function*(){const i={returnUrl:t};if(yield r.authorizeService.isAuthenticated().pipe(_o(1)).toPromise()){const s=yield r.authorizeService.signOut(i);switch(s.status){case Jn.Redirect:break;case Jn.Success:yield r.navigateToReturnUrl(t);break;case Jn.Fail:r.message.next(s.message);break;default:throw new Error("Invalid authentication result status.")}}else r.message.next("You successfully logged out!")})()}processLogoutCallback(){var t=this;return gr(function*(){const r=window.location.href,i=yield t.authorizeService.completeSignOut(r);switch(i.status){case Jn.Redirect:throw new Error("Should not redirect.");case Jn.Success:yield t.navigateToReturnUrl(t.getReturnUrl(i.state));break;case Jn.Fail:t.message.next(i.message);break;default:throw new Error("Invalid authentication result status.")}})()}navigateToReturnUrl(t){var r=this;return gr(function*(){yield r.router.navigateByUrl(t,{replaceUrl:!0})})()}getReturnUrl(t){const r=this.activatedRoute.snapshot.queryParams.returnUrl;if(r&&!r.startsWith(`${window.location.origin}/`)&&!/\/[^\/].*/.test(r))throw new Error("Invalid return url. The return url needs to have the same origin as the current page.");return t&&t.returnUrl||r||Kn.LoggedOut}}return e.\u0275fac=function(t){return new(t||e)(we(ml),we(Eo),we(ir))},e.\u0275cmp=Dn({type:e,selectors:[["app-logout"]],decls:3,vars:3,template:function(t,r){1&t&&(Re(0,"p"),Ve(1),na(2,"async"),Te()),2&t&&(Ye(1),Zr(ra(2,1,r.message)))},dependencies:[fd]}),e})(),YD=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=gt({imports:[Wi,GC,df.forChild([{path:Kn.Register,component:_l},{path:Kn.Profile,component:_l},{path:Kn.Login,component:_l},{path:Kn.LoginFailed,component:_l},{path:Kn.LoginCallback,component:_l},{path:Kn.LogOut,component:Zm},{path:Kn.LoggedOut,component:Zm},{path:Kn.LogOutCallback,component:Zm}])]}),e})(),DV=(()=>{class e{constructor(t){this.authorize=t}intercept(t,r){return this.authorize.getAccessToken().pipe(Jt(i=>this.processRequestWithToken(i,t,r)))}processRequestWithToken(t,r,i){return t&&this.isSameOriginUrl(r)&&(r=r.clone({setHeaders:{Authorization:`Bearer ${t}`}})),i.handle(r)}isSameOriginUrl(t){return!!(t.url.startsWith(`${window.location.origin}/`)||t.url.startsWith(`//${window.location.host}/`)||/^\/[^\/].*/.test(t.url))}}return e.\u0275fac=function(t){return new(t||e)(Fe(ml))},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),AV=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=gt({imports:[Wi]}),e})(),IV=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=gt({imports:[Wi,df,YD]}),e})(),TV=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=gt({imports:[Wi]}),e})();function MV(e,n){1&e&&(Re(0,"p")(1,"em"),Ve(2,"Loading..."),Te()())}function RV(e,n){if(1&e&&(Re(0,"tr")(1,"td"),Ve(2),Te(),Re(3,"td"),Ve(4),Te(),Re(5,"td"),Ve(6),Te(),Re(7,"td"),Ve(8),Te()()),2&e){const t=n.$implicit;Ye(2),Zr(t.date),Ye(2),Zr(t.temperatureC),Ye(2),Zr(t.temperatureF),Ye(2),Zr(t.summary)}}function xV(e,n){if(1&e&&(Re(0,"table",3)(1,"thead")(2,"tr")(3,"th"),Ve(4,"Date"),Te(),Re(5,"th"),Ve(6,"Temp. (C)"),Te(),Re(7,"th"),Ve(8,"Temp. (F)"),Te(),Re(9,"th"),Ve(10,"Summary"),Te()()(),Re(11,"tbody"),In(12,RV,9,4,"tr",4),Te()()),2&e){const t=fr();Ye(12),it("ngForOf",t.forecasts)}}const NV=[{path:"",component:(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Dn({type:e,selectors:[["app-home"]],decls:67,vars:0,consts:[["href","https://get.asp.net/"],["href","https://msdn.microsoft.com/en-us/library/67ef8sbd.aspx"],["href","https://angular.io/"],["href","http://www.typescriptlang.org/"],["href","http://getbootstrap.com/"]],template:function(t,r){1&t&&(Re(0,"h1"),Ve(1,"Hello, world!"),Te(),Re(2,"p"),Ve(3,"Welcome to your new single-page application, built with:"),Te(),Re(4,"ul")(5,"li")(6,"a",0),Ve(7,"ASP.NET Core"),Te(),Ve(8," and "),Re(9,"a",1),Ve(10,"C#"),Te(),Ve(11," for cross-platform server-side code"),Te(),Re(12,"li")(13,"a",2),Ve(14,"Angular"),Te(),Ve(15," and "),Re(16,"a",3),Ve(17,"TypeScript"),Te(),Ve(18," for client-side code"),Te(),Re(19,"li")(20,"a",4),Ve(21,"Bootstrap"),Te(),Ve(22," for layout and styling"),Te()(),Re(23,"p"),Ve(24,"To help you get started, we've also set up:"),Te(),Re(25,"ul")(26,"li")(27,"strong"),Ve(28,"Client-side navigation"),Te(),Ve(29,". For example, click "),Re(30,"em"),Ve(31,"Counter"),Te(),Ve(32," then "),Re(33,"em"),Ve(34,"Back"),Te(),Ve(35," to return here."),Te(),Re(36,"li")(37,"strong"),Ve(38,"Angular CLI integration"),Te(),Ve(39,". In development mode, there's no need to run "),Re(40,"code"),Ve(41,"ng serve"),Te(),Ve(42,". It runs in the background automatically, so your client-side resources are dynamically built on demand and the page refreshes when you modify any file."),Te(),Re(43,"li")(44,"strong"),Ve(45,"Efficient production builds"),Te(),Ve(46,". In production mode, development-time features are disabled, and your "),Re(47,"code"),Ve(48,"dotnet publish"),Te(),Ve(49," configuration automatically invokes "),Re(50,"code"),Ve(51,"ng build"),Te(),Ve(52," to produce minified, ahead-of-time compiled JavaScript files."),Te()(),Re(53,"p"),Ve(54,"The "),Re(55,"code"),Ve(56,"ClientApp"),Te(),Ve(57," subdirectory is a standard Angular CLI application. If you open a command prompt in that directory, you can run any "),Re(58,"code"),Ve(59,"ng"),Te(),Ve(60," command (e.g., "),Re(61,"code"),Ve(62,"ng test"),Te(),Ve(63,"), or use "),Re(64,"code"),Ve(65,"npm"),Te(),Ve(66," to install extra packages into it."),Te())},encapsulation:2}),e})()},{path:"counter",component:(()=>{class e{constructor(){this.currentCount=0}incrementCounter(){this.currentCount++}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=Dn({type:e,selectors:[["app-counter-component"]],decls:10,vars:1,consts:[["aria-live","polite"],[1,"btn","btn-primary",3,"click"]],template:function(t,r){1&t&&(Re(0,"h1"),Ve(1,"Counter"),Te(),Re(2,"p"),Ve(3,"This is a simple example of an Angular component."),Te(),Re(4,"p",0),Ve(5,"Current count: "),Re(6,"strong"),Ve(7),Te()(),Re(8,"button",1),xn("click",function(){return r.incrementCounter()}),Ve(9,"Increment"),Te()),2&t&&(Ye(7),Zr(r.currentCount))},encapsulation:2}),e})()},{path:"fetch-data",component:(()=>{class e{constructor(t,r){this.forecasts=[],t.get(r+"weatherforecast").subscribe(i=>{this.forecasts=i},i=>console.error(i))}}return e.\u0275fac=function(t){return new(t||e)(we(Zg),we("BASE_URL"))},e.\u0275cmp=Dn({type:e,selectors:[["app-fetch-data"]],decls:6,vars:2,consts:[["id","tableLabel"],[4,"ngIf"],["class","table table-striped","aria-labelledby","tableLabel",4,"ngIf"],["aria-labelledby","tableLabel",1,"table","table-striped"],[4,"ngFor","ngForOf"]],template:function(t,r){1&t&&(Re(0,"h1",0),Ve(1,"Weather forecast"),Te(),Re(2,"p"),Ve(3,"This component demonstrates fetching data from the server."),Te(),In(4,MV,3,0,"p",1),In(5,xV,13,1,"table",2)),2&t&&(Ye(4),it("ngIf",!(null!=r.forecasts&&r.forecasts.length)),Ye(1),it("ngIf",r.forecasts.length))},dependencies:[hg,dd],encapsulation:2}),e})(),canActivate:[(()=>{class e{constructor(t,r){this.authorize=t,this.router=r}canActivate(t,r){return this.authorize.isAuthenticated().pipe(On(i=>this.handleAuthorization(i,r)))}handleAuthorization(t,r){t||this.router.navigate(Kn.LoginPathComponents,{queryParams:{returnUrl:r.url}})}}return e.\u0275fac=function(t){return new(t||e)(Fe(ml),Fe(ir))},e.\u0275prov=Be({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]}];let OV=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=vn({type:e}),e.\u0275inj=gt({imports:[df.forRoot(NV),Wi,df]}),e})(),kV=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=vn({type:e,bootstrap:[CV]}),e.\u0275inj=gt({providers:[{provide:VC,useClass:DV,multi:!0},HD],imports:[vb.withServerTransition({appId:"ng-cli-universal"}),h4,GC,HL,YD,AV,IV,TV,OV,bV]}),e})();Ik([{provide:"BASE_URL",useFactory:function LV(){return document.getElementsByTagName("base")[0].href},deps:[]}]).bootstrapModule(kV).catch(e=>console.log(e))},414:function(Sa){Sa.exports=function(He){var k={};function Q(G){if(k[G])return k[G].exports;var b=k[G]={i:G,l:!1,exports:{}};return He[G].call(b.exports,b,b.exports,Q),b.l=!0,b.exports}return Q.m=He,Q.c=k,Q.d=function(G,b,q){Q.o(G,b)||Object.defineProperty(G,b,{enumerable:!0,get:q})},Q.r=function(G){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(G,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(G,"__esModule",{value:!0})},Q.t=function(G,b){if(1&b&&(G=Q(G)),8&b||4&b&&"object"==typeof G&&G&&G.__esModule)return G;var q=Object.create(null);if(Q.r(q),Object.defineProperty(q,"default",{enumerable:!0,value:G}),2&b&&"string"!=typeof G)for(var M in G)Q.d(q,M,function(w){return G[w]}.bind(null,M));return q},Q.n=function(G){var b=G&&G.__esModule?function(){return G.default}:function(){return G};return Q.d(b,"a",b),b},Q.o=function(G,b){return Object.prototype.hasOwnProperty.call(G,b)},Q.p="",Q(Q.s=22)}([function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var G=function(){function w(E,y){for(var T=0;T<y.length;T++){var j=y[T];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(E,j.key,j)}}return function(E,y,T){return y&&w(E.prototype,y),T&&w(E,T),E}}(),b={debug:function(){},info:function(){},warn:function(){},error:function(){}},q=void 0,M=void 0;(k.Log=function(){function w(){!function(y,T){if(!(y instanceof T))throw new TypeError("Cannot call a class as a function")}(this,w)}return w.reset=function(){M=3,q=b},w.debug=function(){if(M>=4){for(var y=arguments.length,T=Array(y),j=0;j<y;j++)T[j]=arguments[j];q.debug.apply(q,Array.from(T))}},w.info=function(){if(M>=3){for(var y=arguments.length,T=Array(y),j=0;j<y;j++)T[j]=arguments[j];q.info.apply(q,Array.from(T))}},w.warn=function(){if(M>=2){for(var y=arguments.length,T=Array(y),j=0;j<y;j++)T[j]=arguments[j];q.warn.apply(q,Array.from(T))}},w.error=function(){if(M>=1){for(var y=arguments.length,T=Array(y),j=0;j<y;j++)T[j]=arguments[j];q.error.apply(q,Array.from(T))}},G(w,null,[{key:"NONE",get:function(){return 0}},{key:"ERROR",get:function(){return 1}},{key:"WARN",get:function(){return 2}},{key:"INFO",get:function(){return 3}},{key:"DEBUG",get:function(){return 4}},{key:"level",get:function(){return M},set:function(y){if(!(0<=y&&y<=4))throw new Error("Invalid log level");M=y}},{key:"logger",get:function(){return q},set:function(y){if(!y.debug&&y.info&&(y.debug=y.info),!(y.debug&&y.info&&y.warn&&y.error))throw new Error("Invalid logger");q=y}}]),w}()).reset()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var G=function(){function w(E,y){for(var T=0;T<y.length;T++){var j=y[T];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(E,j.key,j)}}return function(E,y,T){return y&&w(E.prototype,y),T&&w(E,T),E}}(),b={setInterval:function(w){function E(y,T){return w.apply(this,arguments)}return E.toString=function(){return w.toString()},E}(function(w,E){return setInterval(w,E)}),clearInterval:function(w){function E(y){return w.apply(this,arguments)}return E.toString=function(){return w.toString()},E}(function(w){return clearInterval(w)})},q=!1,M=null;k.Global=function(){function w(){!function(y,T){if(!(y instanceof T))throw new TypeError("Cannot call a class as a function")}(this,w)}return w._testing=function(){q=!0},w.setXMLHttpRequest=function(y){M=y},G(w,null,[{key:"location",get:function(){if(!q)return location}},{key:"localStorage",get:function(){if(!q&&typeof window<"u")return localStorage}},{key:"sessionStorage",get:function(){if(!q&&typeof window<"u")return sessionStorage}},{key:"XMLHttpRequest",get:function(){if(!q&&typeof window<"u")return M||XMLHttpRequest}},{key:"timer",get:function(){if(!q)return b}}]),w}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.MetadataService=void 0;var G=function(){function E(y,T){for(var j=0;j<T.length;j++){var V=T[j];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(y,V.key,V)}}return function(y,T,j){return T&&E(y.prototype,T),j&&E(y,j),y}}(),b=Q(0),q=Q(7);var w=".well-known/openid-configuration";k.MetadataService=function(){function E(y){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.JsonService;if(function M(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}(this,E),!y)throw b.Log.error("MetadataService: No settings passed to MetadataService"),new Error("settings");this._settings=y,this._jsonService=new T(["application/jwk-set+json"])}return E.prototype.resetSigningKeys=function(){this._settings=this._settings||{},this._settings.signingKeys=void 0},E.prototype.getMetadata=function(){var T=this;return this._settings.metadata?(b.Log.debug("MetadataService.getMetadata: Returning metadata from settings"),Promise.resolve(this._settings.metadata)):this.metadataUrl?(b.Log.debug("MetadataService.getMetadata: getting metadata from",this.metadataUrl),this._jsonService.getJson(this.metadataUrl).then(function(j){return b.Log.debug("MetadataService.getMetadata: json received"),T._settings.metadata=Object.assign({},T._settings.metadataSeed||{},j),T._settings.metadata})):(b.Log.error("MetadataService.getMetadata: No authority or metadataUrl configured on settings"),Promise.reject(new Error("No authority or metadataUrl configured on settings")))},E.prototype.getIssuer=function(){return this._getMetadataProperty("issuer")},E.prototype.getAuthorizationEndpoint=function(){return this._getMetadataProperty("authorization_endpoint")},E.prototype.getUserInfoEndpoint=function(){return this._getMetadataProperty("userinfo_endpoint")},E.prototype.getTokenEndpoint=function(){return this._getMetadataProperty("token_endpoint",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])},E.prototype.getCheckSessionIframe=function(){return this._getMetadataProperty("check_session_iframe",!0)},E.prototype.getEndSessionEndpoint=function(){return this._getMetadataProperty("end_session_endpoint",!0)},E.prototype.getRevocationEndpoint=function(){return this._getMetadataProperty("revocation_endpoint",!0)},E.prototype.getKeysEndpoint=function(){return this._getMetadataProperty("jwks_uri",!0)},E.prototype._getMetadataProperty=function(T){var j=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return b.Log.debug("MetadataService.getMetadataProperty for: "+T),this.getMetadata().then(function(V){if(b.Log.debug("MetadataService.getMetadataProperty: metadata recieved"),void 0===V[T]){if(!0===j)return void b.Log.warn("MetadataService.getMetadataProperty: Metadata does not contain optional property "+T);throw b.Log.error("MetadataService.getMetadataProperty: Metadata does not contain property "+T),new Error("Metadata does not contain property "+T)}return V[T]})},E.prototype.getSigningKeys=function(){var T=this;return this._settings.signingKeys?(b.Log.debug("MetadataService.getSigningKeys: Returning signingKeys from settings"),Promise.resolve(this._settings.signingKeys)):this._getMetadataProperty("jwks_uri").then(function(j){return b.Log.debug("MetadataService.getSigningKeys: jwks_uri received",j),T._jsonService.getJson(j).then(function(V){if(b.Log.debug("MetadataService.getSigningKeys: key set received",V),!V.keys)throw b.Log.error("MetadataService.getSigningKeys: Missing keys on keyset"),new Error("Missing keys on keyset");return T._settings.signingKeys=V.keys,T._settings.signingKeys})})},G(E,[{key:"metadataUrl",get:function(){return this._metadataUrl||(this._settings.metadataUrl?this._metadataUrl=this._settings.metadataUrl:(this._metadataUrl=this._settings.authority,this._metadataUrl&&this._metadataUrl.indexOf(w)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=w))),this._metadataUrl}}]),E}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.UrlUtility=void 0;var G=Q(0),b=Q(1);k.UrlUtility=function(){function q(){!function(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}(this,q)}return q.addQueryParam=function(w,E,y){return w.indexOf("?")<0&&(w+="?"),"?"!==w[w.length-1]&&(w+="&"),w+=encodeURIComponent(E),(w+="=")+encodeURIComponent(y)},q.parseUrlFragment=function(w){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";"string"!=typeof w&&(w=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.Global).location.href);var T=w.lastIndexOf(E);T>=0&&(w=w.substr(T+1)),"?"===E&&(T=w.indexOf("#"))>=0&&(w=w.substr(0,T));for(var j,V={},ie=/([^&=]+)=([^&]*)/g,$=0;j=ie.exec(w);)if(V[decodeURIComponent(j[1])]=decodeURIComponent(j[2].replace(/\+/g," ")),$++>50)return G.Log.error("UrlUtility.parseUrlFragment: response exceeded expected number of parameters",w),{error:"Response exceeded expected number of parameters"};for(var H in V)return V;return{}},q}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.JoseUtil=void 0;var M,G=Q(26),b=(M=Q(33))&&M.__esModule?M:{default:M};k.JoseUtil=(0,b.default)({jws:G.jws,KeyUtil:G.KeyUtil,X509:G.X509,crypto:G.crypto,hextob64u:G.hextob64u,b64tohex:G.b64tohex,AllowedSigningAlgs:G.AllowedSigningAlgs})},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.OidcClientSettings=void 0;var G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(H){return typeof H}:function(H){return H&&"function"==typeof Symbol&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},b=function(){function H(B,ee){for(var de=0;de<ee.length;de++){var ne=ee[de];ne.enumerable=ne.enumerable||!1,ne.configurable=!0,"value"in ne&&(ne.writable=!0),Object.defineProperty(B,ne.key,ne)}}return function(B,ee,de){return ee&&H(B.prototype,ee),de&&H(B,de),B}}(),q=Q(0),M=Q(23),w=Q(6),E=Q(24),y=Q(2);var j=".well-known/openid-configuration";k.OidcClientSettings=function(){function H(){var B=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ee=B.authority,de=B.metadataUrl,ne=B.metadata,se=B.signingKeys,te=B.metadataSeed,be=B.client_id,Ce=B.client_secret,Pe=B.response_type,re=void 0===Pe?"id_token":Pe,Ue=B.scope,Tt=void 0===Ue?"openid":Ue,Dt=B.redirect_uri,Sn=B.post_logout_redirect_uri,Pt=B.client_authentication,tn=void 0===Pt?"client_secret_post":Pt,nn=B.prompt,ot=B.display,qe=B.max_age,kt=B.ui_locales,kn=B.acr_values,Pn=B.resource,Ln=B.response_mode,Lt=B.filterProtocolClaims,Fr=void 0===Lt||Lt,At=B.loadUserInfo,fn=void 0===At||At,ht=B.staleStateAge,ct=void 0===ht?900:ht,Z=B.clockSkew,_=void 0===Z?300:Z,S=B.clockService,Y=void 0===S?new M.ClockService:S,oe=B.userInfoJwtIssuer,le=void 0===oe?"OP":oe,ye=B.mergeClaims,Oe=void 0!==ye&&ye,Qe=B.stateStore,yt=void 0===Qe?new w.WebStorageStateStore:Qe,ut=B.ResponseValidatorCtor,Kt=void 0===ut?E.ResponseValidator:ut,bn=B.MetadataServiceCtor,Fn=void 0===bn?y.MetadataService:bn,yr=B.extraQueryParams,$e=void 0===yr?{}:yr,Ut=B.extraTokenParams,st=void 0===Ut?{}:Ut;(function T(H,B){if(!(H instanceof B))throw new TypeError("Cannot call a class as a function")})(this,H),this._authority=ee,this._metadataUrl=de,this._metadata=ne,this._metadataSeed=te,this._signingKeys=se,this._client_id=be,this._client_secret=Ce,this._response_type=re,this._scope=Tt,this._redirect_uri=Dt,this._post_logout_redirect_uri=Sn,this._client_authentication=tn,this._prompt=nn,this._display=ot,this._max_age=qe,this._ui_locales=kt,this._acr_values=kn,this._resource=Pn,this._response_mode=Ln,this._filterProtocolClaims=!!Fr,this._loadUserInfo=!!fn,this._staleStateAge=ct,this._clockSkew=_,this._clockService=Y,this._userInfoJwtIssuer=le,this._mergeClaims=!!Oe,this._stateStore=yt,this._validator=new Kt(this),this._metadataService=new Fn(this),this._extraQueryParams="object"===(void 0===$e?"undefined":G($e))?$e:{},this._extraTokenParams="object"===(void 0===st?"undefined":G(st))?st:{}}return H.prototype.getEpochTime=function(){return this._clockService.getEpochTime()},b(H,[{key:"client_id",get:function(){return this._client_id},set:function(ee){if(this._client_id)throw q.Log.error("OidcClientSettings.set_client_id: client_id has already been assigned."),new Error("client_id has already been assigned.");this._client_id=ee}},{key:"client_secret",get:function(){return this._client_secret}},{key:"response_type",get:function(){return this._response_type}},{key:"scope",get:function(){return this._scope}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"post_logout_redirect_uri",get:function(){return this._post_logout_redirect_uri}},{key:"client_authentication",get:function(){return this._client_authentication}},{key:"prompt",get:function(){return this._prompt}},{key:"display",get:function(){return this._display}},{key:"max_age",get:function(){return this._max_age}},{key:"ui_locales",get:function(){return this._ui_locales}},{key:"acr_values",get:function(){return this._acr_values}},{key:"resource",get:function(){return this._resource}},{key:"response_mode",get:function(){return this._response_mode}},{key:"authority",get:function(){return this._authority},set:function(ee){if(this._authority)throw q.Log.error("OidcClientSettings.set_authority: authority has already been assigned."),new Error("authority has already been assigned.");this._authority=ee}},{key:"metadataUrl",get:function(){return this._metadataUrl||(this._metadataUrl=this.authority,this._metadataUrl&&this._metadataUrl.indexOf(j)<0&&("/"!==this._metadataUrl[this._metadataUrl.length-1]&&(this._metadataUrl+="/"),this._metadataUrl+=j)),this._metadataUrl}},{key:"metadata",get:function(){return this._metadata},set:function(ee){this._metadata=ee}},{key:"metadataSeed",get:function(){return this._metadataSeed},set:function(ee){this._metadataSeed=ee}},{key:"signingKeys",get:function(){return this._signingKeys},set:function(ee){this._signingKeys=ee}},{key:"filterProtocolClaims",get:function(){return this._filterProtocolClaims}},{key:"loadUserInfo",get:function(){return this._loadUserInfo}},{key:"staleStateAge",get:function(){return this._staleStateAge}},{key:"clockSkew",get:function(){return this._clockSkew}},{key:"userInfoJwtIssuer",get:function(){return this._userInfoJwtIssuer}},{key:"mergeClaims",get:function(){return this._mergeClaims}},{key:"stateStore",get:function(){return this._stateStore}},{key:"validator",get:function(){return this._validator}},{key:"metadataService",get:function(){return this._metadataService}},{key:"extraQueryParams",get:function(){return this._extraQueryParams},set:function(ee){this._extraQueryParams="object"===(void 0===ee?"undefined":G(ee))?ee:{}}},{key:"extraTokenParams",get:function(){return this._extraTokenParams},set:function(ee){this._extraTokenParams="object"===(void 0===ee?"undefined":G(ee))?ee:{}}}]),H}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.WebStorageStateStore=void 0;var G=Q(0),b=Q(1);k.WebStorageStateStore=function(){function M(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=w.prefix,y=void 0===E?"oidc.":E,T=w.store,j=void 0===T?b.Global.localStorage:T;(function q(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")})(this,M),this._store=j,this._prefix=y}return M.prototype.set=function(E,y){return G.Log.debug("WebStorageStateStore.set",E),this._store.setItem(E=this._prefix+E,y),Promise.resolve()},M.prototype.get=function(E){G.Log.debug("WebStorageStateStore.get",E);var y=this._store.getItem(E=this._prefix+E);return Promise.resolve(y)},M.prototype.remove=function(E){G.Log.debug("WebStorageStateStore.remove",E);var y=this._store.getItem(E=this._prefix+E);return this._store.removeItem(E),Promise.resolve(y)},M.prototype.getAllKeys=function(){G.Log.debug("WebStorageStateStore.getAllKeys");for(var E=[],y=0;y<this._store.length;y++){var T=this._store.key(y);0===T.indexOf(this._prefix)&&E.push(T.substr(this._prefix.length))}return Promise.resolve(E)},M}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.JsonService=void 0;var G=Q(0),b=Q(1);k.JsonService=function(){function M(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:b.Global.XMLHttpRequest,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;(function q(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")})(this,M),this._contentTypes=w&&Array.isArray(w)?w.slice():[],this._contentTypes.push("application/json"),y&&this._contentTypes.push("application/jwt"),this._XMLHttpRequest=E,this._jwtHandler=y}return M.prototype.getJson=function(E,y){var T=this;if(!E)throw G.Log.error("JsonService.getJson: No url passed"),new Error("url");return G.Log.debug("JsonService.getJson, url: ",E),new Promise(function(j,V){var ie=new T._XMLHttpRequest;ie.open("GET",E);var $=T._contentTypes,H=T._jwtHandler;ie.onload=function(){if(G.Log.debug("JsonService.getJson: HTTP response received, status",ie.status),200===ie.status){var B=ie.getResponseHeader("Content-Type");if(B){var ee=$.find(function(de){if(B.startsWith(de))return!0});if("application/jwt"==ee)return void H(ie).then(j,V);if(ee)try{return void j(JSON.parse(ie.responseText))}catch(de){return G.Log.error("JsonService.getJson: Error parsing JSON response",de.message),void V(de)}}V(Error("Invalid response Content-Type: "+B+", from URL: "+E))}else V(Error(ie.statusText+" ("+ie.status+")"))},ie.onerror=function(){G.Log.error("JsonService.getJson: network error"),V(Error("Network Error"))},y&&(G.Log.debug("JsonService.getJson: token passed, setting Authorization header"),ie.setRequestHeader("Authorization","Bearer "+y)),ie.send()})},M.prototype.postForm=function(E,y,T){var j=this;if(!E)throw G.Log.error("JsonService.postForm: No url passed"),new Error("url");return G.Log.debug("JsonService.postForm, url: ",E),new Promise(function(V,ie){var $=new j._XMLHttpRequest;$.open("POST",E);var H=j._contentTypes;$.onload=function(){if(G.Log.debug("JsonService.postForm: HTTP response received, status",$.status),200!==$.status){if(400===$.status&&(se=$.getResponseHeader("Content-Type"))&&H.find(function(te){if(se.startsWith(te))return!0}))try{var ne=JSON.parse($.responseText);if(ne&&ne.error)return G.Log.error("JsonService.postForm: Error from server: ",ne.error),void ie(new Error(ne.error))}catch(te){return G.Log.error("JsonService.postForm: Error parsing JSON response",te.message),void ie(te)}ie(Error($.statusText+" ("+$.status+")"))}else{var se;if((se=$.getResponseHeader("Content-Type"))&&H.find(function(te){if(se.startsWith(te))return!0}))try{return void V(JSON.parse($.responseText))}catch(te){return G.Log.error("JsonService.postForm: Error parsing JSON response",te.message),void ie(te)}ie(Error("Invalid response Content-Type: "+se+", from URL: "+E))}},$.onerror=function(){G.Log.error("JsonService.postForm: network error"),ie(Error("Network Error"))};var B="";for(var ee in y){var de=y[ee];de&&(B.length>0&&(B+="&"),B+=encodeURIComponent(ee),B+="=",B+=encodeURIComponent(de))}$.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),void 0!==T&&$.setRequestHeader("Authorization","Basic "+btoa(T)),$.send(B)})},M}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.SigninRequest=void 0;var G=Q(0),b=Q(3),q=Q(13);k.SigninRequest=function(){function M(w){var E=w.url,y=w.client_id,T=w.redirect_uri,j=w.response_type,V=w.scope,ie=w.authority,$=w.data,H=w.prompt,B=w.display,ee=w.max_age,de=w.ui_locales,ne=w.id_token_hint,se=w.login_hint,te=w.acr_values,be=w.resource,Ce=w.response_mode,Pe=w.request,re=w.request_uri,Ue=w.extraQueryParams,Tt=w.request_type,Dt=w.client_secret,Sn=w.extraTokenParams,Pt=w.skipUserInfo;if(function(Pn,Ln){if(!(Pn instanceof Ln))throw new TypeError("Cannot call a class as a function")}(this,M),!E)throw G.Log.error("SigninRequest.ctor: No url passed"),new Error("url");if(!y)throw G.Log.error("SigninRequest.ctor: No client_id passed"),new Error("client_id");if(!T)throw G.Log.error("SigninRequest.ctor: No redirect_uri passed"),new Error("redirect_uri");if(!j)throw G.Log.error("SigninRequest.ctor: No response_type passed"),new Error("response_type");if(!V)throw G.Log.error("SigninRequest.ctor: No scope passed"),new Error("scope");if(!ie)throw G.Log.error("SigninRequest.ctor: No authority passed"),new Error("authority");var tn=M.isOidc(j),nn=M.isCode(j);Ce||(Ce=M.isCode(j)?"query":null),this.state=new q.SigninState({nonce:tn,data:$,client_id:y,authority:ie,redirect_uri:T,code_verifier:nn,request_type:Tt,response_mode:Ce,client_secret:Dt,scope:V,extraTokenParams:Sn,skipUserInfo:Pt}),E=b.UrlUtility.addQueryParam(E,"client_id",y),E=b.UrlUtility.addQueryParam(E,"redirect_uri",T),E=b.UrlUtility.addQueryParam(E,"response_type",j),E=b.UrlUtility.addQueryParam(E,"scope",V),E=b.UrlUtility.addQueryParam(E,"state",this.state.id),tn&&(E=b.UrlUtility.addQueryParam(E,"nonce",this.state.nonce)),nn&&(E=b.UrlUtility.addQueryParam(E,"code_challenge",this.state.code_challenge),E=b.UrlUtility.addQueryParam(E,"code_challenge_method","S256"));var ot={prompt:H,display:B,max_age:ee,ui_locales:de,id_token_hint:ne,login_hint:se,acr_values:te,resource:be,request:Pe,request_uri:re,response_mode:Ce};for(var qe in ot)ot[qe]&&(E=b.UrlUtility.addQueryParam(E,qe,ot[qe]));for(var kt in Ue)E=b.UrlUtility.addQueryParam(E,kt,Ue[kt]);this.url=E}return M.isOidc=function(E){return!!E.split(/\s+/g).filter(function(y){return"id_token"===y})[0]},M.isOAuth=function(E){return!!E.split(/\s+/g).filter(function(y){return"token"===y})[0]},M.isCode=function(E){return!!E.split(/\s+/g).filter(function(y){return"code"===y})[0]},M}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.State=void 0;var E,G=function(){function w(E,y){for(var T=0;T<y.length;T++){var j=y[T];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(E,j.key,j)}}return function(E,y,T){return y&&w(E.prototype,y),T&&w(E,T),E}}(),b=Q(0),q=(E=Q(14))&&E.__esModule?E:{default:E};k.State=function(){function w(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=E.id,T=E.data,j=E.created,V=E.request_type;(function M(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")})(this,w),this._id=y||(0,q.default)(),this._data=T,this._created="number"==typeof j&&j>0?j:parseInt(Date.now()/1e3),this._request_type=V}return w.prototype.toStorageString=function(){return b.Log.debug("State.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type})},w.fromStorageString=function(y){return b.Log.debug("State.fromStorageString"),new w(JSON.parse(y))},w.clearStaleState=function(y,T){var j=Date.now()/1e3-T;return y.getAllKeys().then(function(V){b.Log.debug("State.clearStaleState: got keys",V);for(var ie=[],$=function(de){var ne=V[de];B=y.get(ne).then(function(se){var te=!1;if(se)try{var be=w.fromStorageString(se);b.Log.debug("State.clearStaleState: got item from key: ",ne,be.created),be.created<=j&&(te=!0)}catch(Ce){b.Log.error("State.clearStaleState: Error parsing state for key",ne,Ce.message),te=!0}else b.Log.debug("State.clearStaleState: no item in storage for key: ",ne),te=!0;if(te)return b.Log.debug("State.clearStaleState: removed item for key: ",ne),y.remove(ne)}),ie.push(B)},H=0;H<V.length;H++){var B;$(H)}return b.Log.debug("State.clearStaleState: waiting on promise count:",ie.length),Promise.all(ie)})},G(w,[{key:"id",get:function(){return this._id}},{key:"data",get:function(){return this._data}},{key:"created",get:function(){return this._created}},{key:"request_type",get:function(){return this._request_type}}]),w}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.OidcClient=void 0;var G=function(){function $(H,B){for(var ee=0;ee<B.length;ee++){var de=B[ee];de.enumerable=de.enumerable||!1,de.configurable=!0,"value"in de&&(de.writable=!0),Object.defineProperty(H,de.key,de)}}return function(H,B,ee){return B&&$(H.prototype,B),ee&&$(H,ee),H}}(),b=Q(0),q=Q(5),M=Q(12),w=Q(8),E=Q(34),y=Q(35),T=Q(36),j=Q(13),V=Q(9);k.OidcClient=function(){function $(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(function ie($,H){if(!($ instanceof H))throw new TypeError("Cannot call a class as a function")})(this,$),this._settings=H instanceof q.OidcClientSettings?H:new q.OidcClientSettings(H)}return $.prototype.createSigninRequest=function(){var B=this,ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},de=ee.response_type,ne=ee.scope,se=ee.redirect_uri,te=ee.data,be=ee.state,Ce=ee.prompt,Pe=ee.display,re=ee.max_age,Ue=ee.ui_locales,Tt=ee.id_token_hint,Dt=ee.login_hint,Sn=ee.acr_values,Pt=ee.resource,tn=ee.request,nn=ee.request_uri,ot=ee.response_mode,qe=ee.extraQueryParams,kt=ee.extraTokenParams,kn=ee.request_type,Pn=ee.skipUserInfo,Ln=arguments[1];b.Log.debug("OidcClient.createSigninRequest");var Lt=this._settings.client_id;ne=ne||this._settings.scope,se=se||this._settings.redirect_uri,Ce=Ce||this._settings.prompt,Pe=Pe||this._settings.display,re=re||this._settings.max_age,Ue=Ue||this._settings.ui_locales,Sn=Sn||this._settings.acr_values,Pt=Pt||this._settings.resource,ot=ot||this._settings.response_mode,qe=qe||this._settings.extraQueryParams,kt=kt||this._settings.extraTokenParams;var Fr=this._settings.authority;return w.SigninRequest.isCode(de=de||this._settings.response_type)&&"code"!==de?Promise.reject(new Error("OpenID Connect hybrid flow is not supported")):this._metadataService.getAuthorizationEndpoint().then(function(At){b.Log.debug("OidcClient.createSigninRequest: Received authorization endpoint",At);var fn=new w.SigninRequest({url:At,client_id:Lt,redirect_uri:se,response_type:de,scope:ne,data:te||be,authority:Fr,prompt:Ce,display:Pe,max_age:re,ui_locales:Ue,id_token_hint:Tt,login_hint:Dt,acr_values:Sn,resource:Pt,request:tn,request_uri:nn,extraQueryParams:qe,extraTokenParams:kt,request_type:kn,response_mode:ot,client_secret:B._settings.client_secret,skipUserInfo:Pn}),ht=fn.state;return(Ln=Ln||B._stateStore).set(ht.id,ht.toStorageString()).then(function(){return fn})})},$.prototype.readSigninResponseState=function(B,ee){var de=arguments.length>2&&void 0!==arguments[2]&&arguments[2];b.Log.debug("OidcClient.readSigninResponseState");var ne="query"===this._settings.response_mode||!this._settings.response_mode&&w.SigninRequest.isCode(this._settings.response_type),te=new E.SigninResponse(B,ne?"?":"#");return te.state?(ee=ee||this._stateStore,(de?ee.remove.bind(ee):ee.get.bind(ee))(te.state).then(function(Ce){if(!Ce)throw b.Log.error("OidcClient.readSigninResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:j.SigninState.fromStorageString(Ce),response:te}})):(b.Log.error("OidcClient.readSigninResponseState: No state in response"),Promise.reject(new Error("No state in response")))},$.prototype.processSigninResponse=function(B,ee){var de=this;return b.Log.debug("OidcClient.processSigninResponse"),this.readSigninResponseState(B,ee,!0).then(function(ne){var se=ne.state,te=ne.response;return b.Log.debug("OidcClient.processSigninResponse: Received state from storage; validating response"),de._validator.validateSigninResponse(se,te)})},$.prototype.createSignoutRequest=function(){var B=this,ee=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},de=ee.id_token_hint,ne=ee.data,se=ee.state,te=ee.post_logout_redirect_uri,be=ee.extraQueryParams,Ce=ee.request_type,Pe=arguments[1];return b.Log.debug("OidcClient.createSignoutRequest"),te=te||this._settings.post_logout_redirect_uri,be=be||this._settings.extraQueryParams,this._metadataService.getEndSessionEndpoint().then(function(re){if(!re)throw b.Log.error("OidcClient.createSignoutRequest: No end session endpoint url returned"),new Error("no end session endpoint");b.Log.debug("OidcClient.createSignoutRequest: Received end session endpoint",re);var Ue=new y.SignoutRequest({url:re,id_token_hint:de,post_logout_redirect_uri:te,data:ne||se,extraQueryParams:be,request_type:Ce}),Tt=Ue.state;return Tt&&(b.Log.debug("OidcClient.createSignoutRequest: Signout request has state to persist"),(Pe=Pe||B._stateStore).set(Tt.id,Tt.toStorageString())),Ue})},$.prototype.readSignoutResponseState=function(B,ee){var de=arguments.length>2&&void 0!==arguments[2]&&arguments[2];b.Log.debug("OidcClient.readSignoutResponseState");var ne=new T.SignoutResponse(B);if(!ne.state)return b.Log.debug("OidcClient.readSignoutResponseState: No state in response"),ne.error?(b.Log.warn("OidcClient.readSignoutResponseState: Response was error: ",ne.error),Promise.reject(new M.ErrorResponse(ne))):Promise.resolve({state:void 0,response:ne});var se=ne.state;return ee=ee||this._stateStore,(de?ee.remove.bind(ee):ee.get.bind(ee))(se).then(function(be){if(!be)throw b.Log.error("OidcClient.readSignoutResponseState: No matching state found in storage"),new Error("No matching state found in storage");return{state:V.State.fromStorageString(be),response:ne}})},$.prototype.processSignoutResponse=function(B,ee){var de=this;return b.Log.debug("OidcClient.processSignoutResponse"),this.readSignoutResponseState(B,ee,!0).then(function(ne){var se=ne.state,te=ne.response;return se?(b.Log.debug("OidcClient.processSignoutResponse: Received state from storage; validating response"),de._validator.validateSignoutResponse(se,te)):(b.Log.debug("OidcClient.processSignoutResponse: No state from storage; skipping validating response"),te)})},$.prototype.clearStaleState=function(B){return b.Log.debug("OidcClient.clearStaleState"),V.State.clearStaleState(B=B||this._stateStore,this.settings.staleStateAge)},G($,[{key:"_stateStore",get:function(){return this.settings.stateStore}},{key:"_validator",get:function(){return this.settings.validator}},{key:"_metadataService",get:function(){return this.settings.metadataService}},{key:"settings",get:function(){return this._settings}},{key:"metadataService",get:function(){return this._metadataService}}]),$}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.TokenClient=void 0;var G=Q(7),b=Q(2),q=Q(0);k.TokenClient=function(){function w(E){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.JsonService,T=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.MetadataService;if(function M(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}(this,w),!E)throw q.Log.error("TokenClient.ctor: No settings passed"),new Error("settings");this._settings=E,this._jsonService=new y,this._metadataService=new T(this._settings)}return w.prototype.exchangeCode=function(){var y=this,T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(T=Object.assign({},T)).grant_type=T.grant_type||"authorization_code",T.client_id=T.client_id||this._settings.client_id,T.client_secret=T.client_secret||this._settings.client_secret,T.redirect_uri=T.redirect_uri||this._settings.redirect_uri;var j=void 0,V=T._client_authentication||this._settings._client_authentication;return delete T._client_authentication,T.code?T.redirect_uri?T.code_verifier?T.client_id?T.client_secret||"client_secret_basic"!=V?("client_secret_basic"==V&&(j=T.client_id+":"+T.client_secret,delete T.client_id,delete T.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(ie){return q.Log.debug("TokenClient.exchangeCode: Received token endpoint"),y._jsonService.postForm(ie,T,j).then(function($){return q.Log.debug("TokenClient.exchangeCode: response received"),$})})):(q.Log.error("TokenClient.exchangeCode: No client_secret passed"),Promise.reject(new Error("A client_secret is required"))):(q.Log.error("TokenClient.exchangeCode: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(q.Log.error("TokenClient.exchangeCode: No code_verifier passed"),Promise.reject(new Error("A code_verifier is required"))):(q.Log.error("TokenClient.exchangeCode: No redirect_uri passed"),Promise.reject(new Error("A redirect_uri is required"))):(q.Log.error("TokenClient.exchangeCode: No code passed"),Promise.reject(new Error("A code is required")))},w.prototype.exchangeRefreshToken=function(){var y=this,T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(T=Object.assign({},T)).grant_type=T.grant_type||"refresh_token",T.client_id=T.client_id||this._settings.client_id,T.client_secret=T.client_secret||this._settings.client_secret;var j=void 0,V=T._client_authentication||this._settings._client_authentication;return delete T._client_authentication,T.refresh_token?T.client_id?("client_secret_basic"==V&&(j=T.client_id+":"+T.client_secret,delete T.client_id,delete T.client_secret),this._metadataService.getTokenEndpoint(!1).then(function(ie){return q.Log.debug("TokenClient.exchangeRefreshToken: Received token endpoint"),y._jsonService.postForm(ie,T,j).then(function($){return q.Log.debug("TokenClient.exchangeRefreshToken: response received"),$})})):(q.Log.error("TokenClient.exchangeRefreshToken: No client_id passed"),Promise.reject(new Error("A client_id is required"))):(q.Log.error("TokenClient.exchangeRefreshToken: No refresh_token passed"),Promise.reject(new Error("A refresh_token is required")))},w}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.ErrorResponse=void 0;var G=Q(0);k.ErrorResponse=function(M){function w(){var E=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},y=E.error,T=E.error_description,j=E.error_uri,V=E.state,ie=E.session_state;if(function b(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")}(this,w),!y)throw G.Log.error("No error passed to ErrorResponse"),new Error("error");var $=function q(M,w){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||"object"!=typeof w&&"function"!=typeof w?M:w}(this,M.call(this,T||y));return $.name="ErrorResponse",$.error=y,$.error_description=T,$.error_uri=j,$.state=V,$.session_state=ie,$}return function(y,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(y,T):y.__proto__=T)}(w,M),w}(Error)},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.SigninState=void 0;var j,G=function(){function T(j,V){for(var ie=0;ie<V.length;ie++){var $=V[ie];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(j,$.key,$)}}return function(j,V,ie){return V&&T(j.prototype,V),ie&&T(j,ie),j}}(),b=Q(0),q=Q(9),M=Q(4),w=(j=Q(14))&&j.__esModule?j:{default:j};k.SigninState=function(T){function j(){var V=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},ie=V.nonce,$=V.authority,H=V.client_id,B=V.redirect_uri,ee=V.code_verifier,de=V.response_mode,ne=V.client_secret,se=V.scope,te=V.extraTokenParams,be=V.skipUserInfo;!function E(T,j){if(!(T instanceof j))throw new TypeError("Cannot call a class as a function")}(this,j);var Ce=function y(T,j){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!j||"object"!=typeof j&&"function"!=typeof j?T:j}(this,T.call(this,arguments[0]));if(!0===ie?Ce._nonce=(0,w.default)():ie&&(Ce._nonce=ie),!0===ee?Ce._code_verifier=(0,w.default)()+(0,w.default)()+(0,w.default)():ee&&(Ce._code_verifier=ee),Ce.code_verifier){var Pe=M.JoseUtil.hashString(Ce.code_verifier,"SHA256");Ce._code_challenge=M.JoseUtil.hexToBase64Url(Pe)}return Ce._redirect_uri=B,Ce._authority=$,Ce._client_id=H,Ce._response_mode=de,Ce._client_secret=ne,Ce._scope=se,Ce._extraTokenParams=te,Ce._skipUserInfo=be,Ce}return function(ie,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function, not "+typeof $);ie.prototype=Object.create($&&$.prototype,{constructor:{value:ie,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(ie,$):ie.__proto__=$)}(j,T),j.prototype.toStorageString=function(){return b.Log.debug("SigninState.toStorageString"),JSON.stringify({id:this.id,data:this.data,created:this.created,request_type:this.request_type,nonce:this.nonce,code_verifier:this.code_verifier,redirect_uri:this.redirect_uri,authority:this.authority,client_id:this.client_id,response_mode:this.response_mode,client_secret:this.client_secret,scope:this.scope,extraTokenParams:this.extraTokenParams,skipUserInfo:this.skipUserInfo})},j.fromStorageString=function(ie){return b.Log.debug("SigninState.fromStorageString"),new j(JSON.parse(ie))},G(j,[{key:"nonce",get:function(){return this._nonce}},{key:"authority",get:function(){return this._authority}},{key:"client_id",get:function(){return this._client_id}},{key:"redirect_uri",get:function(){return this._redirect_uri}},{key:"code_verifier",get:function(){return this._code_verifier}},{key:"code_challenge",get:function(){return this._code_challenge}},{key:"response_mode",get:function(){return this._response_mode}},{key:"client_secret",get:function(){return this._client_secret}},{key:"scope",get:function(){return this._scope}},{key:"extraTokenParams",get:function(){return this._extraTokenParams}},{key:"skipUserInfo",get:function(){return this._skipUserInfo}}]),j}(q.State)},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(){return("undefined"!=G&&null!==G&&void 0!==G.getRandomValues?b:q)().replace(/-/g,"")};var G=typeof window<"u"?window.crypto||window.msCrypto:null;function b(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(M){return(M^G.getRandomValues(new Uint8Array(1))[0]&15>>M/4).toString(16)})}function q(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,function(M){return(M^16*Math.random()>>M/4).toString(16)})}He.exports=k.default},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.User=void 0;var G=function(){function q(M,w){for(var E=0;E<w.length;E++){var y=w[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(M,y.key,y)}}return function(M,w,E){return w&&q(M.prototype,w),E&&q(M,E),M}}(),b=Q(0);k.User=function(){function q(M){var w=M.id_token,E=M.session_state,y=M.access_token,T=M.refresh_token,j=M.token_type,V=M.scope,ie=M.profile,$=M.expires_at,H=M.state;(function(ee,de){if(!(ee instanceof de))throw new TypeError("Cannot call a class as a function")})(this,q),this.id_token=w,this.session_state=E,this.access_token=y,this.refresh_token=T,this.token_type=j,this.scope=V,this.profile=ie,this.expires_at=$,this.state=H}return q.prototype.toStorageString=function(){return b.Log.debug("User.toStorageString"),JSON.stringify({id_token:this.id_token,session_state:this.session_state,access_token:this.access_token,refresh_token:this.refresh_token,token_type:this.token_type,scope:this.scope,profile:this.profile,expires_at:this.expires_at})},q.fromStorageString=function(w){return b.Log.debug("User.fromStorageString"),new q(JSON.parse(w))},G(q,[{key:"expires_in",get:function(){if(this.expires_at){var w=parseInt(Date.now()/1e3);return this.expires_at-w}},set:function(w){var E=parseInt(w);if("number"==typeof E&&E>0){var y=parseInt(Date.now()/1e3);this.expires_at=y+E}}},{key:"expired",get:function(){var w=this.expires_in;if(void 0!==w)return w<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}}]),q}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.AccessTokenEvents=void 0;var G=Q(0),b=Q(46);k.AccessTokenEvents=function(){function M(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},E=w.accessTokenExpiringNotificationTime,y=void 0===E?60:E,T=w.accessTokenExpiringTimer,j=void 0===T?new b.Timer("Access token expiring"):T,V=w.accessTokenExpiredTimer,ie=void 0===V?new b.Timer("Access token expired"):V;(function q(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")})(this,M),this._accessTokenExpiringNotificationTime=y,this._accessTokenExpiring=j,this._accessTokenExpired=ie}return M.prototype.load=function(E){if(E.access_token&&void 0!==E.expires_in){var y=E.expires_in;if(G.Log.debug("AccessTokenEvents.load: access token present, remaining duration:",y),y>0){var T=y-this._accessTokenExpiringNotificationTime;T<=0&&(T=1),G.Log.debug("AccessTokenEvents.load: registering expiring timer in:",T),this._accessTokenExpiring.init(T)}else G.Log.debug("AccessTokenEvents.load: canceling existing expiring timer becase we're past expiration."),this._accessTokenExpiring.cancel();var j=y+1;G.Log.debug("AccessTokenEvents.load: registering expired timer in:",j),this._accessTokenExpired.init(j)}else this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},M.prototype.unload=function(){G.Log.debug("AccessTokenEvents.unload: canceling existing access token timers"),this._accessTokenExpiring.cancel(),this._accessTokenExpired.cancel()},M.prototype.addAccessTokenExpiring=function(E){this._accessTokenExpiring.addHandler(E)},M.prototype.removeAccessTokenExpiring=function(E){this._accessTokenExpiring.removeHandler(E)},M.prototype.addAccessTokenExpired=function(E){this._accessTokenExpired.addHandler(E)},M.prototype.removeAccessTokenExpired=function(E){this._accessTokenExpired.removeHandler(E)},M}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.Event=void 0;var G=Q(0);k.Event=function(){function b(q){(function(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")})(this,b),this._name=q,this._callbacks=[]}return b.prototype.addHandler=function(M){this._callbacks.push(M)},b.prototype.removeHandler=function(M){var w=this._callbacks.findIndex(function(E){return E===M});w>=0&&this._callbacks.splice(w,1)},b.prototype.raise=function(){G.Log.debug("Event: Raising event: "+this._name);for(var M=0;M<this._callbacks.length;M++){var w;(w=this._callbacks)[M].apply(w,arguments)}},b}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.SessionMonitor=void 0;var G=function(){function E(y,T){for(var j=0;j<T.length;j++){var V=T[j];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(y,V.key,V)}}return function(y,T,j){return T&&E(y.prototype,T),j&&E(y,j),y}}(),b=Q(0),q=Q(19),M=Q(1);k.SessionMonitor=function(){function E(y){var T=this,j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.CheckSessionIFrame,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M.Global.timer;if(function w(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}(this,E),!y)throw b.Log.error("SessionMonitor.ctor: No user manager passed to SessionMonitor"),new Error("userManager");this._userManager=y,this._CheckSessionIFrameCtor=j,this._timer=V,this._userManager.events.addUserLoaded(this._start.bind(this)),this._userManager.events.addUserUnloaded(this._stop.bind(this)),Promise.resolve(this._userManager.getUser().then(function(ie){ie?T._start(ie):T._settings.monitorAnonymousSession&&T._userManager.querySessionStatus().then(function($){var H={session_state:$.session_state};$.sub&&$.sid&&(H.profile={sub:$.sub,sid:$.sid}),T._start(H)}).catch(function($){b.Log.error("SessionMonitor ctor: error from querySessionStatus:",$.message)})}).catch(function(ie){b.Log.error("SessionMonitor ctor: error from getUser:",ie.message)}))}return E.prototype._start=function(T){var j=this,V=T.session_state;V&&(T.profile?(this._sub=T.profile.sub,this._sid=T.profile.sid,b.Log.debug("SessionMonitor._start: session_state:",V,", sub:",this._sub)):(this._sub=void 0,this._sid=void 0,b.Log.debug("SessionMonitor._start: session_state:",V,", anonymous user")),this._checkSessionIFrame?this._checkSessionIFrame.start(V):this._metadataService.getCheckSessionIframe().then(function(ie){if(ie){b.Log.debug("SessionMonitor._start: Initializing check session iframe");var $=j._client_id,H=j._checkSessionInterval,B=j._stopCheckSessionOnError;j._checkSessionIFrame=new j._CheckSessionIFrameCtor(j._callback.bind(j),$,ie,H,B),j._checkSessionIFrame.load().then(function(){j._checkSessionIFrame.start(V)})}else b.Log.warn("SessionMonitor._start: No check session iframe found in the metadata")}).catch(function(ie){b.Log.error("SessionMonitor._start: Error from getCheckSessionIframe:",ie.message)}))},E.prototype._stop=function(){var T=this;if(this._sub=void 0,this._sid=void 0,this._checkSessionIFrame&&(b.Log.debug("SessionMonitor._stop"),this._checkSessionIFrame.stop()),this._settings.monitorAnonymousSession)var j=this._timer.setInterval(function(){T._timer.clearInterval(j),T._userManager.querySessionStatus().then(function(V){var ie={session_state:V.session_state};V.sub&&V.sid&&(ie.profile={sub:V.sub,sid:V.sid}),T._start(ie)}).catch(function(V){b.Log.error("SessionMonitor: error from querySessionStatus:",V.message)})},1e3)},E.prototype._callback=function(){var T=this;this._userManager.querySessionStatus().then(function(j){var V=!0;j?j.sub===T._sub?(V=!1,T._checkSessionIFrame.start(j.session_state),j.sid===T._sid?b.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, restarting check session iframe; session_state:",j.session_state):(b.Log.debug("SessionMonitor._callback: Same sub still logged in at OP, session state has changed, restarting check session iframe; session_state:",j.session_state),T._userManager.events._raiseUserSessionChanged())):b.Log.debug("SessionMonitor._callback: Different subject signed into OP:",j.sub):b.Log.debug("SessionMonitor._callback: Subject no longer signed into OP"),V&&(T._sub?(b.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed out event"),T._userManager.events._raiseUserSignedOut()):(b.Log.debug("SessionMonitor._callback: SessionMonitor._callback; raising signed in event"),T._userManager.events._raiseUserSignedIn()))}).catch(function(j){T._sub&&(b.Log.debug("SessionMonitor._callback: Error calling queryCurrentSigninSession; raising signed out event",j.message),T._userManager.events._raiseUserSignedOut())})},G(E,[{key:"_settings",get:function(){return this._userManager.settings}},{key:"_metadataService",get:function(){return this._userManager.metadataService}},{key:"_client_id",get:function(){return this._settings.client_id}},{key:"_checkSessionInterval",get:function(){return this._settings.checkSessionInterval}},{key:"_stopCheckSessionOnError",get:function(){return this._settings.stopCheckSessionOnError}}]),E}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.CheckSessionIFrame=void 0;var G=Q(0);k.CheckSessionIFrame=function(){function q(M,w,E,y){var T=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];(function b(q,M){if(!(q instanceof M))throw new TypeError("Cannot call a class as a function")})(this,q),this._callback=M,this._client_id=w,this._url=E,this._interval=y||2e3,this._stopOnError=T;var j=E.indexOf("/",E.indexOf("//")+2);this._frame_origin=E.substr(0,j),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.style.display="none",this._frame.width=0,this._frame.height=0,this._frame.src=E}return q.prototype.load=function(){var w=this;return new Promise(function(E){w._frame.onload=function(){E()},window.document.body.appendChild(w._frame),w._boundMessageEvent=w._message.bind(w),window.addEventListener("message",w._boundMessageEvent,!1)})},q.prototype._message=function(w){w.origin===this._frame_origin&&w.source===this._frame.contentWindow&&("error"===w.data?(G.Log.error("CheckSessionIFrame: error message from check session op iframe"),this._stopOnError&&this.stop()):"changed"===w.data?(G.Log.debug("CheckSessionIFrame: changed message from check session op iframe"),this.stop(),this._callback()):G.Log.debug("CheckSessionIFrame: "+w.data+" message from check session op iframe"))},q.prototype.start=function(w){var E=this;if(this._session_state!==w){G.Log.debug("CheckSessionIFrame.start"),this.stop(),this._session_state=w;var y=function(){E._frame.contentWindow.postMessage(E._client_id+" "+E._session_state,E._frame_origin)};y(),this._timer=window.setInterval(y,this._interval)}},q.prototype.stop=function(){this._session_state=null,this._timer&&(G.Log.debug("CheckSessionIFrame.stop"),window.clearInterval(this._timer),this._timer=null)},q}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.TokenRevocationClient=void 0;var G=Q(0),b=Q(2),q=Q(1);k.TokenRevocationClient=function(){function y(T){var j=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.Global.XMLHttpRequest,V=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.MetadataService;if(function M(y,T){if(!(y instanceof T))throw new TypeError("Cannot call a class as a function")}(this,y),!T)throw G.Log.error("TokenRevocationClient.ctor: No settings provided"),new Error("No settings provided.");this._settings=T,this._XMLHttpRequestCtor=j,this._metadataService=new V(this._settings)}return y.prototype.revoke=function(j,V){var ie=this,$=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"access_token";if(!j)throw G.Log.error("TokenRevocationClient.revoke: No token provided"),new Error("No token provided.");if("access_token"!==$&&"refresh_token"!=$)throw G.Log.error("TokenRevocationClient.revoke: Invalid token type"),new Error("Invalid token type.");return this._metadataService.getRevocationEndpoint().then(function(H){if(H)return G.Log.debug("TokenRevocationClient.revoke: Revoking "+$),ie._revoke(H,ie._settings.client_id,ie._settings.client_secret,j,$);if(V)throw G.Log.error("TokenRevocationClient.revoke: Revocation not supported"),new Error("Revocation not supported")})},y.prototype._revoke=function(j,V,ie,$,H){var B=this;return new Promise(function(ee,de){var ne=new B._XMLHttpRequestCtor;ne.open("POST",j),ne.onload=function(){G.Log.debug("TokenRevocationClient.revoke: HTTP response received, status",ne.status),200===ne.status?ee():de(Error(ne.statusText+" ("+ne.status+")"))},ne.onerror=function(){G.Log.debug("TokenRevocationClient.revoke: Network Error."),de("Network Error")};var se="client_id="+encodeURIComponent(V);ie&&(se+="&client_secret="+encodeURIComponent(ie)),se+="&token_type_hint="+encodeURIComponent(H),se+="&token="+encodeURIComponent($),ne.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),ne.send(se)})},y}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.CordovaPopupWindow=void 0;var G=function(){function q(M,w){for(var E=0;E<w.length;E++){var y=w[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(M,y.key,y)}}return function(M,w,E){return w&&q(M.prototype,w),E&&q(M,E),M}}(),b=Q(0);k.CordovaPopupWindow=function(){function q(M){var w=this;(function(y,T){if(!(y instanceof T))throw new TypeError("Cannot call a class as a function")})(this,q),this._promise=new Promise(function(E,y){w._resolve=E,w._reject=y}),this.features=M.popupWindowFeatures||"location=no,toolbar=no,zoom=no",this.target=M.popupWindowTarget||"_blank",this.redirect_uri=M.startUrl,b.Log.debug("CordovaPopupWindow.ctor: redirect_uri: "+this.redirect_uri)}return q.prototype._isInAppBrowserInstalled=function(w){return["cordova-plugin-inappbrowser","cordova-plugin-inappbrowser.inappbrowser","org.apache.cordova.inappbrowser"].some(function(E){return w.hasOwnProperty(E)})},q.prototype.navigate=function(w){if(w&&w.url){if(!window.cordova)return this._error("cordova is undefined");var E=window.cordova.require("cordova/plugin_list").metadata;if(!1===this._isInAppBrowserInstalled(E))return this._error("InAppBrowser plugin not found");this._popup=cordova.InAppBrowser.open(w.url,this.target,this.features),this._popup?(b.Log.debug("CordovaPopupWindow.navigate: popup successfully created"),this._exitCallbackEvent=this._exitCallback.bind(this),this._loadStartCallbackEvent=this._loadStartCallback.bind(this),this._popup.addEventListener("exit",this._exitCallbackEvent,!1),this._popup.addEventListener("loadstart",this._loadStartCallbackEvent,!1)):this._error("Error opening popup window")}else this._error("No url provided");return this.promise},q.prototype._loadStartCallback=function(w){0===w.url.indexOf(this.redirect_uri)&&this._success({url:w.url})},q.prototype._exitCallback=function(w){this._error(w)},q.prototype._success=function(w){this._cleanup(),b.Log.debug("CordovaPopupWindow: Successful response from cordova popup window"),this._resolve(w)},q.prototype._error=function(w){this._cleanup(),b.Log.error(w),this._reject(new Error(w))},q.prototype.close=function(){this._cleanup()},q.prototype._cleanup=function(){this._popup&&(b.Log.debug("CordovaPopupWindow: cleaning up popup"),this._popup.removeEventListener("exit",this._exitCallbackEvent,!1),this._popup.removeEventListener("loadstart",this._loadStartCallbackEvent,!1),this._popup.close()),this._popup=null},G(q,[{key:"promise",get:function(){return this._promise}}]),q}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0});var G=Q(0),b=Q(10),q=Q(5),M=Q(6),w=Q(37),E=Q(38),y=Q(16),T=Q(2),j=Q(48),V=Q(49),ie=Q(19),$=Q(20),H=Q(18),B=Q(1),ee=Q(15),de=Q(50);k.default={Version:de.Version,Log:G.Log,OidcClient:b.OidcClient,OidcClientSettings:q.OidcClientSettings,WebStorageStateStore:M.WebStorageStateStore,InMemoryWebStorage:w.InMemoryWebStorage,UserManager:E.UserManager,AccessTokenEvents:y.AccessTokenEvents,MetadataService:T.MetadataService,CordovaPopupNavigator:j.CordovaPopupNavigator,CordovaIFrameNavigator:V.CordovaIFrameNavigator,CheckSessionIFrame:ie.CheckSessionIFrame,TokenRevocationClient:$.TokenRevocationClient,SessionMonitor:H.SessionMonitor,Global:B.Global,User:ee.User},He.exports=k.default},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.ClockService=function(){function G(){!function(q,M){if(!(q instanceof M))throw new TypeError("Cannot call a class as a function")}(this,G)}return G.prototype.getEpochTime=function(){return Promise.resolve(Date.now()/1e3|0)},G}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.ResponseValidator=void 0;var G="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V},b=Q(0),q=Q(2),M=Q(25),w=Q(11),E=Q(12),y=Q(4);var j=["nonce","at_hash","iat","nbf","exp","aud","iss","c_hash"];k.ResponseValidator=function(){function V(ie){var $=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.MetadataService,H=arguments.length>2&&void 0!==arguments[2]?arguments[2]:M.UserInfoService,B=arguments.length>3&&void 0!==arguments[3]?arguments[3]:y.JoseUtil,ee=arguments.length>4&&void 0!==arguments[4]?arguments[4]:w.TokenClient;if(function T(V,ie){if(!(V instanceof ie))throw new TypeError("Cannot call a class as a function")}(this,V),!ie)throw b.Log.error("ResponseValidator.ctor: No settings passed to ResponseValidator"),new Error("settings");this._settings=ie,this._metadataService=new $(this._settings),this._userInfoService=new H(this._settings),this._joseUtil=B,this._tokenClient=new ee(this._settings)}return V.prototype.validateSigninResponse=function($,H){var B=this;return b.Log.debug("ResponseValidator.validateSigninResponse"),this._processSigninParams($,H).then(function(ee){return b.Log.debug("ResponseValidator.validateSigninResponse: state processed"),B._validateTokens($,ee).then(function(de){return b.Log.debug("ResponseValidator.validateSigninResponse: tokens validated"),B._processClaims($,de).then(function(ne){return b.Log.debug("ResponseValidator.validateSigninResponse: claims processed"),ne})})})},V.prototype.validateSignoutResponse=function($,H){return $.id!==H.state?(b.Log.error("ResponseValidator.validateSignoutResponse: State does not match"),Promise.reject(new Error("State does not match"))):(b.Log.debug("ResponseValidator.validateSignoutResponse: state validated"),H.state=$.data,H.error?(b.Log.warn("ResponseValidator.validateSignoutResponse: Response was error",H.error),Promise.reject(new E.ErrorResponse(H))):Promise.resolve(H))},V.prototype._processSigninParams=function($,H){if($.id!==H.state)return b.Log.error("ResponseValidator._processSigninParams: State does not match"),Promise.reject(new Error("State does not match"));if(!$.client_id)return b.Log.error("ResponseValidator._processSigninParams: No client_id on state"),Promise.reject(new Error("No client_id on state"));if(!$.authority)return b.Log.error("ResponseValidator._processSigninParams: No authority on state"),Promise.reject(new Error("No authority on state"));if(this._settings.authority){if(this._settings.authority&&this._settings.authority!==$.authority)return b.Log.error("ResponseValidator._processSigninParams: authority mismatch on settings vs. signin state"),Promise.reject(new Error("authority mismatch on settings vs. signin state"))}else this._settings.authority=$.authority;if(this._settings.client_id){if(this._settings.client_id&&this._settings.client_id!==$.client_id)return b.Log.error("ResponseValidator._processSigninParams: client_id mismatch on settings vs. signin state"),Promise.reject(new Error("client_id mismatch on settings vs. signin state"))}else this._settings.client_id=$.client_id;return b.Log.debug("ResponseValidator._processSigninParams: state validated"),H.state=$.data,H.error?(b.Log.warn("ResponseValidator._processSigninParams: Response was error",H.error),Promise.reject(new E.ErrorResponse(H))):$.nonce&&!H.id_token?(b.Log.error("ResponseValidator._processSigninParams: Expecting id_token in response"),Promise.reject(new Error("No id_token in response"))):!$.nonce&&H.id_token?(b.Log.error("ResponseValidator._processSigninParams: Not expecting id_token in response"),Promise.reject(new Error("Unexpected id_token in response"))):$.code_verifier&&!H.code?(b.Log.error("ResponseValidator._processSigninParams: Expecting code in response"),Promise.reject(new Error("No code in response"))):!$.code_verifier&&H.code?(b.Log.error("ResponseValidator._processSigninParams: Not expecting code in response"),Promise.reject(new Error("Unexpected code in response"))):(H.scope||(H.scope=$.scope),Promise.resolve(H))},V.prototype._processClaims=function($,H){var B=this;if(H.isOpenIdConnect){if(b.Log.debug("ResponseValidator._processClaims: response is OIDC, processing claims"),H.profile=this._filterProtocolClaims(H.profile),!0!==$.skipUserInfo&&this._settings.loadUserInfo&&H.access_token)return b.Log.debug("ResponseValidator._processClaims: loading user info"),this._userInfoService.getClaims(H.access_token).then(function(ee){return b.Log.debug("ResponseValidator._processClaims: user info claims received from user info endpoint"),ee.sub!==H.profile.sub?(b.Log.error("ResponseValidator._processClaims: sub from user info endpoint does not match sub in id_token"),Promise.reject(new Error("sub from user info endpoint does not match sub in id_token"))):(H.profile=B._mergeClaims(H.profile,ee),b.Log.debug("ResponseValidator._processClaims: user info claims received, updated profile:",H.profile),H)});b.Log.debug("ResponseValidator._processClaims: not loading user info")}else b.Log.debug("ResponseValidator._processClaims: response is not OIDC, not processing claims");return Promise.resolve(H)},V.prototype._mergeClaims=function($,H){var B=Object.assign({},$);for(var ee in H){var de=H[ee];Array.isArray(de)||(de=[de]);for(var ne=0;ne<de.length;ne++){var se=de[ne];B[ee]?Array.isArray(B[ee])?B[ee].indexOf(se)<0&&B[ee].push(se):B[ee]!==se&&(B[ee]="object"===(void 0===se?"undefined":G(se))&&this._settings.mergeClaims?this._mergeClaims(B[ee],se):[B[ee],se]):B[ee]=se}}return B},V.prototype._filterProtocolClaims=function($){b.Log.debug("ResponseValidator._filterProtocolClaims, incoming claims:",$);var H=Object.assign({},$);return this._settings._filterProtocolClaims?(j.forEach(function(B){delete H[B]}),b.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims filtered",H)):b.Log.debug("ResponseValidator._filterProtocolClaims: protocol claims not filtered"),H},V.prototype._validateTokens=function($,H){return H.code?(b.Log.debug("ResponseValidator._validateTokens: Validating code"),this._processCode($,H)):H.id_token?H.access_token?(b.Log.debug("ResponseValidator._validateTokens: Validating id_token and access_token"),this._validateIdTokenAndAccessToken($,H)):(b.Log.debug("ResponseValidator._validateTokens: Validating id_token"),this._validateIdToken($,H)):(b.Log.debug("ResponseValidator._validateTokens: No code to process or id_token to validate"),Promise.resolve(H))},V.prototype._processCode=function($,H){var B=this,ee={client_id:$.client_id,client_secret:$.client_secret,code:H.code,redirect_uri:$.redirect_uri,code_verifier:$.code_verifier};return $.extraTokenParams&&"object"===G($.extraTokenParams)&&Object.assign(ee,$.extraTokenParams),this._tokenClient.exchangeCode(ee).then(function(de){for(var ne in de)H[ne]=de[ne];return H.id_token?(b.Log.debug("ResponseValidator._processCode: token response successful, processing id_token"),B._validateIdTokenAttributes($,H)):(b.Log.debug("ResponseValidator._processCode: token response successful, returning response"),H)})},V.prototype._validateIdTokenAttributes=function($,H){var B=this;return this._metadataService.getIssuer().then(function(ee){var de=$.client_id,ne=B._settings.clockSkew;return b.Log.debug("ResponseValidator._validateIdTokenAttributes: Validaing JWT attributes; using clock skew (in seconds) of: ",ne),B._settings.getEpochTime().then(function(se){return B._joseUtil.validateJwtAttributes(H.id_token,ee,de,ne,se).then(function(te){return $.nonce&&$.nonce!==te.nonce?(b.Log.error("ResponseValidator._validateIdTokenAttributes: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):te.sub?(H.profile=te,H):(b.Log.error("ResponseValidator._validateIdTokenAttributes: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})})},V.prototype._validateIdTokenAndAccessToken=function($,H){var B=this;return this._validateIdToken($,H).then(function(ee){return B._validateAccessToken(ee)})},V.prototype._getSigningKeyForJwt=function($){var H=this;return this._metadataService.getSigningKeys().then(function(B){var ee=$.header.kid;if(!B)return b.Log.error("ResponseValidator._validateIdToken: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));b.Log.debug("ResponseValidator._validateIdToken: Received signing keys");var de=void 0;if(ee)de=B.filter(function(ne){return ne.kid===ee})[0];else{if((B=H._filterByAlg(B,$.header.alg)).length>1)return b.Log.error("ResponseValidator._validateIdToken: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));de=B[0]}return Promise.resolve(de)})},V.prototype._getSigningKeyForJwtWithSingleRetry=function($){var H=this;return this._getSigningKeyForJwt($).then(function(B){return B?Promise.resolve(B):(H._metadataService.resetSigningKeys(),H._getSigningKeyForJwt($))})},V.prototype._validateIdToken=function($,H){var B=this;if(!$.nonce)return b.Log.error("ResponseValidator._validateIdToken: No nonce on state"),Promise.reject(new Error("No nonce on state"));var ee=this._joseUtil.parseJwt(H.id_token);return ee&&ee.header&&ee.payload?$.nonce!==ee.payload.nonce?(b.Log.error("ResponseValidator._validateIdToken: Invalid nonce in id_token"),Promise.reject(new Error("Invalid nonce in id_token"))):this._metadataService.getIssuer().then(function(de){return b.Log.debug("ResponseValidator._validateIdToken: Received issuer"),B._getSigningKeyForJwtWithSingleRetry(ee).then(function(ne){if(!ne)return b.Log.error("ResponseValidator._validateIdToken: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var se=$.client_id,te=B._settings.clockSkew;return b.Log.debug("ResponseValidator._validateIdToken: Validaing JWT; using clock skew (in seconds) of: ",te),B._joseUtil.validateJwt(H.id_token,ne,de,se,te).then(function(){return b.Log.debug("ResponseValidator._validateIdToken: JWT validation successful"),ee.payload.sub?(H.profile=ee.payload,H):(b.Log.error("ResponseValidator._validateIdToken: No sub present in id_token"),Promise.reject(new Error("No sub present in id_token")))})})}):(b.Log.error("ResponseValidator._validateIdToken: Failed to parse id_token",ee),Promise.reject(new Error("Failed to parse id_token")))},V.prototype._filterByAlg=function($,H){var B=null;if(H.startsWith("RS"))B="RSA";else if(H.startsWith("PS"))B="PS";else{if(!H.startsWith("ES"))return b.Log.debug("ResponseValidator._filterByAlg: alg not supported: ",H),[];B="EC"}return b.Log.debug("ResponseValidator._filterByAlg: Looking for keys that match kty: ",B),$=$.filter(function(ee){return ee.kty===B}),b.Log.debug("ResponseValidator._filterByAlg: Number of keys that match kty: ",B,$.length),$},V.prototype._validateAccessToken=function($){if(!$.profile)return b.Log.error("ResponseValidator._validateAccessToken: No profile loaded from id_token"),Promise.reject(new Error("No profile loaded from id_token"));if(!$.profile.at_hash)return b.Log.error("ResponseValidator._validateAccessToken: No at_hash in id_token"),Promise.reject(new Error("No at_hash in id_token"));if(!$.id_token)return b.Log.error("ResponseValidator._validateAccessToken: No id_token"),Promise.reject(new Error("No id_token"));var H=this._joseUtil.parseJwt($.id_token);if(!H||!H.header)return b.Log.error("ResponseValidator._validateAccessToken: Failed to parse id_token",H),Promise.reject(new Error("Failed to parse id_token"));var B=H.header.alg;if(!B||5!==B.length)return b.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",B),Promise.reject(new Error("Unsupported alg: "+B));var ee=B.substr(2,3);if(!ee)return b.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",B,ee),Promise.reject(new Error("Unsupported alg: "+B));if(256!==(ee=parseInt(ee))&&384!==ee&&512!==ee)return b.Log.error("ResponseValidator._validateAccessToken: Unsupported alg:",B,ee),Promise.reject(new Error("Unsupported alg: "+B));var de="sha"+ee,ne=this._joseUtil.hashString($.access_token,de);if(!ne)return b.Log.error("ResponseValidator._validateAccessToken: access_token hash failed:",de),Promise.reject(new Error("Failed to validate at_hash"));var se=ne.substr(0,ne.length/2),te=this._joseUtil.hexToBase64Url(se);return te!==$.profile.at_hash?(b.Log.error("ResponseValidator._validateAccessToken: Failed to validate at_hash",te,$.profile.at_hash),Promise.reject(new Error("Failed to validate at_hash"))):(b.Log.debug("ResponseValidator._validateAccessToken: success"),Promise.resolve($))},V}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.UserInfoService=void 0;var G=Q(7),b=Q(2),q=Q(0),M=Q(4);k.UserInfoService=function(){function E(y){var T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:G.JsonService,j=arguments.length>2&&void 0!==arguments[2]?arguments[2]:b.MetadataService,V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M.JoseUtil;if(function w(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}(this,E),!y)throw q.Log.error("UserInfoService.ctor: No settings passed"),new Error("settings");this._settings=y,this._jsonService=new T(void 0,void 0,this._getClaimsFromJwt.bind(this)),this._metadataService=new j(this._settings),this._joseUtil=V}return E.prototype.getClaims=function(T){var j=this;return T?this._metadataService.getUserInfoEndpoint().then(function(V){return q.Log.debug("UserInfoService.getClaims: received userinfo url",V),j._jsonService.getJson(V,T).then(function(ie){return q.Log.debug("UserInfoService.getClaims: claims received",ie),ie})}):(q.Log.error("UserInfoService.getClaims: No token passed"),Promise.reject(new Error("A token is required")))},E.prototype._getClaimsFromJwt=function(T){var j=this;try{var V=this._joseUtil.parseJwt(T.responseText);if(!V||!V.header||!V.payload)return q.Log.error("UserInfoService._getClaimsFromJwt: Failed to parse JWT",V),Promise.reject(new Error("Failed to parse id_token"));var ie=V.header.kid,$=void 0;switch(this._settings.userInfoJwtIssuer){case"OP":$=this._metadataService.getIssuer();break;case"ANY":$=Promise.resolve(V.payload.iss);break;default:$=Promise.resolve(this._settings.userInfoJwtIssuer)}return $.then(function(H){return q.Log.debug("UserInfoService._getClaimsFromJwt: Received issuer:"+H),j._metadataService.getSigningKeys().then(function(B){if(!B)return q.Log.error("UserInfoService._getClaimsFromJwt: No signing keys from metadata"),Promise.reject(new Error("No signing keys from metadata"));q.Log.debug("UserInfoService._getClaimsFromJwt: Received signing keys");var ee=void 0;if(ie)ee=B.filter(function(se){return se.kid===ie})[0];else{if((B=j._filterByAlg(B,V.header.alg)).length>1)return q.Log.error("UserInfoService._getClaimsFromJwt: No kid found in id_token and more than one key found in metadata"),Promise.reject(new Error("No kid found in id_token and more than one key found in metadata"));ee=B[0]}if(!ee)return q.Log.error("UserInfoService._getClaimsFromJwt: No key matching kid or alg found in signing keys"),Promise.reject(new Error("No key matching kid or alg found in signing keys"));var de=j._settings.client_id,ne=j._settings.clockSkew;return q.Log.debug("UserInfoService._getClaimsFromJwt: Validaing JWT; using clock skew (in seconds) of: ",ne),j._joseUtil.validateJwt(T.responseText,ee,H,de,ne,void 0,!0).then(function(){return q.Log.debug("UserInfoService._getClaimsFromJwt: JWT validation successful"),V.payload})})})}catch(H){return q.Log.error("UserInfoService._getClaimsFromJwt: Error parsing JWT response",H.message),void reject(H)}},E.prototype._filterByAlg=function(T,j){var V=null;if(j.startsWith("RS"))V="RSA";else if(j.startsWith("PS"))V="PS";else{if(!j.startsWith("ES"))return q.Log.debug("UserInfoService._filterByAlg: alg not supported: ",j),[];V="EC"}return q.Log.debug("UserInfoService._filterByAlg: Looking for keys that match kty: ",V),T=T.filter(function(ie){return ie.kty===V}),q.Log.debug("UserInfoService._filterByAlg: Number of keys that match kty: ",V,T.length),T},E}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.AllowedSigningAlgs=k.b64tohex=k.hextob64u=k.crypto=k.X509=k.KeyUtil=k.jws=void 0;var G=Q(27);k.jws=G.jws,k.KeyUtil=G.KEYUTIL,k.X509=G.X509,k.crypto=G.crypto,k.hextob64u=G.hextob64u,k.b64tohex=G.b64tohex,k.AllowedSigningAlgs=["RS256","RS384","RS512","PS256","PS384","PS512","ES256","ES384","ES512"]},function(He,k,Q){"use strict";(function(G){Object.defineProperty(k,"__esModule",{value:!0});var b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},q={userAgent:!1},M={};if(void 0===w)var w={};w.lang={extend:function(u,d,f){if(!d||!u)throw new Error("YAHOO.lang.extend failed, please check that all dependencies are included.");var p=function(){};if(p.prototype=d.prototype,u.prototype=new p,u.prototype.constructor=u,u.superclass=d.prototype,d.prototype.constructor==Object.prototype.constructor&&(d.prototype.constructor=d),f){var v;for(v in f)u.prototype[v]=f[v];var C=function(){},A=["toString","valueOf"];try{/MSIE/.test(q.userAgent)&&(C=function(x,L){for(v=0;v<A.length;v+=1){var U=A[v],K=L[U];"function"==typeof K&&K!=Object.prototype[U]&&(x[U]=K)}})}catch{}C(u.prototype,f)}}};var E,y,T,j,V,ie,$,H,B,ee,de,u,d,f,p,ne=ne||(E=Math,T=(y={}).lib={},j=T.Base=function(){function l(){}return{extend:function(d){l.prototype=this;var f=new l;return d&&f.mixIn(d),f.hasOwnProperty("init")||(f.init=function(){f.$super.init.apply(this,arguments)}),f.init.prototype=f,f.$super=this,f},create:function(){var d=this.extend();return d.init.apply(d,arguments),d},init:function(){},mixIn:function(d){for(var f in d)d.hasOwnProperty(f)&&(this[f]=d[f]);d.hasOwnProperty("toString")&&(this.toString=d.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),V=T.WordArray=j.extend({init:function(u,d){u=this.words=u||[],this.sigBytes=d??4*u.length},toString:function(u){return(u||$).stringify(this)},concat:function(u){var d=this.words,f=u.words,p=this.sigBytes,v=u.sigBytes;if(this.clamp(),p%4)for(var C=0;C<v;C++)d[p+C>>>2]|=(f[C>>>2]>>>24-C%4*8&255)<<24-(p+C)%4*8;else for(C=0;C<v;C+=4)d[p+C>>>2]=f[C>>>2];return this.sigBytes+=v,this},clamp:function(){var u=this.words,d=this.sigBytes;u[d>>>2]&=4294967295<<32-d%4*8,u.length=E.ceil(d/4)},clone:function(){var u=j.clone.call(this);return u.words=this.words.slice(0),u},random:function(u){for(var d=[],f=0;f<u;f+=4)d.push(4294967296*E.random()|0);return new V.init(d,u)}}),ie=y.enc={},$=ie.Hex={stringify:function(u){for(var d=u.words,f=u.sigBytes,p=[],v=0;v<f;v++){var C=d[v>>>2]>>>24-v%4*8&255;p.push((C>>>4).toString(16)),p.push((15&C).toString(16))}return p.join("")},parse:function(u){for(var d=u.length,f=[],p=0;p<d;p+=2)f[p>>>3]|=parseInt(u.substr(p,2),16)<<24-p%8*4;return new V.init(f,d/2)}},H=ie.Latin1={stringify:function(u){for(var d=u.words,f=u.sigBytes,p=[],v=0;v<f;v++)p.push(String.fromCharCode(d[v>>>2]>>>24-v%4*8&255));return p.join("")},parse:function(u){for(var d=u.length,f=[],p=0;p<d;p++)f[p>>>2]|=(255&u.charCodeAt(p))<<24-p%4*8;return new V.init(f,d)}},B=ie.Utf8={stringify:function(u){try{return decodeURIComponent(escape(H.stringify(u)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(u){return H.parse(unescape(encodeURIComponent(u)))}},ee=T.BufferedBlockAlgorithm=j.extend({reset:function(){this._data=new V.init,this._nDataBytes=0},_append:function(u){"string"==typeof u&&(u=B.parse(u)),this._data.concat(u),this._nDataBytes+=u.sigBytes},_process:function(u){var d=this._data,f=d.words,p=d.sigBytes,v=this.blockSize,C=p/(4*v),A=(C=u?E.ceil(C):E.max((0|C)-this._minBufferSize,0))*v,F=E.min(4*A,p);if(A){for(var x=0;x<A;x+=v)this._doProcessBlock(f,x);var L=f.splice(0,A);d.sigBytes-=F}return new V.init(L,F)},clone:function(){var u=j.clone.call(this);return u._data=this._data.clone(),u},_minBufferSize:0}),T.Hasher=ee.extend({cfg:j.extend(),init:function(u){this.cfg=this.cfg.extend(u),this.reset()},reset:function(){ee.reset.call(this),this._doReset()},update:function(u){return this._append(u),this._process(),this},finalize:function(u){return u&&this._append(u),this._doFinalize()},blockSize:16,_createHelper:function(u){return function(d,f){return new u.init(f).finalize(d)}},_createHmacHelper:function(u){return function(d,f){return new de.HMAC.init(u,f).finalize(d)}}}),de=y.algo={},y);d=(u=ne).lib,f=d.Base,p=d.WordArray,(u=u.x64={}).Word=f.extend({init:function(C,A){this.high=C,this.low=A}}),u.WordArray=f.extend({init:function(C,A){C=this.words=C||[],this.sigBytes=A??8*C.length},toX32:function(){for(var C=this.words,A=C.length,F=[],x=0;x<A;x++){var L=C[x];F.push(L.high),F.push(L.low)}return p.create(F,this.sigBytes)},clone:function(){for(var C=f.clone.call(this),A=C.words=this.words.slice(0),F=A.length,x=0;x<F;x++)A[x]=A[x].clone();return C}}),function(){var u=ne.lib.WordArray;ne.enc.Base64={stringify:function(f){var p=f.words,v=f.sigBytes,C=this._map;f.clamp(),f=[];for(var A=0;A<v;A+=3)for(var F=(p[A>>>2]>>>24-A%4*8&255)<<16|(p[A+1>>>2]>>>24-(A+1)%4*8&255)<<8|p[A+2>>>2]>>>24-(A+2)%4*8&255,x=0;4>x&&A+.75*x<v;x++)f.push(C.charAt(F>>>6*(3-x)&63));if(p=C.charAt(64))for(;f.length%4;)f.push(p);return f.join("")},parse:function(f){var p=f.length,v=this._map;(C=v.charAt(64))&&-1!=(C=f.indexOf(C))&&(p=C);for(var C=[],A=0,F=0;F<p;F++)if(F%4){var x=v.indexOf(f.charAt(F-1))<<F%4*2,L=v.indexOf(f.charAt(F))>>>6-F%4*2;C[A>>>2]|=(x|L)<<24-A%4*8,A++}return u.create(C,A)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(l){for(var u=ne,d=(p=u.lib).WordArray,f=p.Hasher,p=u.algo,v=[],C=[],A=function(ce){return 4294967296*(ce-(0|ce))|0},F=2,x=0;64>x;){var L;e:{for(var U=l.sqrt(L=F),K=2;K<=U;K++)if(!(L%K)){L=!1;break e}L=!0}L&&(8>x&&(v[x]=A(l.pow(F,.5))),C[x]=A(l.pow(F,1/3)),x++),F++}var z=[];p=p.SHA256=f.extend({_doReset:function(){this._hash=new d.init(v.slice(0))},_doProcessBlock:function(ce,ge){for(var D=this._hash.words,N=D[0],R=D[1],W=D[2],fe=D[3],me=D[4],xe=D[5],J=D[6],tt=D[7],Ee=0;64>Ee;Ee++){if(16>Ee)z[Ee]=0|ce[ge+Ee];else{var De=z[Ee-15],It=z[Ee-2];z[Ee]=((De<<25|De>>>7)^(De<<14|De>>>18)^De>>>3)+z[Ee-7]+((It<<15|It>>>17)^(It<<13|It>>>19)^It>>>10)+z[Ee-16]}De=tt+((me<<26|me>>>6)^(me<<21|me>>>11)^(me<<7|me>>>25))+(me&xe^~me&J)+C[Ee]+z[Ee],It=((N<<30|N>>>2)^(N<<19|N>>>13)^(N<<10|N>>>22))+(N&R^N&W^R&W),tt=J,J=xe,xe=me,me=fe+De|0,fe=W,W=R,R=N,N=De+It|0}D[0]=D[0]+N|0,D[1]=D[1]+R|0,D[2]=D[2]+W|0,D[3]=D[3]+fe|0,D[4]=D[4]+me|0,D[5]=D[5]+xe|0,D[6]=D[6]+J|0,D[7]=D[7]+tt|0},_doFinalize:function(){var ce=this._data,ge=ce.words,D=8*this._nDataBytes,N=8*ce.sigBytes;return ge[N>>>5]|=128<<24-N%32,ge[14+(N+64>>>9<<4)]=l.floor(D/4294967296),ge[15+(N+64>>>9<<4)]=D,ce.sigBytes=4*ge.length,this._process(),this._hash},clone:function(){var ce=f.clone.call(this);return ce._hash=this._hash.clone(),ce}}),u.SHA256=f._createHelper(p),u.HmacSHA256=f._createHmacHelper(p)}(Math),function(){function l(){return f.create.apply(f,arguments)}for(var u=ne,d=u.lib.Hasher,f=(v=u.x64).Word,p=v.WordArray,v=u.algo,C=[l(1116352408,3609767458),l(1899447441,602891725),l(3049323471,3964484399),l(3921009573,2173295548),l(961987163,4081628472),l(1508970993,3053834265),l(2453635748,2937671579),l(2870763221,3664609560),l(3624381080,2734883394),l(310598401,1164996542),l(607225278,1323610764),l(1426881987,3590304994),l(1925078388,4068182383),l(2162078206,991336113),l(2614888103,633803317),l(3248222580,3479774868),l(3835390401,2666613458),l(4022224774,944711139),l(264347078,2341262773),l(604807628,2007800933),l(770255983,1495990901),l(1249150122,1856431235),l(1555081692,3175218132),l(1996064986,2198950837),l(2554220882,3999719339),l(2821834349,766784016),l(2952996808,2566594879),l(3210313671,3203337956),l(3336571891,1034457026),l(3584528711,2466948901),l(113926993,3758326383),l(338241895,168717936),l(666307205,1188179964),l(773529912,1546045734),l(1294757372,1522805485),l(1396182291,2643833823),l(1695183700,2343527390),l(1986661051,1014477480),l(2177026350,1206759142),l(2456956037,344077627),l(2730485921,1290863460),l(2820302411,3158454273),l(3259730800,3505952657),l(3345764771,106217008),l(3516065817,3606008344),l(3600352804,1432725776),l(4094571909,1467031594),l(275423344,851169720),l(430227734,3100823752),l(506948616,1363258195),l(659060556,3750685593),l(883997877,3785050280),l(958139571,3318307427),l(1322822218,3812723403),l(1537002063,2003034995),l(1747873779,3602036899),l(1955562222,1575990012),l(2024104815,1125592928),l(2227730452,2716904306),l(2361852424,442776044),l(2428436474,593698344),l(2756734187,3733110249),l(3204031479,2999351573),l(3329325298,3815920427),l(3391569614,3928383900),l(3515267271,566280711),l(3940187606,3454069534),l(4118630271,4000239992),l(116418474,1914138554),l(174292421,2731055270),l(289380356,3203993006),l(460393269,320620315),l(685471733,587496836),l(852142971,1086792851),l(1017036298,365543100),l(1126000580,2618297676),l(1288033470,3409855158),l(1501505948,4234509866),l(1607167915,987167468),l(1816402316,1246189591)],A=[],F=0;80>F;F++)A[F]=l();v=v.SHA512=d.extend({_doReset:function(){this._hash=new p.init([new f.init(1779033703,4089235720),new f.init(3144134277,2227873595),new f.init(1013904242,4271175723),new f.init(2773480762,1595750129),new f.init(1359893119,2917565137),new f.init(2600822924,725511199),new f.init(528734635,4215389547),new f.init(1541459225,327033209)])},_doProcessBlock:function(L,U){for(var K=(R=this._hash.words)[0],z=R[1],ue=R[2],ce=R[3],ge=R[4],D=R[5],N=R[6],R=R[7],W=K.high,fe=K.low,me=z.high,xe=z.low,J=ue.high,tt=ue.low,Ee=ce.high,De=ce.low,It=ge.high,Ht=ge.low,Mt=D.high,yn=D.low,bt=N.high,Un=N.low,Yt=R.high,pn=R.low,jt=W,Hn=fe,as=me,Io=xe,us=J,Zi=tt,Pl=Ee,To=De,Mr=It,$t=Ht,lt=Mt,ls=yn,xa=bt,cs=Un,Be=Yt,ds=pn,gt=0;80>gt;gt++){var Rr=A[gt];if(16>gt)var qr=Rr.high=0|L[U+2*gt],Rt=Rr.low=0|L[U+2*gt+1];else{qr=((Rt=(qr=A[gt-15]).high)>>>1|(zr=qr.low)<<31)^(Rt>>>8|zr<<24)^Rt>>>7;var zr=(zr>>>1|Rt<<31)^(zr>>>8|Rt<<24)^(zr>>>7|Rt<<25),Ri=((Rt=(Ri=A[gt-2]).high)>>>19|(zt=Ri.low)<<13)^(Rt<<3|zt>>>29)^Rt>>>6,zt=(zt>>>19|Rt<<13)^(zt<<3|Rt>>>29)^(zt>>>6|Rt<<26),Po=(Rt=A[gt-7]).high,ai=(xi=A[gt-16]).high,xi=xi.low;qr=(qr=(qr=qr+Po+((Rt=zr+Rt.low)>>>0<zr>>>0?1:0))+Ri+((Rt+=zt)>>>0<zt>>>0?1:0))+ai+((Rt+=xi)>>>0<xi>>>0?1:0),Rr.high=qr,Rr.low=Rt}Po=Mr&lt^~Mr&xa,xi=$t&ls^~$t&cs,Rr=jt&as^jt&us^as&us;var rt=Hn&Io^Hn&Zi^Io&Zi,Na=(zr=(jt>>>28|Hn<<4)^(jt<<30|Hn>>>2)^(jt<<25|Hn>>>7),Ri=(Hn>>>28|jt<<4)^(Hn<<30|jt>>>2)^(Hn<<25|jt>>>7),(zt=C[gt]).high),Oa=zt.low;ai=Be+((Mr>>>14|$t<<18)^(Mr>>>18|$t<<14)^(Mr<<23|$t>>>9))+((zt=ds+(($t>>>14|Mr<<18)^($t>>>18|Mr<<14)^($t<<23|Mr>>>9)))>>>0<ds>>>0?1:0),Be=xa,ds=cs,xa=lt,cs=ls,lt=Mr,ls=$t,Mr=Pl+(ai=(ai=(ai=ai+Po+((zt+=xi)>>>0<xi>>>0?1:0))+Na+((zt+=Oa)>>>0<Oa>>>0?1:0))+qr+((zt+=Rt)>>>0<Rt>>>0?1:0))+(($t=To+zt|0)>>>0<To>>>0?1:0)|0,Pl=us,To=Zi,us=as,Zi=Io,as=jt,Io=Hn,jt=ai+(Rr=zr+Rr+((Rt=Ri+rt)>>>0<Ri>>>0?1:0))+((Hn=zt+Rt|0)>>>0<zt>>>0?1:0)|0}fe=K.low=fe+Hn,K.high=W+jt+(fe>>>0<Hn>>>0?1:0),xe=z.low=xe+Io,z.high=me+as+(xe>>>0<Io>>>0?1:0),tt=ue.low=tt+Zi,ue.high=J+us+(tt>>>0<Zi>>>0?1:0),De=ce.low=De+To,ce.high=Ee+Pl+(De>>>0<To>>>0?1:0),Ht=ge.low=Ht+$t,ge.high=It+Mr+(Ht>>>0<$t>>>0?1:0),yn=D.low=yn+ls,D.high=Mt+lt+(yn>>>0<ls>>>0?1:0),Un=N.low=Un+cs,N.high=bt+xa+(Un>>>0<cs>>>0?1:0),pn=R.low=pn+ds,R.high=Yt+Be+(pn>>>0<ds>>>0?1:0)},_doFinalize:function(){var L=this._data,U=L.words,K=8*this._nDataBytes,z=8*L.sigBytes;return U[z>>>5]|=128<<24-z%32,U[30+(z+128>>>10<<5)]=Math.floor(K/4294967296),U[31+(z+128>>>10<<5)]=K,L.sigBytes=4*U.length,this._process(),this._hash.toX32()},clone:function(){var L=d.clone.call(this);return L._hash=this._hash.clone(),L},blockSize:32}),u.SHA512=d._createHelper(v),u.HmacSHA512=d._createHmacHelper(v)}(),function(){var l=ne,u=(p=l.x64).Word,d=p.WordArray,f=(p=l.algo).SHA512,p=p.SHA384=f.extend({_doReset:function(){this._hash=new d.init([new u.init(3418070365,3238371032),new u.init(1654270250,914150663),new u.init(2438529370,812702999),new u.init(355462360,4144912697),new u.init(1731405415,4290775857),new u.init(2394180231,1750603025),new u.init(3675008525,1694076839),new u.init(1203062813,3204075428)])},_doFinalize:function(){var C=f._doFinalize.call(this);return C.sigBytes-=16,C}});l.SHA384=f._createHelper(p),l.HmacSHA384=f._createHmacHelper(p)}();var se,te="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";function be(l){var u,d,f="";for(u=0;u+3<=l.length;u+=3)d=parseInt(l.substring(u,u+3),16),f+=te.charAt(d>>6)+te.charAt(63&d);for(u+1==l.length?(d=parseInt(l.substring(u,u+1),16),f+=te.charAt(d<<2)):u+2==l.length&&(d=parseInt(l.substring(u,u+2),16),f+=te.charAt(d>>2)+te.charAt((3&d)<<4));(3&f.length)>0;)f+="=";return f}function Ce(l){var u,d,f,p="",v=0;for(u=0;u<l.length&&"="!=l.charAt(u);++u)(f=te.indexOf(l.charAt(u)))<0||(0==v?(p+=Pt(f>>2),d=3&f,v=1):1==v?(p+=Pt(d<<2|f>>4),d=15&f,v=2):2==v?(p+=Pt(d),p+=Pt(f>>2),d=3&f,v=3):(p+=Pt(d<<2|f>>4),p+=Pt(15&f),v=0));return 1==v&&(p+=Pt(d<<2)),p}function Pe(l){var u,d=Ce(l),f=new Array;for(u=0;2*u<d.length;++u)f[u]=parseInt(d.substring(2*u,2*u+2),16);return f}function re(l,u,d){null!=l&&("number"==typeof l?this.fromNumber(l,u,d):this.fromString(l,null==u&&"string"!=typeof l?256:u))}function Ue(){return new re(null)}"Microsoft Internet Explorer"==q.appName?(re.prototype.am=function(u,d,f,p,v,C){for(var A=32767&d,F=d>>15;--C>=0;){var x=32767&this[u],L=this[u++]>>15,U=F*x+L*A;v=((x=A*x+((32767&U)<<15)+f[p]+(1073741823&v))>>>30)+(U>>>15)+F*L+(v>>>30),f[p++]=1073741823&x}return v},se=30):"Netscape"!=q.appName?(re.prototype.am=function(u,d,f,p,v,C){for(;--C>=0;){var A=d*this[u++]+f[p]+v;v=Math.floor(A/67108864),f[p++]=67108863&A}return v},se=26):(re.prototype.am=function(u,d,f,p,v,C){for(var A=16383&d,F=d>>14;--C>=0;){var x=16383&this[u],L=this[u++]>>14,U=F*x+L*A;v=((x=A*x+((16383&U)<<14)+f[p]+v)>>28)+(U>>14)+F*L,f[p++]=268435455&x}return v},se=28),re.prototype.DB=se,re.prototype.DM=(1<<se)-1,re.prototype.DV=1<<se,re.prototype.FV=Math.pow(2,52),re.prototype.F1=52-se,re.prototype.F2=2*se-52;var Tt,Dt,Sn=new Array;for(Tt="0".charCodeAt(0),Dt=0;Dt<=9;++Dt)Sn[Tt++]=Dt;for(Tt="a".charCodeAt(0),Dt=10;Dt<36;++Dt)Sn[Tt++]=Dt;for(Tt="A".charCodeAt(0),Dt=10;Dt<36;++Dt)Sn[Tt++]=Dt;function Pt(l){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(l)}function tn(l,u){return Sn[l.charCodeAt(u)]??-1}function nn(l){var u=Ue();return u.fromInt(l),u}function ot(l){var u,d=1;return 0!=(u=l>>>16)&&(l=u,d+=16),0!=(u=l>>8)&&(l=u,d+=8),0!=(u=l>>4)&&(l=u,d+=4),0!=(u=l>>2)&&(l=u,d+=2),0!=(u=l>>1)&&(l=u,d+=1),d}function qe(l){this.m=l}function kt(l){this.m=l,this.mp=l.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<l.DB-15)-1,this.mt2=2*l.t}function kn(l,u){return l&u}function Pn(l,u){return l|u}function Ln(l,u){return l^u}function Lt(l,u){return l&~u}function Fr(l){if(0==l)return-1;var u=0;return!(65535&l)&&(l>>=16,u+=16),!(255&l)&&(l>>=8,u+=8),!(15&l)&&(l>>=4,u+=4),!(3&l)&&(l>>=2,u+=2),!(1&l)&&++u,u}function At(l){for(var u=0;0!=l;)l&=l-1,++u;return u}function fn(){}function ht(l){return l}function ct(l){this.r2=Ue(),this.q3=Ue(),re.ONE.dlShiftTo(2*l.t,this.r2),this.mu=this.r2.divide(l),this.m=l}qe.prototype.convert=function(u){return u.s<0||u.compareTo(this.m)>=0?u.mod(this.m):u},qe.prototype.revert=function(u){return u},qe.prototype.reduce=function(u){u.divRemTo(this.m,null,u)},qe.prototype.mulTo=function(u,d,f){u.multiplyTo(d,f),this.reduce(f)},qe.prototype.sqrTo=function(u,d){u.squareTo(d),this.reduce(d)},kt.prototype.convert=function(u){var d=Ue();return u.abs().dlShiftTo(this.m.t,d),d.divRemTo(this.m,null,d),u.s<0&&d.compareTo(re.ZERO)>0&&this.m.subTo(d,d),d},kt.prototype.revert=function(u){var d=Ue();return u.copyTo(d),this.reduce(d),d},kt.prototype.reduce=function(u){for(;u.t<=this.mt2;)u[u.t++]=0;for(var d=0;d<this.m.t;++d){var f=32767&u[d],p=f*this.mpl+((f*this.mph+(u[d]>>15)*this.mpl&this.um)<<15)&u.DM;for(u[f=d+this.m.t]+=this.m.am(0,p,u,d,0,this.m.t);u[f]>=u.DV;)u[f]-=u.DV,u[++f]++}u.clamp(),u.drShiftTo(this.m.t,u),u.compareTo(this.m)>=0&&u.subTo(this.m,u)},kt.prototype.mulTo=function(u,d,f){u.multiplyTo(d,f),this.reduce(f)},kt.prototype.sqrTo=function(u,d){u.squareTo(d),this.reduce(d)},re.prototype.copyTo=function(u){for(var d=this.t-1;d>=0;--d)u[d]=this[d];u.t=this.t,u.s=this.s},re.prototype.fromInt=function(u){this.t=1,this.s=u<0?-1:0,u>0?this[0]=u:u<-1?this[0]=u+this.DV:this.t=0},re.prototype.fromString=function(u,d){var f;if(16==d)f=4;else if(8==d)f=3;else if(256==d)f=8;else if(2==d)f=1;else if(32==d)f=5;else{if(4!=d)return void this.fromRadix(u,d);f=2}this.t=0,this.s=0;for(var p=u.length,v=!1,C=0;--p>=0;){var A=8==f?255&u[p]:tn(u,p);A<0?"-"==u.charAt(p)&&(v=!0):(v=!1,0==C?this[this.t++]=A:C+f>this.DB?(this[this.t-1]|=(A&(1<<this.DB-C)-1)<<C,this[this.t++]=A>>this.DB-C):this[this.t-1]|=A<<C,(C+=f)>=this.DB&&(C-=this.DB))}8==f&&128&u[0]&&(this.s=-1,C>0&&(this[this.t-1]|=(1<<this.DB-C)-1<<C)),this.clamp(),v&&re.ZERO.subTo(this,this)},re.prototype.clamp=function(){for(var u=this.s&this.DM;this.t>0&&this[this.t-1]==u;)--this.t},re.prototype.dlShiftTo=function(u,d){var f;for(f=this.t-1;f>=0;--f)d[f+u]=this[f];for(f=u-1;f>=0;--f)d[f]=0;d.t=this.t+u,d.s=this.s},re.prototype.drShiftTo=function(u,d){for(var f=u;f<this.t;++f)d[f-u]=this[f];d.t=Math.max(this.t-u,0),d.s=this.s},re.prototype.lShiftTo=function(u,d){var f,p=u%this.DB,v=this.DB-p,C=(1<<v)-1,A=Math.floor(u/this.DB),F=this.s<<p&this.DM;for(f=this.t-1;f>=0;--f)d[f+A+1]=this[f]>>v|F,F=(this[f]&C)<<p;for(f=A-1;f>=0;--f)d[f]=0;d[A]=F,d.t=this.t+A+1,d.s=this.s,d.clamp()},re.prototype.rShiftTo=function(u,d){d.s=this.s;var f=Math.floor(u/this.DB);if(f>=this.t)d.t=0;else{var p=u%this.DB,v=this.DB-p,C=(1<<p)-1;d[0]=this[f]>>p;for(var A=f+1;A<this.t;++A)d[A-f-1]|=(this[A]&C)<<v,d[A-f]=this[A]>>p;p>0&&(d[this.t-f-1]|=(this.s&C)<<v),d.t=this.t-f,d.clamp()}},re.prototype.subTo=function(u,d){for(var f=0,p=0,v=Math.min(u.t,this.t);f<v;)p+=this[f]-u[f],d[f++]=p&this.DM,p>>=this.DB;if(u.t<this.t){for(p-=u.s;f<this.t;)p+=this[f],d[f++]=p&this.DM,p>>=this.DB;p+=this.s}else{for(p+=this.s;f<u.t;)p-=u[f],d[f++]=p&this.DM,p>>=this.DB;p-=u.s}d.s=p<0?-1:0,p<-1?d[f++]=this.DV+p:p>0&&(d[f++]=p),d.t=f,d.clamp()},re.prototype.multiplyTo=function(u,d){var f=this.abs(),p=u.abs(),v=f.t;for(d.t=v+p.t;--v>=0;)d[v]=0;for(v=0;v<p.t;++v)d[v+f.t]=f.am(0,p[v],d,v,0,f.t);d.s=0,d.clamp(),this.s!=u.s&&re.ZERO.subTo(d,d)},re.prototype.squareTo=function(u){for(var d=this.abs(),f=u.t=2*d.t;--f>=0;)u[f]=0;for(f=0;f<d.t-1;++f){var p=d.am(f,d[f],u,2*f,0,1);(u[f+d.t]+=d.am(f+1,2*d[f],u,2*f+1,p,d.t-f-1))>=d.DV&&(u[f+d.t]-=d.DV,u[f+d.t+1]=1)}u.t>0&&(u[u.t-1]+=d.am(f,d[f],u,2*f,0,1)),u.s=0,u.clamp()},re.prototype.divRemTo=function(u,d,f){var p=u.abs();if(!(p.t<=0)){var v=this.abs();if(v.t<p.t)return d?.fromInt(0),void(null!=f&&this.copyTo(f));null==f&&(f=Ue());var C=Ue(),A=this.s,F=u.s,x=this.DB-ot(p[p.t-1]);x>0?(p.lShiftTo(x,C),v.lShiftTo(x,f)):(p.copyTo(C),v.copyTo(f));var L=C.t,U=C[L-1];if(0!=U){var K=U*(1<<this.F1)+(L>1?C[L-2]>>this.F2:0),z=this.FV/K,ue=(1<<this.F1)/K,ce=1<<this.F2,ge=f.t,D=ge-L,N=d??Ue();for(C.dlShiftTo(D,N),f.compareTo(N)>=0&&(f[f.t++]=1,f.subTo(N,f)),re.ONE.dlShiftTo(L,N),N.subTo(C,C);C.t<L;)C[C.t++]=0;for(;--D>=0;){var R=f[--ge]==U?this.DM:Math.floor(f[ge]*z+(f[ge-1]+ce)*ue);if((f[ge]+=C.am(0,R,f,D,0,L))<R)for(C.dlShiftTo(D,N),f.subTo(N,f);f[ge]<--R;)f.subTo(N,f)}null!=d&&(f.drShiftTo(L,d),A!=F&&re.ZERO.subTo(d,d)),f.t=L,f.clamp(),x>0&&f.rShiftTo(x,f),A<0&&re.ZERO.subTo(f,f)}}},re.prototype.invDigit=function(){if(this.t<1)return 0;var u=this[0];if(!(1&u))return 0;var d=3&u;return(d=(d=(d=(d=d*(2-(15&u)*d)&15)*(2-(255&u)*d)&255)*(2-((65535&u)*d&65535))&65535)*(2-u*d%this.DV)%this.DV)>0?this.DV-d:-d},re.prototype.isEven=function(){return 0==(this.t>0?1&this[0]:this.s)},re.prototype.exp=function(u,d){if(u>4294967295||u<1)return re.ONE;var f=Ue(),p=Ue(),v=d.convert(this),C=ot(u)-1;for(v.copyTo(f);--C>=0;)if(d.sqrTo(f,p),(u&1<<C)>0)d.mulTo(p,v,f);else{var A=f;f=p,p=A}return d.revert(f)},re.prototype.toString=function(u){if(this.s<0)return"-"+this.negate().toString(u);var d;if(16==u)d=4;else if(8==u)d=3;else if(2==u)d=1;else if(32==u)d=5;else{if(4!=u)return this.toRadix(u);d=2}var f,p=(1<<d)-1,v=!1,C="",A=this.t,F=this.DB-A*this.DB%d;if(A-- >0)for(F<this.DB&&(f=this[A]>>F)>0&&(v=!0,C=Pt(f));A>=0;)F<d?(f=(this[A]&(1<<F)-1)<<d-F,f|=this[--A]>>(F+=this.DB-d)):(f=this[A]>>(F-=d)&p,F<=0&&(F+=this.DB,--A)),f>0&&(v=!0),v&&(C+=Pt(f));return v?C:"0"},re.prototype.negate=function(){var u=Ue();return re.ZERO.subTo(this,u),u},re.prototype.abs=function(){return this.s<0?this.negate():this},re.prototype.compareTo=function(u){var d=this.s-u.s;if(0!=d)return d;var f=this.t;if(0!=(d=f-u.t))return this.s<0?-d:d;for(;--f>=0;)if(0!=(d=this[f]-u[f]))return d;return 0},re.prototype.bitLength=function(){return this.t<=0?0:this.DB*(this.t-1)+ot(this[this.t-1]^this.s&this.DM)},re.prototype.mod=function(u){var d=Ue();return this.abs().divRemTo(u,null,d),this.s<0&&d.compareTo(re.ZERO)>0&&u.subTo(d,d),d},re.prototype.modPowInt=function(u,d){var f;return f=u<256||d.isEven()?new qe(d):new kt(d),this.exp(u,f)},re.ZERO=nn(0),re.ONE=nn(1),fn.prototype.convert=ht,fn.prototype.revert=ht,fn.prototype.mulTo=function(u,d,f){u.multiplyTo(d,f)},fn.prototype.sqrTo=function(u,d){u.squareTo(d)},ct.prototype.convert=function(u){if(u.s<0||u.t>2*this.m.t)return u.mod(this.m);if(u.compareTo(this.m)<0)return u;var d=Ue();return u.copyTo(d),this.reduce(d),d},ct.prototype.revert=function(u){return u},ct.prototype.reduce=function(u){for(u.drShiftTo(this.m.t-1,this.r2),u.t>this.m.t+1&&(u.t=this.m.t+1,u.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);u.compareTo(this.r2)<0;)u.dAddOffset(1,this.m.t+1);for(u.subTo(this.r2,u);u.compareTo(this.m)>=0;)u.subTo(this.m,u)},ct.prototype.mulTo=function(u,d,f){u.multiplyTo(d,f),this.reduce(f)},ct.prototype.sqrTo=function(u,d){u.squareTo(d),this.reduce(d)};var Y,oe,le,Z=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],_=(1<<26)/Z[Z.length-1];function S(){this.i=0,this.j=0,this.S=new Array}function ye(){!function(u){oe[le++]^=255&u,oe[le++]^=u>>8&255,oe[le++]^=u>>16&255,oe[le++]^=u>>24&255,le>=256&&(le-=256)}((new Date).getTime())}if(re.prototype.chunkSize=function(u){return Math.floor(Math.LN2*this.DB/Math.log(u))},re.prototype.toRadix=function(u){if(null==u&&(u=10),0==this.signum()||u<2||u>36)return"0";var d=this.chunkSize(u),f=Math.pow(u,d),p=nn(f),v=Ue(),C=Ue(),A="";for(this.divRemTo(p,v,C);v.signum()>0;)A=(f+C.intValue()).toString(u).substr(1)+A,v.divRemTo(p,v,C);return C.intValue().toString(u)+A},re.prototype.fromRadix=function(u,d){this.fromInt(0),null==d&&(d=10);for(var f=this.chunkSize(d),p=Math.pow(d,f),v=!1,C=0,A=0,F=0;F<u.length;++F){var x=tn(u,F);x<0?"-"==u.charAt(F)&&0==this.signum()&&(v=!0):(A=d*A+x,++C>=f&&(this.dMultiply(p),this.dAddOffset(A,0),C=0,A=0))}C>0&&(this.dMultiply(Math.pow(d,C)),this.dAddOffset(A,0)),v&&re.ZERO.subTo(this,this)},re.prototype.fromNumber=function(u,d,f){if("number"==typeof d)if(u<2)this.fromInt(1);else for(this.fromNumber(u,f),this.testBit(u-1)||this.bitwiseTo(re.ONE.shiftLeft(u-1),Pn,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(d);)this.dAddOffset(2,0),this.bitLength()>u&&this.subTo(re.ONE.shiftLeft(u-1),this);else{var p=new Array,v=7&u;p.length=1+(u>>3),d.nextBytes(p),v>0?p[0]&=(1<<v)-1:p[0]=0,this.fromString(p,256)}},re.prototype.bitwiseTo=function(u,d,f){var p,v,C=Math.min(u.t,this.t);for(p=0;p<C;++p)f[p]=d(this[p],u[p]);if(u.t<this.t){for(v=u.s&this.DM,p=C;p<this.t;++p)f[p]=d(this[p],v);f.t=this.t}else{for(v=this.s&this.DM,p=C;p<u.t;++p)f[p]=d(v,u[p]);f.t=u.t}f.s=d(this.s,u.s),f.clamp()},re.prototype.changeBit=function(u,d){var f=re.ONE.shiftLeft(u);return this.bitwiseTo(f,d,f),f},re.prototype.addTo=function(u,d){for(var f=0,p=0,v=Math.min(u.t,this.t);f<v;)p+=this[f]+u[f],d[f++]=p&this.DM,p>>=this.DB;if(u.t<this.t){for(p+=u.s;f<this.t;)p+=this[f],d[f++]=p&this.DM,p>>=this.DB;p+=this.s}else{for(p+=this.s;f<u.t;)p+=u[f],d[f++]=p&this.DM,p>>=this.DB;p+=u.s}d.s=p<0?-1:0,p>0?d[f++]=p:p<-1&&(d[f++]=this.DV+p),d.t=f,d.clamp()},re.prototype.dMultiply=function(u){this[this.t]=this.am(0,u-1,this,0,0,this.t),++this.t,this.clamp()},re.prototype.dAddOffset=function(u,d){if(0!=u){for(;this.t<=d;)this[this.t++]=0;for(this[d]+=u;this[d]>=this.DV;)this[d]-=this.DV,++d>=this.t&&(this[this.t++]=0),++this[d]}},re.prototype.multiplyLowerTo=function(u,d,f){var p,v=Math.min(this.t+u.t,d);for(f.s=0,f.t=v;v>0;)f[--v]=0;for(p=f.t-this.t;v<p;++v)f[v+this.t]=this.am(0,u[v],f,v,0,this.t);for(p=Math.min(u.t,d);v<p;++v)this.am(0,u[v],f,v,0,d-v);f.clamp()},re.prototype.multiplyUpperTo=function(u,d,f){--d;var p=f.t=this.t+u.t-d;for(f.s=0;--p>=0;)f[p]=0;for(p=Math.max(d-this.t,0);p<u.t;++p)f[this.t+p-d]=this.am(d-p,u[p],f,0,0,this.t+p-d);f.clamp(),f.drShiftTo(1,f)},re.prototype.modInt=function(u){if(u<=0)return 0;var d=this.DV%u,f=this.s<0?u-1:0;if(this.t>0)if(0==d)f=this[0]%u;else for(var p=this.t-1;p>=0;--p)f=(d*f+this[p])%u;return f},re.prototype.millerRabin=function(u){var d=this.subtract(re.ONE),f=d.getLowestSetBit();if(f<=0)return!1;var p=d.shiftRight(f);(u=u+1>>1)>Z.length&&(u=Z.length);for(var v=Ue(),C=0;C<u;++C){v.fromInt(Z[Math.floor(Math.random()*Z.length)]);var A=v.modPow(p,this);if(0!=A.compareTo(re.ONE)&&0!=A.compareTo(d)){for(var F=1;F++<f&&0!=A.compareTo(d);)if(0==(A=A.modPowInt(2,this)).compareTo(re.ONE))return!1;if(0!=A.compareTo(d))return!1}}return!0},re.prototype.clone=
/*! (c) Tom Wu | http://www-cs-students.stanford.edu/~tjw/jsbn/
               */
function(){var u=Ue();return this.copyTo(u),u},re.prototype.intValue=function(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]},re.prototype.byteValue=function(){return 0==this.t?this.s:this[0]<<24>>24},re.prototype.shortValue=function(){return 0==this.t?this.s:this[0]<<16>>16},re.prototype.signum=function(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1},re.prototype.toByteArray=function(){var u=this.t,d=new Array;d[0]=this.s;var f,p=this.DB-u*this.DB%8,v=0;if(u-- >0)for(p<this.DB&&(f=this[u]>>p)!=(this.s&this.DM)>>p&&(d[v++]=f|this.s<<this.DB-p);u>=0;)p<8?(f=(this[u]&(1<<p)-1)<<8-p,f|=this[--u]>>(p+=this.DB-8)):(f=this[u]>>(p-=8)&255,p<=0&&(p+=this.DB,--u)),128&f&&(f|=-256),0==v&&(128&this.s)!=(128&f)&&++v,(v>0||f!=this.s)&&(d[v++]=f);return d},re.prototype.equals=function(u){return 0==this.compareTo(u)},re.prototype.min=function(u){return this.compareTo(u)<0?this:u},re.prototype.max=function(u){return this.compareTo(u)>0?this:u},re.prototype.and=function(u){var d=Ue();return this.bitwiseTo(u,kn,d),d},re.prototype.or=function(u){var d=Ue();return this.bitwiseTo(u,Pn,d),d},re.prototype.xor=function(u){var d=Ue();return this.bitwiseTo(u,Ln,d),d},re.prototype.andNot=function(u){var d=Ue();return this.bitwiseTo(u,Lt,d),d},re.prototype.not=function(){for(var u=Ue(),d=0;d<this.t;++d)u[d]=this.DM&~this[d];return u.t=this.t,u.s=~this.s,u},re.prototype.shiftLeft=function(u){var d=Ue();return u<0?this.rShiftTo(-u,d):this.lShiftTo(u,d),d},re.prototype.shiftRight=function(u){var d=Ue();return u<0?this.lShiftTo(-u,d):this.rShiftTo(u,d),d},re.prototype.getLowestSetBit=function(){for(var u=0;u<this.t;++u)if(0!=this[u])return u*this.DB+Fr(this[u]);return this.s<0?this.t*this.DB:-1},re.prototype.bitCount=function(){for(var u=0,d=this.s&this.DM,f=0;f<this.t;++f)u+=At(this[f]^d);return u},re.prototype.testBit=function(u){var d=Math.floor(u/this.DB);return d>=this.t?0!=this.s:0!=(this[d]&1<<u%this.DB)},re.prototype.setBit=function(u){return this.changeBit(u,Pn)},re.prototype.clearBit=function(u){return this.changeBit(u,Lt)},re.prototype.flipBit=function(u){return this.changeBit(u,Ln)},re.prototype.add=function(u){var d=Ue();return this.addTo(u,d),d},re.prototype.subtract=function(u){var d=Ue();return this.subTo(u,d),d},re.prototype.multiply=function(u){var d=Ue();return this.multiplyTo(u,d),d},re.prototype.divide=function(u){var d=Ue();return this.divRemTo(u,d,null),d},re.prototype.remainder=function(u){var d=Ue();return this.divRemTo(u,null,d),d},re.prototype.divideAndRemainder=function(u){var d=Ue(),f=Ue();return this.divRemTo(u,d,f),new Array(d,f)},re.prototype.modPow=function(u,d){var f,p,v=u.bitLength(),C=nn(1);if(v<=0)return C;f=v<18?1:v<48?3:v<144?4:v<768?5:6,p=v<8?new qe(d):d.isEven()?new ct(d):new kt(d);var A=new Array,F=3,x=f-1,L=(1<<f)-1;if(A[1]=p.convert(this),f>1){var U=Ue();for(p.sqrTo(A[1],U);F<=L;)A[F]=Ue(),p.mulTo(U,A[F-2],A[F]),F+=2}var K,z,ue=u.t-1,ce=!0,ge=Ue();for(v=ot(u[ue])-1;ue>=0;){for(v>=x?K=u[ue]>>v-x&L:(K=(u[ue]&(1<<v+1)-1)<<x-v,ue>0&&(K|=u[ue-1]>>this.DB+v-x)),F=f;!(1&K);)K>>=1,--F;if((v-=F)<0&&(v+=this.DB,--ue),ce)A[K].copyTo(C),ce=!1;else{for(;F>1;)p.sqrTo(C,ge),p.sqrTo(ge,C),F-=2;F>0?p.sqrTo(C,ge):(z=C,C=ge,ge=z),p.mulTo(ge,A[K],C)}for(;ue>=0&&!(u[ue]&1<<v);)p.sqrTo(C,ge),z=C,C=ge,ge=z,--v<0&&(v=this.DB-1,--ue)}return p.revert(C)},re.prototype.modInverse=function(u){var d=u.isEven();if(this.isEven()&&d||0==u.signum())return re.ZERO;for(var f=u.clone(),p=this.clone(),v=nn(1),C=nn(0),A=nn(0),F=nn(1);0!=f.signum();){for(;f.isEven();)f.rShiftTo(1,f),d?(v.isEven()&&C.isEven()||(v.addTo(this,v),C.subTo(u,C)),v.rShiftTo(1,v)):C.isEven()||C.subTo(u,C),C.rShiftTo(1,C);for(;p.isEven();)p.rShiftTo(1,p),d?(A.isEven()&&F.isEven()||(A.addTo(this,A),F.subTo(u,F)),A.rShiftTo(1,A)):F.isEven()||F.subTo(u,F),F.rShiftTo(1,F);f.compareTo(p)>=0?(f.subTo(p,f),d&&v.subTo(A,v),C.subTo(F,C)):(p.subTo(f,p),d&&A.subTo(v,A),F.subTo(C,F))}return 0!=p.compareTo(re.ONE)?re.ZERO:F.compareTo(u)>=0?F.subtract(u):F.signum()<0?(F.addTo(u,F),F.signum()<0?F.add(u):F):F},re.prototype.pow=function(u){return this.exp(u,new fn)},re.prototype.gcd=function(u){var d=this.s<0?this.negate():this.clone(),f=u.s<0?u.negate():u.clone();if(d.compareTo(f)<0){var p=d;d=f,f=p}var v=d.getLowestSetBit(),C=f.getLowestSetBit();if(C<0)return d;for(v<C&&(C=v),C>0&&(d.rShiftTo(C,d),f.rShiftTo(C,f));d.signum()>0;)(v=d.getLowestSetBit())>0&&d.rShiftTo(v,d),(v=f.getLowestSetBit())>0&&f.rShiftTo(v,f),d.compareTo(f)>=0?(d.subTo(f,d),d.rShiftTo(1,d)):(f.subTo(d,f),f.rShiftTo(1,f));return C>0&&f.lShiftTo(C,f),f},re.prototype.isProbablePrime=function(u){var d,f=this.abs();if(1==f.t&&f[0]<=Z[Z.length-1]){for(d=0;d<Z.length;++d)if(f[0]==Z[d])return!0;return!1}if(f.isEven())return!1;for(d=1;d<Z.length;){for(var p=Z[d],v=d+1;v<Z.length&&p<_;)p*=Z[v++];for(p=f.modInt(p);d<v;)if(p%Z[d++]==0)return!1}return f.millerRabin(u)},re.prototype.square=function(){var u=Ue();return this.squareTo(u),u},S.prototype.init=function(u){var d,f,p;for(d=0;d<256;++d)this.S[d]=d;for(f=0,d=0;d<256;++d)p=this.S[d],this.S[d]=this.S[f=f+this.S[d]+u[d%u.length]&255],this.S[f]=p;this.i=0,this.j=0},S.prototype.next=function(){var u;return this.i=this.i+1&255,this.j=this.j+this.S[this.i]&255,u=this.S[this.i],this.S[this.i]=this.S[this.j],this.S[this.j]=u,this.S[u+this.S[this.i]&255]},null==oe){var Oe;if(oe=new Array,le=0,void 0!==M&&(void 0!==M.crypto||void 0!==M.msCrypto)){var Qe=M.crypto||M.msCrypto;if(Qe.getRandomValues){var yt=new Uint8Array(32);for(Qe.getRandomValues(yt),Oe=0;Oe<32;++Oe)oe[le++]=yt[Oe]}else if("Netscape"==q.appName&&q.appVersion<"5"){var ut=M.crypto.random(32);for(Oe=0;Oe<ut.length;++Oe)oe[le++]=255&ut.charCodeAt(Oe)}}for(;le<256;)Oe=Math.floor(65536*Math.random()),oe[le++]=Oe>>>8,oe[le++]=255&Oe;le=0,ye()}function Kt(){if(null==Y){for(ye(),(Y=new S).init(oe),le=0;le<oe.length;++le)oe[le]=0;le=0}return Y.next()}function bn(){}function Fn(l,u){return new re(l,u)}function yr(l,u,d){for(var f="",p=0;f.length<u;)f+=d(String.fromCharCode.apply(String,l.concat([(4278190080&p)>>24,(16711680&p)>>16,(65280&p)>>8,255&p]))),p+=1;return f}function $e(){this.n=null,this.e=0,this.d=null,this.p=null,this.q=null,this.dmp1=null,this.dmq1=null,this.coeff=null}function Ut(l,u){this.x=u,this.q=l}function st(l,u,d,f){this.curve=l,this.x=u,this.y=d,this.z=f??re.ONE,this.zinv=null}function jr(l,u,d){this.q=l,this.a=this.fromBigInteger(u),this.b=this.fromBigInteger(d),this.infinity=new st(this,null,null)}bn.prototype.nextBytes=function(u){var d;for(d=0;d<u.length;++d)u[d]=Kt()},$e.prototype.doPublic=function(u){return u.modPowInt(this.e,this.n)},$e.prototype.setPublic=function(u,d){if(this.isPublic=!0,this.isPrivate=!1,"string"!=typeof u)this.n=u,this.e=d;else{if(!(null!=u&&null!=d&&u.length>0&&d.length>0))throw"Invalid RSA public key";this.n=Fn(u,16),this.e=parseInt(d,16)}},$e.prototype.encrypt=function(u){var d=function(C,A){if(A<C.length+11)throw"Message too long for RSA";for(var F=new Array,x=C.length-1;x>=0&&A>0;){var L=C.charCodeAt(x--);L<128?F[--A]=L:L>127&&L<2048?(F[--A]=63&L|128,F[--A]=L>>6|192):(F[--A]=63&L|128,F[--A]=L>>6&63|128,F[--A]=L>>12|224)}F[--A]=0;for(var U=new bn,K=new Array;A>2;){for(K[0]=0;0==K[0];)U.nextBytes(K);F[--A]=K[0]}return F[--A]=2,F[--A]=0,new re(F)}(u,this.n.bitLength()+7>>3);if(null==d)return null;var f=this.doPublic(d);if(null==f)return null;var p=f.toString(16);return 1&p.length?"0"+p:p},$e.prototype.encryptOAEP=function(u,d,f){var p=function(F,x,L,U){var K=P.crypto.MessageDigest,z=P.crypto.Util,ue=null;if(L||(L="sha1"),"string"==typeof L&&(ue=K.getCanonicalAlgName(L),U=K.getHashLength(ue),L=function(J){return Vn(z.hashHex(vr(J),ue))}),F.length+2*U+2>x)throw"Message too long for RSA";var ce,ge="";for(ce=0;ce<x-F.length-2*U-2;ce+=1)ge+="\0";var D=L("")+ge+"\x01"+F,N=new Array(U);(new bn).nextBytes(N);var R=yr(N,D.length,L),W=[];for(ce=0;ce<D.length;ce+=1)W[ce]=D.charCodeAt(ce)^R.charCodeAt(ce);var fe=yr(W,N.length,L),me=[0];for(ce=0;ce<N.length;ce+=1)me[ce+1]=N[ce]^fe.charCodeAt(ce);return new re(me.concat(W))}(u,this.n.bitLength()+7>>3,d,f);if(null==p)return null;var v=this.doPublic(p);if(null==v)return null;var C=v.toString(16);return 1&C.length?"0"+C:C},$e.prototype.type="RSA",Ut.prototype.equals=function(u){return u==this||this.q.equals(u.q)&&this.x.equals(u.x)},Ut.prototype.toBigInteger=function(){return this.x},Ut.prototype.negate=function(){return new Ut(this.q,this.x.negate().mod(this.q))},Ut.prototype.add=function(u){return new Ut(this.q,this.x.add(u.toBigInteger()).mod(this.q))},Ut.prototype.subtract=function(u){return new Ut(this.q,this.x.subtract(u.toBigInteger()).mod(this.q))},Ut.prototype.multiply=function(u){return new Ut(this.q,this.x.multiply(u.toBigInteger()).mod(this.q))},Ut.prototype.square=function(){return new Ut(this.q,this.x.square().mod(this.q))},Ut.prototype.divide=function(u){return new Ut(this.q,this.x.multiply(u.toBigInteger().modInverse(this.q)).mod(this.q))},st.prototype.getX=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.x.toBigInteger().multiply(this.zinv).mod(this.curve.q))},st.prototype.getY=function(){return null==this.zinv&&(this.zinv=this.z.modInverse(this.curve.q)),this.curve.fromBigInteger(this.y.toBigInteger().multiply(this.zinv).mod(this.curve.q))},st.prototype.equals=function(u){return u==this||(this.isInfinity()?u.isInfinity():u.isInfinity()?this.isInfinity():!!u.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(u.z)).mod(this.curve.q).equals(re.ZERO)&&u.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(u.z)).mod(this.curve.q).equals(re.ZERO))},st.prototype.isInfinity=function(){return null==this.x&&null==this.y||this.z.equals(re.ZERO)&&!this.y.toBigInteger().equals(re.ZERO)},st.prototype.negate=function(){return new st(this.curve,this.x,this.y.negate(),this.z)},st.prototype.add=function(u){if(this.isInfinity())return u;if(u.isInfinity())return this;var d=u.y.toBigInteger().multiply(this.z).subtract(this.y.toBigInteger().multiply(u.z)).mod(this.curve.q),f=u.x.toBigInteger().multiply(this.z).subtract(this.x.toBigInteger().multiply(u.z)).mod(this.curve.q);if(re.ZERO.equals(f))return re.ZERO.equals(d)?this.twice():this.curve.getInfinity();var p=new re("3"),v=this.x.toBigInteger(),C=this.y.toBigInteger(),A=(u.x.toBigInteger(),u.y.toBigInteger(),f.square()),F=A.multiply(f),x=v.multiply(A),L=d.square().multiply(this.z),U=L.subtract(x.shiftLeft(1)).multiply(u.z).subtract(F).multiply(f).mod(this.curve.q),K=x.multiply(p).multiply(d).subtract(C.multiply(F)).subtract(L.multiply(d)).multiply(u.z).add(d.multiply(F)).mod(this.curve.q),z=F.multiply(this.z).multiply(u.z).mod(this.curve.q);return new st(this.curve,this.curve.fromBigInteger(U),this.curve.fromBigInteger(K),z)},st.prototype.twice=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var u=new re("3"),d=this.x.toBigInteger(),f=this.y.toBigInteger(),p=f.multiply(this.z),v=p.multiply(f).mod(this.curve.q),C=this.curve.a.toBigInteger(),A=d.square().multiply(u);re.ZERO.equals(C)||(A=A.add(this.z.square().multiply(C)));var F=(A=A.mod(this.curve.q)).square().subtract(d.shiftLeft(3).multiply(v)).shiftLeft(1).multiply(p).mod(this.curve.q),x=A.multiply(u).multiply(d).subtract(v.shiftLeft(1)).shiftLeft(2).multiply(v).subtract(A.square().multiply(A)).mod(this.curve.q),L=p.square().multiply(p).shiftLeft(3).mod(this.curve.q);return new st(this.curve,this.curve.fromBigInteger(F),this.curve.fromBigInteger(x),L)},st.prototype.multiply=function(u){if(this.isInfinity())return this;if(0==u.signum())return this.curve.getInfinity();var d,f=u,p=f.multiply(new re("3")),v=this.negate(),C=this,A=this.curve.q.subtract(u),F=A.multiply(new re("3")),x=new st(this.curve,this.x,this.y),L=x.negate();for(d=p.bitLength()-2;d>0;--d){C=C.twice();var U=p.testBit(d);U!=f.testBit(d)&&(C=C.add(U?this:v))}for(d=F.bitLength()-2;d>0;--d){x=x.twice();var K=F.testBit(d);K!=A.testBit(d)&&(x=x.add(K?x:L))}return C},st.prototype.multiplyTwo=function(u,d,f){var p;p=u.bitLength()>f.bitLength()?u.bitLength()-1:f.bitLength()-1;for(var v=this.curve.getInfinity(),C=this.add(d);p>=0;)v=v.twice(),u.testBit(p)?v=f.testBit(p)?v.add(C):v.add(this):f.testBit(p)&&(v=v.add(d)),--p;return v},jr.prototype.getQ=function(){return this.q},jr.prototype.getA=function(){return this.a},jr.prototype.getB=function(){return this.b},jr.prototype.equals=function(u){return u==this||this.q.equals(u.q)&&this.a.equals(u.a)&&this.b.equals(u.b)},jr.prototype.getInfinity=function(){return this.infinity},jr.prototype.fromBigInteger=function(u){return new Ut(this.q,u)},jr.prototype.decodePointHex=function(u){switch(parseInt(u.substr(0,2),16)){case 0:return this.infinity;case 2:case 3:default:return null;case 4:case 6:case 7:var d=(u.length-2)/2,f=u.substr(2,d),p=u.substr(d+2,d);return new st(this,this.fromBigInteger(new re(f,16)),this.fromBigInteger(new re(p,16)))}},
/*! (c) Stefan Thomas | https://github.com/bitcoinjs/bitcoinjs-lib
               */
Ut.prototype.getByteLength=function(){return Math.floor((this.toBigInteger().bitLength()+7)/8)},st.prototype.getEncoded=function(l){var u=function(C,A){var F=C.toByteArrayUnsigned();if(A<F.length)F=F.slice(F.length-A);else for(;A>F.length;)F.unshift(0);return F},d=this.getX().toBigInteger(),f=this.getY().toBigInteger(),p=u(d,32);return l?f.isEven()?p.unshift(2):p.unshift(3):(p.unshift(4),p=p.concat(u(f,32))),p},st.decodeFrom=function(l,u){var d=u.length-1,f=u.slice(1,1+d/2),p=u.slice(1+d/2,1+d);f.unshift(0),p.unshift(0);var v=new re(f),C=new re(p);return new st(l,l.fromBigInteger(v),l.fromBigInteger(C))},st.decodeFromHex=function(l,u){u.substr(0,2);var d=u.length-2,f=u.substr(2,d/2),p=u.substr(2+d/2,d/2),v=new re(f,16),C=new re(p,16);return new st(l,l.fromBigInteger(v),l.fromBigInteger(C))},st.prototype.add2D=function(l){if(this.isInfinity())return l;if(l.isInfinity())return this;if(this.x.equals(l.x))return this.y.equals(l.y)?this.twice():this.curve.getInfinity();var u=l.x.subtract(this.x),d=l.y.subtract(this.y).divide(u),f=d.square().subtract(this.x).subtract(l.x),p=d.multiply(this.x.subtract(f)).subtract(this.y);return new st(this.curve,f,p)},st.prototype.twice2D=function(){if(this.isInfinity())return this;if(0==this.y.toBigInteger().signum())return this.curve.getInfinity();var l=this.curve.fromBigInteger(re.valueOf(2)),u=this.curve.fromBigInteger(re.valueOf(3)),d=this.x.square().multiply(u).add(this.curve.a).divide(this.y.multiply(l)),f=d.square().subtract(this.x.multiply(l)),p=d.multiply(this.x.subtract(f)).subtract(this.y);return new st(this.curve,f,p)},st.prototype.multiply2D=function(l){if(this.isInfinity())return this;if(0==l.signum())return this.curve.getInfinity();var u,d=l,f=d.multiply(new re("3")),p=this.negate(),v=this;for(u=f.bitLength()-2;u>0;--u){v=v.twice();var C=f.testBit(u);C!=d.testBit(u)&&(v=v.add2D(C?this:p))}return v},st.prototype.isOnCurve=function(){var l=this.getX().toBigInteger(),u=this.getY().toBigInteger(),d=this.curve.getA().toBigInteger(),f=this.curve.getB().toBigInteger(),p=this.curve.getQ(),v=u.multiply(u).mod(p),C=l.multiply(l).multiply(l).add(d.multiply(l)).add(f).mod(p);return v.equals(C)},st.prototype.toString=function(){return"("+this.getX().toBigInteger().toString()+","+this.getY().toBigInteger().toString()+")"},st.prototype.validate=function(){var l=this.curve.getQ();if(this.isInfinity())throw new Error("Point is at infinity.");var u=this.getX().toBigInteger(),d=this.getY().toBigInteger();if(u.compareTo(re.ONE)<0||u.compareTo(l.subtract(re.ONE))>0)throw new Error("x coordinate out of bounds");if(d.compareTo(re.ONE)<0||d.compareTo(l.subtract(re.ONE))>0)throw new Error("y coordinate out of bounds");if(!this.isOnCurve())throw new Error("Point is not on the curve.");if(this.multiply(l).isInfinity())throw new Error("Point is not a scalar multiple of G.");return!0};var El=function(){var l=new RegExp('(?:false|true|null|[\\{\\}\\[\\]]|(?:-?\\b(?:0|[1-9][0-9]*)(?:\\.[0-9]+)?(?:[eE][+-]?[0-9]+)?\\b)|(?:"(?:[^\\0-\\x08\\x0a-\\x1f"\\\\]|\\\\(?:["/\\\\bfnrt]|u[0-9A-Fa-f]{4}))*"))',"g"),u=new RegExp("\\\\(?:([^u])|u(.{4}))","g"),d={'"':'"',"/":"/","\\":"\\",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"};function f(C,A,F){return A?d[A]:String.fromCharCode(parseInt(F,16))}var p=new String(""),v=Object.hasOwnProperty;return function(C,A){var F,x,L=C.match(l),U=L[0],K=!1;"{"===U?F={}:"["===U?F=[]:(F=[],K=!0);for(var z=[F],ue=1-K,ce=L.length;ue<ce;++ue){var ge;switch((U=L[ue]).charCodeAt(0)){default:(ge=z[0])[x||ge.length]=+U,x=void 0;break;case 34:if(-1!==(U=U.substring(1,U.length-1)).indexOf("\\")&&(U=U.replace(u,f)),ge=z[0],!x){if(!(ge instanceof Array)){x=U||p;break}x=ge.length}ge[x]=U,x=void 0;break;case 91:z.unshift((ge=z[0])[x||ge.length]=[]),x=void 0;break;case 93:case 125:z.shift();break;case 102:(ge=z[0])[x||ge.length]=!1,x=void 0;break;case 110:(ge=z[0])[x||ge.length]=null,x=void 0;break;case 116:(ge=z[0])[x||ge.length]=!0,x=void 0;break;case 123:z.unshift((ge=z[0])[x||ge.length]={}),x=void 0}}if(K){if(1!==z.length)throw new Error;F=F[0]}else if(z.length)throw new Error;return A&&(F=function D(N,R){var W=N[R];if(W&&"object"===(void 0===W?"undefined":b(W))){var fe=null;for(var me in W)if(v.call(W,me)&&W!==N){var xe=D(W,me);void 0!==xe?W[me]=xe:(fe||(fe=[]),fe.push(me))}if(fe)for(var J=fe.length;--J>=0;)delete W[fe[J]]}return A.call(N,R,W)}({"":F},"")),F}}();void 0!==P&&P||(k.KJUR=P={}),void 0!==P.asn1&&P.asn1||(P.asn1={}),P.asn1.ASN1Util=new function(){this.integerToByteHex=function(l){var u=l.toString(16);return u.length%2==1&&(u="0"+u),u},this.bigIntToMinTwosComplementsHex=function(l){var u=l.toString(16);if("-"!=u.substr(0,1))u.length%2==1?u="0"+u:u.match(/^[0-7]/)||(u="00"+u);else{var d=u.substr(1).length;d%2==1?d+=1:u.match(/^[0-7]/)||(d+=2);for(var f="",p=0;p<d;p++)f+="f";u=new re(f,16).xor(l).add(re.ONE).toString(16).replace(/^-/,"")}return u},this.getPEMStringFromHex=function(l,u){return Bn(l,u)},this.newObject=function(l){var u=P.asn1,d=u.ASN1Object,f=u.DERBoolean,p=u.DERInteger,v=u.DERBitString,C=u.DEROctetString,A=u.DERNull,F=u.DERObjectIdentifier,x=u.DEREnumerated,L=u.DERUTF8String,U=u.DERNumericString,K=u.DERPrintableString,z=u.DERTeletexString,ue=u.DERIA5String,ce=u.DERUTCTime,ge=u.DERGeneralizedTime,D=u.DERVisibleString,N=u.DERBMPString,R=u.DERSequence,W=u.DERSet,fe=u.DERTaggedObject,me=u.ASN1Util.newObject;if(l instanceof u.ASN1Object)return l;var xe=Object.keys(l);if(1!=xe.length)throw new Error("key of param shall be only one.");var J=xe[0];if(-1==":asn1:bool:int:bitstr:octstr:null:oid:enum:utf8str:numstr:prnstr:telstr:ia5str:utctime:gentime:visstr:bmpstr:seq:set:tag:".indexOf(":"+J+":"))throw new Error("undefined key: "+J);if("bool"==J)return new f(l[J]);if("int"==J)return new p(l[J]);if("bitstr"==J)return new v(l[J]);if("octstr"==J)return new C(l[J]);if("null"==J)return new A(l[J]);if("oid"==J)return new F(l[J]);if("enum"==J)return new x(l[J]);if("utf8str"==J)return new L(l[J]);if("numstr"==J)return new U(l[J]);if("prnstr"==J)return new K(l[J]);if("telstr"==J)return new z(l[J]);if("ia5str"==J)return new ue(l[J]);if("utctime"==J)return new ce(l[J]);if("gentime"==J)return new ge(l[J]);if("visstr"==J)return new D(l[J]);if("bmpstr"==J)return new N(l[J]);if("asn1"==J)return new d(l[J]);if("seq"==J){for(var tt=l[J],Ee=[],De=0;De<tt.length;De++){var It=me(tt[De]);Ee.push(It)}return new R({array:Ee})}if("set"==J){for(tt=l[J],Ee=[],De=0;De<tt.length;De++)It=me(tt[De]),Ee.push(It);return new W({array:Ee})}if("tag"==J){var Ht=l[J];if("[object Array]"===Object.prototype.toString.call(Ht)&&3==Ht.length){var Mt=me(Ht[2]);return new fe({tag:Ht[0],explicit:Ht[1],obj:Mt})}return new fe(Ht)}},this.jsonToASN1HEX=function(l){return this.newObject(l).getEncodedHex()}},P.asn1.ASN1Util.oidHexToInt=function(l){for(var u="",d=parseInt(l.substr(0,2),16),f=(u=Math.floor(d/40)+"."+d%40,""),p=2;p<l.length;p+=2){var v=("00000000"+parseInt(l.substr(p,2),16).toString(2)).slice(-8);f+=v.substr(1,7),"0"==v.substr(0,1)&&(u=u+"."+new re(f,2).toString(10),f="")}return u},P.asn1.ASN1Util.oidIntToHex=function(l){var u=function(F){var x=F.toString(16);return 1==x.length&&(x="0"+x),x},d=function(F){var x="",L=new re(F,10).toString(2),U=7-L.length%7;7==U&&(U=0);for(var K="",z=0;z<U;z++)K+="0";for(L=K+L,z=0;z<L.length-1;z+=7){var ue=L.substr(z,7);z!=L.length-7&&(ue="1"+ue),x+=u(parseInt(ue,2))}return x};if(!l.match(/^[0-9.]+$/))throw"malformed oid string: "+l;var f="",p=l.split("."),v=40*parseInt(p[0])+parseInt(p[1]);f+=u(v),p.splice(0,2);for(var C=0;C<p.length;C++)f+=d(p[C]);return f},P.asn1.ASN1Object=function(l){this.params=null,this.getLengthHexFromValue=function(){if(void 0===this.hV||null==this.hV)throw new Error("this.hV is null or undefined");if(this.hV.length%2==1)throw new Error("value hex must be even length: n=0,v="+this.hV);var u=this.hV.length/2,d=u.toString(16);if(d.length%2==1&&(d="0"+d),u<128)return d;var f=d.length/2;if(f>15)throw"ASN.1 length too long to represent by 8x: n = "+u.toString(16);return(128+f).toString(16)+d},this.getEncodedHex=function(){return(null==this.hTLV||this.isModified)&&(this.hV=this.getFreshValueHex(),this.hL=this.getLengthHexFromValue(),this.hTLV=this.hT+this.hL+this.hV,this.isModified=!1),this.hTLV},this.getValueHex=function(){return this.getEncodedHex(),this.hV},this.getFreshValueHex=function(){return""},this.setByParam=function(u){this.params=u},null!=l&&null!=l.tlv&&(this.hTLV=l.tlv,this.isModified=!1)},P.asn1.DERAbstractString=function(l){P.asn1.DERAbstractString.superclass.constructor.call(this),this.getString=function(){return this.s},this.setString=function(u){this.hTLV=null,this.isModified=!0,this.s=u,this.hV=Ca(this.s).toLowerCase()},this.setStringHex=function(u){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=u},this.getFreshValueHex=function(){return this.hV},void 0!==l&&("string"==typeof l?this.setString(l):void 0!==l.str?this.setString(l.str):void 0!==l.hex&&this.setStringHex(l.hex))},w.lang.extend(P.asn1.DERAbstractString,P.asn1.ASN1Object),P.asn1.DERAbstractTime=function(l){P.asn1.DERAbstractTime.superclass.constructor.call(this),this.localDateToUTC=function(u){var d=u.getTime()+6e4*u.getTimezoneOffset();return new Date(d)},this.formatDate=function(u,d,f){var p=this.zeroPadding,v=this.localDateToUTC(u),C=String(v.getFullYear());"utc"==d&&(C=C.substr(2,2));var A=C+p(String(v.getMonth()+1),2)+p(String(v.getDate()),2)+p(String(v.getHours()),2)+p(String(v.getMinutes()),2)+p(String(v.getSeconds()),2);if(!0===f){var F=v.getMilliseconds();if(0!=F){var x=p(String(F),3);A=A+"."+(x=x.replace(/[0]+$/,""))}}return A+"Z"},this.zeroPadding=function(u,d){return u.length>=d?u:new Array(d-u.length+1).join("0")+u},this.getString=function(){return this.s},this.setString=function(u){this.hTLV=null,this.isModified=!0,this.s=u,this.hV=$r(u)},this.setByDateValue=function(u,d,f,p,v,C){var A=new Date(Date.UTC(u,d-1,f,p,v,C,0));this.setByDate(A)},this.getFreshValueHex=function(){return this.hV}},w.lang.extend(P.asn1.DERAbstractTime,P.asn1.ASN1Object),P.asn1.DERAbstractStructured=function(l){P.asn1.DERAbstractString.superclass.constructor.call(this),this.setByASN1ObjectArray=function(u){this.hTLV=null,this.isModified=!0,this.asn1Array=u},this.appendASN1Object=function(u){this.hTLV=null,this.isModified=!0,this.asn1Array.push(u)},this.asn1Array=new Array,void 0!==l&&void 0!==l.array&&(this.asn1Array=l.array)},w.lang.extend(P.asn1.DERAbstractStructured,P.asn1.ASN1Object),P.asn1.DERBoolean=function(l){P.asn1.DERBoolean.superclass.constructor.call(this),this.hT="01",this.hTLV=0==l?"010100":"0101ff"},w.lang.extend(P.asn1.DERBoolean,P.asn1.ASN1Object),P.asn1.DERInteger=function(l){P.asn1.DERInteger.superclass.constructor.call(this),this.hT="02",this.setByBigInteger=function(u){this.hTLV=null,this.isModified=!0,this.hV=P.asn1.ASN1Util.bigIntToMinTwosComplementsHex(u)},this.setByInteger=function(u){var d=new re(String(u),10);this.setByBigInteger(d)},this.setValueHex=function(u){this.hV=u},this.getFreshValueHex=function(){return this.hV},void 0!==l&&(void 0!==l.bigint?this.setByBigInteger(l.bigint):void 0!==l.int?this.setByInteger(l.int):"number"==typeof l?this.setByInteger(l):void 0!==l.hex&&this.setValueHex(l.hex))},w.lang.extend(P.asn1.DERInteger,P.asn1.ASN1Object),P.asn1.DERBitString=function(l){if(void 0!==l&&void 0!==l.obj){var u=P.asn1.ASN1Util.newObject(l.obj);l.hex="00"+u.getEncodedHex()}P.asn1.DERBitString.superclass.constructor.call(this),this.hT="03",this.setHexValueIncludingUnusedBits=function(d){this.hTLV=null,this.isModified=!0,this.hV=d},this.setUnusedBitsAndHexValue=function(d,f){if(d<0||7<d)throw"unused bits shall be from 0 to 7: u = "+d;var p="0"+d;this.hTLV=null,this.isModified=!0,this.hV=p+f},this.setByBinaryString=function(d){var f=8-(d=d.replace(/0+$/,"")).length%8;8==f&&(f=0);for(var p=0;p<=f;p++)d+="0";var v="";for(p=0;p<d.length-1;p+=8){var C=d.substr(p,8),A=parseInt(C,2).toString(16);1==A.length&&(A="0"+A),v+=A}this.hTLV=null,this.isModified=!0,this.hV="0"+f+v},this.setByBooleanArray=function(d){for(var f="",p=0;p<d.length;p++)f+=1==d[p]?"1":"0";this.setByBinaryString(f)},this.newFalseArray=function(d){for(var f=new Array(d),p=0;p<d;p++)f[p]=!1;return f},this.getFreshValueHex=function(){return this.hV},void 0!==l&&("string"==typeof l&&l.toLowerCase().match(/^[0-9a-f]+$/)?this.setHexValueIncludingUnusedBits(l):void 0!==l.hex?this.setHexValueIncludingUnusedBits(l.hex):void 0!==l.bin?this.setByBinaryString(l.bin):void 0!==l.array&&this.setByBooleanArray(l.array))},w.lang.extend(P.asn1.DERBitString,P.asn1.ASN1Object),P.asn1.DEROctetString=function(l){if(void 0!==l&&void 0!==l.obj){var u=P.asn1.ASN1Util.newObject(l.obj);l.hex=u.getEncodedHex()}P.asn1.DEROctetString.superclass.constructor.call(this,l),this.hT="04"},w.lang.extend(P.asn1.DEROctetString,P.asn1.DERAbstractString),P.asn1.DERNull=function(){P.asn1.DERNull.superclass.constructor.call(this),this.hT="05",this.hTLV="0500"},w.lang.extend(P.asn1.DERNull,P.asn1.ASN1Object),P.asn1.DERObjectIdentifier=function(l){P.asn1.DERObjectIdentifier.superclass.constructor.call(this),this.hT="06",this.setValueHex=function(u){this.hTLV=null,this.isModified=!0,this.s=null,this.hV=u},this.setValueOidString=function(u){var d=function(p){var v=function(K){var z=K.toString(16);return 1==z.length&&(z="0"+z),z},C=function(K){var z="",ue=parseInt(K,10).toString(2),ce=7-ue.length%7;7==ce&&(ce=0);for(var ge="",D=0;D<ce;D++)ge+="0";for(ue=ge+ue,D=0;D<ue.length-1;D+=7){var N=ue.substr(D,7);D!=ue.length-7&&(N="1"+N),z+=v(parseInt(N,2))}return z};try{if(!p.match(/^[0-9.]+$/))return null;var A="",F=p.split("."),x=40*parseInt(F[0],10)+parseInt(F[1],10);A+=v(x),F.splice(0,2);for(var L=0;L<F.length;L++)A+=C(F[L]);return A}catch{return null}}(u);if(null==d)throw new Error("malformed oid string: "+u);this.hTLV=null,this.isModified=!0,this.s=null,this.hV=d},this.setValueName=function(u){var d=P.asn1.x509.OID.name2oid(u);if(""===d)throw new Error("DERObjectIdentifier oidName undefined: "+u);this.setValueOidString(d)},this.setValueNameOrOid=function(u){u.match(/^[0-2].[0-9.]+$/)?this.setValueOidString(u):this.setValueName(u)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(u){"string"==typeof u?this.setValueNameOrOid(u):void 0!==u.oid?this.setValueNameOrOid(u.oid):void 0!==u.name?this.setValueNameOrOid(u.name):void 0!==u.hex&&this.setValueHex(u.hex)},void 0!==l&&this.setByParam(l)},w.lang.extend(P.asn1.DERObjectIdentifier,P.asn1.ASN1Object),P.asn1.DEREnumerated=function(l){P.asn1.DEREnumerated.superclass.constructor.call(this),this.hT="0a",this.setByBigInteger=function(u){this.hTLV=null,this.isModified=!0,this.hV=P.asn1.ASN1Util.bigIntToMinTwosComplementsHex(u)},this.setByInteger=function(u){var d=new re(String(u),10);this.setByBigInteger(d)},this.setValueHex=function(u){this.hV=u},this.getFreshValueHex=function(){return this.hV},void 0!==l&&(void 0!==l.int?this.setByInteger(l.int):"number"==typeof l?this.setByInteger(l):void 0!==l.hex&&this.setValueHex(l.hex))},w.lang.extend(P.asn1.DEREnumerated,P.asn1.ASN1Object),P.asn1.DERUTF8String=function(l){P.asn1.DERUTF8String.superclass.constructor.call(this,l),this.hT="0c"},w.lang.extend(P.asn1.DERUTF8String,P.asn1.DERAbstractString),P.asn1.DERNumericString=function(l){P.asn1.DERNumericString.superclass.constructor.call(this,l),this.hT="12"},w.lang.extend(P.asn1.DERNumericString,P.asn1.DERAbstractString),P.asn1.DERPrintableString=function(l){P.asn1.DERPrintableString.superclass.constructor.call(this,l),this.hT="13"},w.lang.extend(P.asn1.DERPrintableString,P.asn1.DERAbstractString),P.asn1.DERTeletexString=function(l){P.asn1.DERTeletexString.superclass.constructor.call(this,l),this.hT="14"},w.lang.extend(P.asn1.DERTeletexString,P.asn1.DERAbstractString),P.asn1.DERIA5String=function(l){P.asn1.DERIA5String.superclass.constructor.call(this,l),this.hT="16"},w.lang.extend(P.asn1.DERIA5String,P.asn1.DERAbstractString),P.asn1.DERVisibleString=function(l){P.asn1.DERIA5String.superclass.constructor.call(this,l),this.hT="1a"},w.lang.extend(P.asn1.DERVisibleString,P.asn1.DERAbstractString),P.asn1.DERBMPString=function(l){P.asn1.DERBMPString.superclass.constructor.call(this,l),this.hT="1e"},w.lang.extend(P.asn1.DERBMPString,P.asn1.DERAbstractString),P.asn1.DERUTCTime=function(l){P.asn1.DERUTCTime.superclass.constructor.call(this,l),this.hT="17",this.setByDate=function(u){this.hTLV=null,this.isModified=!0,this.date=u,this.s=this.formatDate(this.date,"utc"),this.hV=$r(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"utc"),this.hV=$r(this.s)),this.hV},void 0!==l&&(void 0!==l.str?this.setString(l.str):"string"==typeof l&&l.match(/^[0-9]{12}Z$/)?this.setString(l):void 0!==l.hex?this.setStringHex(l.hex):void 0!==l.date&&this.setByDate(l.date))},w.lang.extend(P.asn1.DERUTCTime,P.asn1.DERAbstractTime),P.asn1.DERGeneralizedTime=function(l){P.asn1.DERGeneralizedTime.superclass.constructor.call(this,l),this.hT="18",this.withMillis=!1,this.setByDate=function(u){this.hTLV=null,this.isModified=!0,this.date=u,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=$r(this.s)},this.getFreshValueHex=function(){return void 0===this.date&&void 0===this.s&&(this.date=new Date,this.s=this.formatDate(this.date,"gen",this.withMillis),this.hV=$r(this.s)),this.hV},void 0!==l&&(void 0!==l.str?this.setString(l.str):"string"==typeof l&&l.match(/^[0-9]{14}Z$/)?this.setString(l):void 0!==l.hex?this.setStringHex(l.hex):void 0!==l.date&&this.setByDate(l.date),!0===l.millis&&(this.withMillis=!0))},w.lang.extend(P.asn1.DERGeneralizedTime,P.asn1.DERAbstractTime),P.asn1.DERSequence=function(l){P.asn1.DERSequence.superclass.constructor.call(this,l),this.hT="30",this.getFreshValueHex=function(){for(var u="",d=0;d<this.asn1Array.length;d++)u+=this.asn1Array[d].getEncodedHex();return this.hV=u,this.hV}},w.lang.extend(P.asn1.DERSequence,P.asn1.DERAbstractStructured),P.asn1.DERSet=function(l){P.asn1.DERSet.superclass.constructor.call(this,l),this.hT="31",this.sortFlag=!0,this.getFreshValueHex=function(){for(var u=new Array,d=0;d<this.asn1Array.length;d++)u.push(this.asn1Array[d].getEncodedHex());return 1==this.sortFlag&&u.sort(),this.hV=u.join(""),this.hV},void 0!==l&&void 0!==l.sortflag&&0==l.sortflag&&(this.sortFlag=!1)},w.lang.extend(P.asn1.DERSet,P.asn1.DERAbstractStructured),P.asn1.DERTaggedObject=function(l){P.asn1.DERTaggedObject.superclass.constructor.call(this);var u=P.asn1;this.hT="a0",this.hV="",this.isExplicit=!0,this.asn1Object=null,this.setASN1Object=function(d,f,p){this.hT=f,this.isExplicit=d,this.asn1Object=p,this.isExplicit?(this.hV=this.asn1Object.getEncodedHex(),this.hTLV=null,this.isModified=!0):(this.hV=null,this.hTLV=p.getEncodedHex(),this.hTLV=this.hTLV.replace(/^../,f),this.isModified=!1)},this.getFreshValueHex=function(){return this.hV},this.setByParam=function(d){null!=d.tag&&(this.hT=d.tag),null!=d.explicit&&(this.isExplicit=d.explicit),null!=d.tage&&(this.hT=d.tage,this.isExplicit=!0),null!=d.tagi&&(this.hT=d.tagi,this.isExplicit=!1),null!=d.obj&&(d.obj instanceof u.ASN1Object?(this.asn1Object=d.obj,this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)):"object"==b(d.obj)&&(this.asn1Object=u.ASN1Util.newObject(d.obj),this.setASN1Object(this.isExplicit,this.hT,this.asn1Object)))},null!=l&&this.setByParam(l)},w.lang.extend(P.asn1.DERTaggedObject,P.asn1.ASN1Object);var P,bo,hn,Ie=new function(){};function Sl(l){for(var u=new Array,d=0;d<l.length;d++)u[d]=l.charCodeAt(d);return u}function ba(l){for(var u="",d=0;d<l.length;d++)u+=String.fromCharCode(l[d]);return u}function rs(l){for(var u="",d=0;d<l.length;d++){var f=l[d].toString(16);1==f.length&&(f="0"+f),u+=f}return u}function $r(l){return rs(Sl(l))}function is(l){return(l=(l=l.replace(/\=/g,"")).replace(/\+/g,"-")).replace(/\//g,"_")}function Co(l){return l.length%4==2?l+="==":l.length%4==3&&(l+="="),(l=l.replace(/-/g,"+")).replace(/_/g,"/")}function on(l){return l.length%2==1&&(l="0"+l),is(be(l))}function Ft(l){return Ce(Co(l))}function Ca(l){return Do(ss(l))}function Cn(l){return decodeURIComponent(Mn(l))}function Vn(l){for(var u="",d=0;d<l.length-1;d+=2)u+=String.fromCharCode(parseInt(l.substr(d,2),16));return u}function vr(l){for(var u="",d=0;d<l.length;d++)u+=("0"+l.charCodeAt(d).toString(16)).slice(-2);return u}function Da(l){return be(l)}function Aa(l){return Da(l).replace(/(.{64})/g,"$1\r\n").replace(/\r\n$/,"")}function Ia(l){return Ce(l.replace(/[^0-9A-Za-z\/+=]*/g,""))}function Bn(l,u){return"-----BEGIN "+u+"-----\r\n"+Aa(l)+"\r\n-----END "+u+"-----\r\n"}function _r(l,u){if(-1==l.indexOf("-----BEGIN "))throw"can't find PEM header: "+u;return Ia(l=void 0!==u?(l=l.replace(new RegExp("^[^]*-----BEGIN "+u+"-----"),"")).replace(new RegExp("-----END "+u+"-----[^]*$"),""):(l=l.replace(/^[^]*-----BEGIN [^-]+-----/,"")).replace(/-----END [^-]+-----[^]*$/,""))}function os(l){var u,d,f,p,v,C,A,F,x,L,U;if(U=l.match(/^(\d{2}|\d{4})(\d\d)(\d\d)(\d\d)(\d\d)(\d\d)(|\.\d+)Z$/))return F=U[1],u=parseInt(F),2===F.length&&(50<=u&&u<100?u=1900+u:0<=u&&u<50&&(u=2e3+u)),d=parseInt(U[2])-1,f=parseInt(U[3]),p=parseInt(U[4]),v=parseInt(U[5]),C=parseInt(U[6]),A=0,""!==(x=U[7])&&(L=(x.substr(1)+"00").substr(0,3),A=parseInt(L)),Date.UTC(u,d,f,p,v,C,A);throw"unsupported zulu format: "+l}function Ta(l){return~~(os(l)/1e3)}function Do(l){return l.replace(/%/g,"")}function Mn(l){return l.replace(/(..)/g,"%$1")}function bl(l){var u="malformed IPv6 address";if(!l.match(/^[0-9A-Fa-f:]+$/))throw u;var d=(l=l.toLowerCase()).split(":").length-1;if(d<2)throw u;var f=":".repeat(7-d+2),p=(l=l.replace("::",f)).split(":");if(8!=p.length)throw u;for(var v=0;v<8;v++)p[v]=("0000"+p[v]).slice(-4);return p.join("")}function Cl(l){if(!l.match(/^[0-9A-Fa-f]{32}$/))throw"malformed IPv6 address octet";for(var u=(l=l.toLowerCase()).match(/.{1,4}/g),d=0;d<8;d++)u[d]=u[d].replace(/^0+/,""),""==u[d]&&(u[d]="0");var f=(l=":"+u.join(":")+":").match(/:(0:){2,}/g);if(null===f)return l.slice(1,-1);var p="";for(d=0;d<f.length;d++)f[d].length>p.length&&(p=f[d]);return(l=l.replace(p,"::")).slice(1,-1)}function Pa(l){var u="malformed hex value";if(!l.match(/^([0-9A-Fa-f][0-9A-Fa-f]){1,}$/))throw u;if(8!=l.length)return 32==l.length?Cl(l):l;try{return parseInt(l.substr(0,2),16)+"."+parseInt(l.substr(2,2),16)+"."+parseInt(l.substr(4,2),16)+"."+parseInt(l.substr(6,2),16)}catch{throw u}}function ss(l){for(var u=encodeURIComponent(l),d="",f=0;f<u.length;f++)"%"==u[f]?(d+=u.substr(f,3),f+=2):d=d+"%"+$r(u[f]);return d}function Fa(l){return!(l.length%2!=0||!l.match(/^[0-9a-f]+$/)&&!l.match(/^[0-9A-F]+$/))}function Ma(l){return l.length%2==1?"0"+l:l.substr(0,1)>"7"?"00"+l:l}Ie.getLblen=function(l,u){if("8"!=l.substr(u+2,1))return 1;var d=parseInt(l.substr(u+3,1));return 0==d?-1:0<d&&d<10?d+1:-2},Ie.getL=function(l,u){var d=Ie.getLblen(l,u);return d<1?"":l.substr(u+2,2*d)},Ie.getVblen=function(l,u){var d;return""==(d=Ie.getL(l,u))?-1:("8"===d.substr(0,1)?new re(d.substr(2),16):new re(d,16)).intValue()},Ie.getVidx=function(l,u){var d=Ie.getLblen(l,u);return d<0?d:u+2*(d+1)},Ie.getV=function(l,u){var d=Ie.getVidx(l,u),f=Ie.getVblen(l,u);return l.substr(d,2*f)},Ie.getTLV=function(l,u){return l.substr(u,2)+Ie.getL(l,u)+Ie.getV(l,u)},Ie.getTLVblen=function(l,u){return 2+2*Ie.getLblen(l,u)+2*Ie.getVblen(l,u)},Ie.getNextSiblingIdx=function(l,u){return Ie.getVidx(l,u)+2*Ie.getVblen(l,u)},Ie.getChildIdx=function(l,u){var d,f,p,v=Ie,C=[];d=v.getVidx(l,u),f=2*v.getVblen(l,u),"03"==l.substr(u,2)&&(d+=2,f-=2),p=0;for(var A=d;p<=f;){var F=v.getTLVblen(l,A);if((p+=F)<=f&&C.push(A),A+=F,p>=f)break}return C},Ie.getNthChildIdx=function(l,u,d){return Ie.getChildIdx(l,u)[d]},Ie.getIdxbyList=function(l,u,d,f){var p,v,C=Ie;return 0==d.length?void 0!==f&&l.substr(u,2)!==f?-1:u:(p=d.shift())>=(v=C.getChildIdx(l,u)).length?-1:C.getIdxbyList(l,v[p],d,f)},Ie.getIdxbyListEx=function(l,u,d,f){var p,v,C=Ie;if(0==d.length)return void 0!==f&&l.substr(u,2)!==f?-1:u;p=d.shift(),v=C.getChildIdx(l,u);for(var A=0,F=0;F<v.length;F++){var x=l.substr(v[F],2);if("number"==typeof p&&!C.isContextTag(x)&&A==p||"string"==typeof p&&C.isContextTag(x,p))return C.getIdxbyListEx(l,v[F],d,f);C.isContextTag(x)||A++}return-1},Ie.getTLVbyList=function(l,u,d,f){var p=Ie,v=p.getIdxbyList(l,u,d,f);return-1==v||v>=l.length?null:p.getTLV(l,v)},Ie.getTLVbyListEx=function(l,u,d,f){var p=Ie,v=p.getIdxbyListEx(l,u,d,f);return-1==v?null:p.getTLV(l,v)},Ie.getVbyList=function(l,u,d,f,p){var v,C,A=Ie;return-1==(v=A.getIdxbyList(l,u,d,f))||v>=l.length?null:(C=A.getV(l,v),!0===p&&(C=C.substr(2)),C)},Ie.getVbyListEx=function(l,u,d,f,p){var v,C,A=Ie;return-1==(v=A.getIdxbyListEx(l,u,d,f))?null:(C=A.getV(l,v),"03"==l.substr(v,2)&&!1!==p&&(C=C.substr(2)),C)},Ie.getInt=function(l,u,d){null==d&&(d=-1);try{var f=l.substr(u,2);if("02"!=f&&"03"!=f)return d;var p=Ie.getV(l,u);return"02"==f?parseInt(p,16):function(C){try{var A=C.substr(0,2);if("00"==A)return parseInt(C.substr(2),16);var F=parseInt(A,16),x=C.substr(2),L=parseInt(x,16).toString(2);return"0"==L&&(L="00000000"),L=L.slice(0,0-F),parseInt(L,2)}catch{return-1}}(p)}catch{return d}},Ie.getOID=function(l,u,d){null==d&&(d=null);try{return"06"!=l.substr(u,2)?d:function(p){if(!Fa(p))return null;try{var v=[],C=p.substr(0,2),A=parseInt(C,16);v[0]=new String(Math.floor(A/40)),v[1]=new String(A%40);for(var F=p.substr(2),x=[],L=0;L<F.length/2;L++)x.push(parseInt(F.substr(2*L,2),16));var U=[],K="";for(L=0;L<x.length;L++)128&x[L]?K+=Dl((127&x[L]).toString(2),7):(K+=Dl((127&x[L]).toString(2),7),U.push(new String(parseInt(K,2))),K="");var z=v.join(".");return U.length>0&&(z=z+"."+U.join(".")),z}catch{return null}}(Ie.getV(l,u))}catch{return d}},Ie.getOIDName=function(l,u,d){null==d&&(d=null);try{var f=Ie.getOID(l,u,d);if(f==d)return d;var p=P.asn1.x509.OID.oid2name(f);return""==p?f:p}catch{return d}},Ie.getString=function(l,u,d){null==d&&(d=null);try{return Vn(Ie.getV(l,u))}catch{return d}},Ie.hextooidstr=function(l){var u=function(K,z){return K.length>=z?K:new Array(z-K.length+1).join("0")+K},d=[],f=l.substr(0,2),p=parseInt(f,16);d[0]=new String(Math.floor(p/40)),d[1]=new String(p%40);for(var v=l.substr(2),C=[],A=0;A<v.length/2;A++)C.push(parseInt(v.substr(2*A,2),16));var F=[],x="";for(A=0;A<C.length;A++)128&C[A]?x+=u((127&C[A]).toString(2),7):(x+=u((127&C[A]).toString(2),7),F.push(new String(parseInt(x,2))),x="");var L=d.join(".");return F.length>0&&(L=L+"."+F.join(".")),L},Ie.dump=function(l,u,d,f){var p=Ie,v=p.getV,C=p.dump,A=p.getChildIdx,F=l;l instanceof P.asn1.ASN1Object&&(F=l.getEncodedHex());var x=function(J,tt){return J.length<=2*tt?J:J.substr(0,tt)+"..(total "+J.length/2+"bytes).."+J.substr(J.length-tt,tt)};void 0===u&&(u={ommit_long_octet:32}),void 0===d&&(d=0),void 0===f&&(f="");var L,U=u.ommit_long_octet;if("01"==(L=F.substr(d,2)))return"00"==(K=v(F,d))?f+"BOOLEAN FALSE\n":f+"BOOLEAN TRUE\n";if("02"==L)return f+"INTEGER "+x(K=v(F,d),U)+"\n";if("03"==L){var K=v(F,d);return p.isASN1HEX(K.substr(2))?(z=f+"BITSTRING, encapsulates\n")+C(K.substr(2),u,0,f+"  "):f+"BITSTRING "+x(K,U)+"\n"}if("04"==L)return K=v(F,d),p.isASN1HEX(K)?(z=f+"OCTETSTRING, encapsulates\n",z+=C(K,u,0,f+"  ")):f+"OCTETSTRING "+x(K,U)+"\n";if("05"==L)return f+"NULL\n";if("06"==L){var ue=v(F,d),ce=P.asn1.ASN1Util.oidHexToInt(ue),ge=P.asn1.x509.OID.oid2name(ce),D=ce.replace(/\./g," ");return""!=ge?f+"ObjectIdentifier "+ge+" ("+D+")\n":f+"ObjectIdentifier ("+D+")\n"}if("0a"==L)return f+"ENUMERATED "+parseInt(v(F,d))+"\n";if("0c"==L)return f+"UTF8String '"+Cn(v(F,d))+"'\n";if("13"==L)return f+"PrintableString '"+Cn(v(F,d))+"'\n";if("14"==L)return f+"TeletexString '"+Cn(v(F,d))+"'\n";if("16"==L)return f+"IA5String '"+Cn(v(F,d))+"'\n";if("17"==L)return f+"UTCTime "+Cn(v(F,d))+"\n";if("18"==L)return f+"GeneralizedTime "+Cn(v(F,d))+"\n";if("1a"==L)return f+"VisualString '"+Cn(v(F,d))+"'\n";if("1e"==L)return f+"BMPString '"+Cn(v(F,d))+"'\n";if("30"==L){if("3000"==F.substr(d,4))return f+"SEQUENCE {}\n";z=f+"SEQUENCE\n";var N=u;if((2==(fe=A(F,d)).length||3==fe.length)&&"06"==F.substr(fe[0],2)&&"04"==F.substr(fe[fe.length-1],2)){ge=p.oidname(v(F,fe[0]));var R=JSON.parse(JSON.stringify(u));R.x509ExtName=ge,N=R}for(var W=0;W<fe.length;W++)z+=C(F,N,fe[W],f+"  ");return z}if("31"==L){z=f+"SET\n";var fe=A(F,d);for(W=0;W<fe.length;W++)z+=C(F,u,fe[W],f+"  ");return z}if(128&(L=parseInt(L,16))){var z,me=31&L;if(32&L){for(z=f+"["+me+"]\n",fe=A(F,d),W=0;W<fe.length;W++)z+=C(F,u,fe[W],f+"  ");return z}return K=v(F,d),Ie.isASN1HEX(K)?(z=f+"["+me+"]\n")+C(K,u,0,f+"  "):(("68747470"==K.substr(0,8)||"subjectAltName"===u.x509ExtName&&2==me)&&(K=Cn(K)),f+"["+me+"] "+K+"\n")}return f+"UNKNOWN("+L+") "+v(F,d)+"\n"},Ie.isContextTag=function(l,u){var d,f;l=l.toLowerCase();try{d=parseInt(l,16)}catch{return-1}if(void 0===u)return 128==(192&d);try{return null!=u.match(/^\[[0-9]+\]$/)&&!((f=parseInt(u.substr(1,u.length-1),10))>31)&&128==(192&d)&&(31&d)==f}catch{return!1}},Ie.isASN1HEX=function(l){var u=Ie;if(l.length%2==1)return!1;var d=u.getVblen(l,0),f=l.substr(0,2),p=u.getL(l,0);return l.length-f.length-p.length==2*d},Ie.checkStrictDER=function(l,u,d,f,p){var v=Ie;if(void 0===d){if("string"!=typeof l)throw new Error("not hex string");if(l=l.toLowerCase(),!P.lang.String.isHex(l))throw new Error("not hex string");d=l.length,p=(f=l.length/2)<128?1:Math.ceil(f.toString(16))+1}if(v.getL(l,u).length>2*p)throw new Error("L of TLV too long: idx="+u);var C=v.getVblen(l,u);if(C>f)throw new Error("value of L too long than hex: idx="+u);var A=v.getTLV(l,u),F=A.length-2-v.getL(l,u).length;if(F!==2*C)throw new Error("V string length and L's value not the same:"+F+"/"+2*C);if(0===u&&l.length!=A.length)throw new Error("total length and TLV length unmatch:"+l.length+"!="+A.length);var x=l.substr(u,2);if("02"===x){var L=v.getVidx(l,u);if("00"==l.substr(L,2)&&l.charCodeAt(L+2)<56)throw new Error("not least zeros for DER INTEGER")}if(32&parseInt(x,16)){for(var U=v.getVblen(l,u),K=0,z=v.getChildIdx(l,u),ue=0;ue<z.length;ue++)K+=v.getTLV(l,z[ue]).length,v.checkStrictDER(l,z[ue],d,f,p);if(2*U!=K)throw new Error("sum of children's TLV length and L unmatch: "+2*U+"!="+K)}},Ie.oidname=function(l){var u=P.asn1;P.lang.String.isHex(l)&&(l=u.ASN1Util.oidHexToInt(l));var d=u.x509.OID.oid2name(l);return""===d&&(d=l),d},void 0!==P&&P||(k.KJUR=P={}),void 0!==P.lang&&P.lang||(P.lang={}),P.lang.String=function(){},"function"==typeof G?(k.utf8tob64u=bo=function(u){return is(G.from(u,"utf8").toString("base64"))},k.b64utoutf8=hn=function(u){return G.from(Co(u),"base64").toString("utf8")}):(k.utf8tob64u=bo=function(u){return on(Do(ss(u)))},k.b64utoutf8=hn=function(u){return decodeURIComponent(Mn(Ft(u)))}),P.lang.String.isInteger=function(l){return!!l.match(/^[0-9]+$/)||!!l.match(/^-[0-9]+$/)},P.lang.String.isHex=function(l){return Fa(l)},P.lang.String.isBase64=function(l){return!(!(l=l.replace(/\s+/g,"")).match(/^[0-9A-Za-z+\/]+={0,3}$/)||l.length%4!=0)},P.lang.String.isBase64URL=function(l){return!l.match(/[+/=]/)&&(l=Co(l),P.lang.String.isBase64(l))},P.lang.String.isIntegerArray=function(l){return!!(l=l.replace(/\s+/g,"")).match(/^\[[0-9,]+\]$/)},P.lang.String.isPrintable=function(l){return null!==l.match(/^[0-9A-Za-z '()+,-./:=?]*$/)},P.lang.String.isIA5=function(l){return null!==l.match(/^[\x20-\x21\x23-\x7f]*$/)},P.lang.String.isMail=function(l){return null!==l.match(/^[A-Za-z0-9]{1}[A-Za-z0-9_.-]*@{1}[A-Za-z0-9_.-]{1,}\.[A-Za-z0-9]{1,}$/)};var Dl=function(u,d,f){return null==f&&(f="0"),u.length>=d?u:new Array(d-u.length+1).join(f)+u};void 0!==P&&P||(k.KJUR=P={}),void 0!==P.crypto&&P.crypto||(P.crypto={}),P.crypto.Util=new function(){this.DIGESTINFOHEAD={sha1:"3021300906052b0e03021a05000414",sha224:"302d300d06096086480165030402040500041c",sha256:"3031300d060960864801650304020105000420",sha384:"3041300d060960864801650304020205000430",sha512:"3051300d060960864801650304020305000440",md2:"3020300c06082a864886f70d020205000410",md5:"3020300c06082a864886f70d020505000410",ripemd160:"3021300906052b2403020105000414"},this.DEFAULTPROVIDER={md5:"cryptojs",sha1:"cryptojs",sha224:"cryptojs",sha256:"cryptojs",sha384:"cryptojs",sha512:"cryptojs",ripemd160:"cryptojs",hmacmd5:"cryptojs",hmacsha1:"cryptojs",hmacsha224:"cryptojs",hmacsha256:"cryptojs",hmacsha384:"cryptojs",hmacsha512:"cryptojs",hmacripemd160:"cryptojs",MD5withRSA:"cryptojs/jsrsa",SHA1withRSA:"cryptojs/jsrsa",SHA224withRSA:"cryptojs/jsrsa",SHA256withRSA:"cryptojs/jsrsa",SHA384withRSA:"cryptojs/jsrsa",SHA512withRSA:"cryptojs/jsrsa",RIPEMD160withRSA:"cryptojs/jsrsa",MD5withECDSA:"cryptojs/jsrsa",SHA1withECDSA:"cryptojs/jsrsa",SHA224withECDSA:"cryptojs/jsrsa",SHA256withECDSA:"cryptojs/jsrsa",SHA384withECDSA:"cryptojs/jsrsa",SHA512withECDSA:"cryptojs/jsrsa",RIPEMD160withECDSA:"cryptojs/jsrsa",SHA1withDSA:"cryptojs/jsrsa",SHA224withDSA:"cryptojs/jsrsa",SHA256withDSA:"cryptojs/jsrsa",MD5withRSAandMGF1:"cryptojs/jsrsa",SHAwithRSAandMGF1:"cryptojs/jsrsa",SHA1withRSAandMGF1:"cryptojs/jsrsa",SHA224withRSAandMGF1:"cryptojs/jsrsa",SHA256withRSAandMGF1:"cryptojs/jsrsa",SHA384withRSAandMGF1:"cryptojs/jsrsa",SHA512withRSAandMGF1:"cryptojs/jsrsa",RIPEMD160withRSAandMGF1:"cryptojs/jsrsa"},this.CRYPTOJSMESSAGEDIGESTNAME={md5:ne.algo.MD5,sha1:ne.algo.SHA1,sha224:ne.algo.SHA224,sha256:ne.algo.SHA256,sha384:ne.algo.SHA384,sha512:ne.algo.SHA512,ripemd160:ne.algo.RIPEMD160},this.getDigestInfoHex=function(l,u){if(void 0===this.DIGESTINFOHEAD[u])throw"alg not supported in Util.DIGESTINFOHEAD: "+u;return this.DIGESTINFOHEAD[u]+l},this.getPaddedDigestInfoHex=function(l,u,d){var f=this.getDigestInfoHex(l,u),p=d/4;if(f.length+22>p)throw"key is too short for SigAlg: keylen="+d+","+u;for(var v="0001",C="00"+f,A="",F=p-4-C.length,x=0;x<F;x+=2)A+="ff";return v+A+C},this.hashString=function(l,u){return new P.crypto.MessageDigest({alg:u}).digestString(l)},this.hashHex=function(l,u){return new P.crypto.MessageDigest({alg:u}).digestHex(l)},this.sha1=function(l){return this.hashString(l,"sha1")},this.sha256=function(l){return this.hashString(l,"sha256")},this.sha256Hex=function(l){return this.hashHex(l,"sha256")},this.sha512=function(l){return this.hashString(l,"sha512")},this.sha512Hex=function(l){return this.hashHex(l,"sha512")},this.isKey=function(l){return l instanceof $e||l instanceof P.crypto.DSA||l instanceof P.crypto.ECDSA}},P.crypto.Util.md5=function(l){return new P.crypto.MessageDigest({alg:"md5",prov:"cryptojs"}).digestString(l)},P.crypto.Util.ripemd160=function(l){return new P.crypto.MessageDigest({alg:"ripemd160",prov:"cryptojs"}).digestString(l)},P.crypto.Util.SECURERANDOMGEN=new bn,P.crypto.Util.getRandomHexOfNbytes=function(l){var u=new Array(l);return P.crypto.Util.SECURERANDOMGEN.nextBytes(u),rs(u)},P.crypto.Util.getRandomBigIntegerOfNbytes=function(l){return new re(P.crypto.Util.getRandomHexOfNbytes(l),16)},P.crypto.Util.getRandomHexOfNbits=function(l){var u=l%8,d=new Array((l-u)/8+1);return P.crypto.Util.SECURERANDOMGEN.nextBytes(d),d[0]=(255<<u&255^255)&d[0],rs(d)},P.crypto.Util.getRandomBigIntegerOfNbits=function(l){return new re(P.crypto.Util.getRandomHexOfNbits(l),16)},P.crypto.Util.getRandomBigIntegerZeroToMax=function(l){for(var u=l.bitLength();;){var d=P.crypto.Util.getRandomBigIntegerOfNbits(u);if(-1!=l.compareTo(d))return d}},P.crypto.Util.getRandomBigIntegerMinToMax=function(l,u){var d=l.compareTo(u);if(1==d)throw"biMin is greater than biMax";if(0==d)return l;var f=u.subtract(l);return P.crypto.Util.getRandomBigIntegerZeroToMax(f).add(l)},P.crypto.MessageDigest=function(l){this.setAlgAndProvider=function(u,d){if(null!==(u=P.crypto.MessageDigest.getCanonicalAlgName(u))&&void 0===d&&(d=P.crypto.Util.DEFAULTPROVIDER[u]),-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(u)&&"cryptojs"==d){try{this.md=P.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[u].create()}catch(f){throw"setAlgAndProvider hash alg set fail alg="+u+"/"+f}this.updateString=function(f){this.md.update(f)},this.updateHex=function(f){var p=ne.enc.Hex.parse(f);this.md.update(p)},this.digest=function(){return this.md.finalize().toString(ne.enc.Hex)},this.digestString=function(f){return this.updateString(f),this.digest()},this.digestHex=function(f){return this.updateHex(f),this.digest()}}if(-1!=":sha256:".indexOf(u)&&"sjcl"==d){try{this.md=new sjcl.hash.sha256}catch(f){throw"setAlgAndProvider hash alg set fail alg="+u+"/"+f}this.updateString=function(f){this.md.update(f)},this.updateHex=function(f){var p=sjcl.codec.hex.toBits(f);this.md.update(p)},this.digest=function(){var f=this.md.finalize();return sjcl.codec.hex.fromBits(f)},this.digestString=function(f){return this.updateString(f),this.digest()},this.digestHex=function(f){return this.updateHex(f),this.digest()}}},this.updateString=function(u){throw"updateString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.updateHex=function(u){throw"updateHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digest=function(){throw"digest() not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestString=function(u){throw"digestString(str) not supported for this alg/prov: "+this.algName+"/"+this.provName},this.digestHex=function(u){throw"digestHex(hex) not supported for this alg/prov: "+this.algName+"/"+this.provName},void 0!==l&&void 0!==l.alg&&(this.algName=l.alg,void 0===l.prov&&(this.provName=P.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName))},P.crypto.MessageDigest.getCanonicalAlgName=function(l){return"string"==typeof l&&(l=(l=l.toLowerCase()).replace(/-/,"")),l},P.crypto.MessageDigest.getHashLength=function(l){var u=P.crypto.MessageDigest,d=u.getCanonicalAlgName(l);if(void 0===u.HASHLENGTH[d])throw"not supported algorithm: "+l;return u.HASHLENGTH[d]},P.crypto.MessageDigest.HASHLENGTH={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,ripemd160:20},P.crypto.Mac=function(l){this.setAlgAndProvider=function(u,d){if(null==(u=u.toLowerCase())&&(u="hmacsha1"),"hmac"!=(u=u.toLowerCase()).substr(0,4))throw"setAlgAndProvider unsupported HMAC alg: "+u;void 0===d&&(d=P.crypto.Util.DEFAULTPROVIDER[u]),this.algProv=u+"/"+d;var f=u.substr(4);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(f)&&"cryptojs"==d){try{this.mac=ne.algo.HMAC.create(P.crypto.Util.CRYPTOJSMESSAGEDIGESTNAME[f],this.pass)}catch(v){throw"setAlgAndProvider hash alg set fail hashAlg="+f+"/"+v}this.updateString=function(v){this.mac.update(v)},this.updateHex=function(v){var C=ne.enc.Hex.parse(v);this.mac.update(C)},this.doFinal=function(){return this.mac.finalize().toString(ne.enc.Hex)},this.doFinalString=function(v){return this.updateString(v),this.doFinal()},this.doFinalHex=function(v){return this.updateHex(v),this.doFinal()}}},this.updateString=function(u){throw"updateString(str) not supported for this alg/prov: "+this.algProv},this.updateHex=function(u){throw"updateHex(hex) not supported for this alg/prov: "+this.algProv},this.doFinal=function(){throw"digest() not supported for this alg/prov: "+this.algProv},this.doFinalString=function(u){throw"digestString(str) not supported for this alg/prov: "+this.algProv},this.doFinalHex=function(u){throw"digestHex(hex) not supported for this alg/prov: "+this.algProv},this.setPassword=function(u){if("string"==typeof u){var d=u;return u.length%2!=1&&u.match(/^[0-9A-Fa-f]+$/)||(d=vr(u)),void(this.pass=ne.enc.Hex.parse(d))}if("object"!=(void 0===u?"undefined":b(u)))throw"KJUR.crypto.Mac unsupported password type: "+u;if(d=null,void 0!==u.hex){if(u.hex.length%2!=0||!u.hex.match(/^[0-9A-Fa-f]+$/))throw"Mac: wrong hex password: "+u.hex;d=u.hex}if(void 0!==u.utf8&&(d=Ca(u.utf8)),void 0!==u.rstr&&(d=vr(u.rstr)),void 0!==u.b64&&(d=Ce(u.b64)),void 0!==u.b64u&&(d=Ft(u.b64u)),null==d)throw"KJUR.crypto.Mac unsupported password type: "+u;this.pass=ne.enc.Hex.parse(d)},void 0!==l&&(void 0!==l.pass&&this.setPassword(l.pass),void 0!==l.alg&&(this.algName=l.alg,void 0===l.prov&&(this.provName=P.crypto.Util.DEFAULTPROVIDER[this.algName]),this.setAlgAndProvider(this.algName,this.provName)))},P.crypto.Signature=function(l){var u=null;if(this._setAlgNames=function(){var d=this.algName.match(/^(.+)with(.+)$/);d&&(this.mdAlgName=d[1].toLowerCase(),this.pubkeyAlgName=d[2].toLowerCase(),"rsaandmgf1"==this.pubkeyAlgName&&"sha"==this.mdAlgName&&(this.mdAlgName="sha1"))},this._zeroPaddingOfSignature=function(d,f){for(var p="",v=f/4-d.length,C=0;C<v;C++)p+="0";return p+d},this.setAlgAndProvider=function(d,f){if(this._setAlgNames(),"cryptojs/jsrsa"!=f)throw new Error("provider not supported: "+f);if(-1!=":md5:sha1:sha224:sha256:sha384:sha512:ripemd160:".indexOf(this.mdAlgName)){try{this.md=new P.crypto.MessageDigest({alg:this.mdAlgName})}catch(p){throw new Error("setAlgAndProvider hash alg set fail alg="+this.mdAlgName+"/"+p)}this.init=function(p,v){var C=null;try{C=void 0===v?St.getKey(p):St.getKey(p,v)}catch(A){throw"init failed:"+A}if(!0===C.isPrivate)this.prvKey=C,this.state="SIGN";else{if(!0!==C.isPublic)throw"init failed.:"+C;this.pubKey=C,this.state="VERIFY"}},this.updateString=function(p){this.md.updateString(p)},this.updateHex=function(p){this.md.updateHex(p)},this.sign=function(){if(this.sHashHex=this.md.digest(),void 0===this.prvKey&&void 0!==this.ecprvhex&&void 0!==this.eccurvename&&void 0!==P.crypto.ECDSA&&(this.prvKey=new P.crypto.ECDSA({curve:this.eccurvename,prv:this.ecprvhex})),this.prvKey instanceof $e&&"rsaandmgf1"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHashPSS(this.sHashHex,this.mdAlgName,this.pssSaltLen);else if(this.prvKey instanceof $e&&"rsa"===this.pubkeyAlgName)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex,this.mdAlgName);else if(this.prvKey instanceof P.crypto.ECDSA)this.hSign=this.prvKey.signWithMessageHash(this.sHashHex);else{if(!(this.prvKey instanceof P.crypto.DSA))throw"Signature: unsupported private key alg: "+this.pubkeyAlgName;this.hSign=this.prvKey.signWithMessageHash(this.sHashHex)}return this.hSign},this.signString=function(p){return this.updateString(p),this.sign()},this.signHex=function(p){return this.updateHex(p),this.sign()},this.verify=function(p){if(this.sHashHex=this.md.digest(),void 0===this.pubKey&&void 0!==this.ecpubhex&&void 0!==this.eccurvename&&void 0!==P.crypto.ECDSA&&(this.pubKey=new P.crypto.ECDSA({curve:this.eccurvename,pub:this.ecpubhex})),this.pubKey instanceof $e&&"rsaandmgf1"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHashPSS(this.sHashHex,p,this.mdAlgName,this.pssSaltLen);if(this.pubKey instanceof $e&&"rsa"===this.pubkeyAlgName)return this.pubKey.verifyWithMessageHash(this.sHashHex,p);if(void 0!==P.crypto.ECDSA&&this.pubKey instanceof P.crypto.ECDSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,p);if(void 0!==P.crypto.DSA&&this.pubKey instanceof P.crypto.DSA)return this.pubKey.verifyWithMessageHash(this.sHashHex,p);throw"Signature: unsupported public key alg: "+this.pubkeyAlgName}}},this.init=function(d,f){throw"init(key, pass) not supported for this alg:prov="+this.algProvName},this.updateString=function(d){throw"updateString(str) not supported for this alg:prov="+this.algProvName},this.updateHex=function(d){throw"updateHex(hex) not supported for this alg:prov="+this.algProvName},this.sign=function(){throw"sign() not supported for this alg:prov="+this.algProvName},this.signString=function(d){throw"digestString(str) not supported for this alg:prov="+this.algProvName},this.signHex=function(d){throw"digestHex(hex) not supported for this alg:prov="+this.algProvName},this.verify=function(d){throw"verify(hSigVal) not supported for this alg:prov="+this.algProvName},this.initParams=l,void 0!==l&&(void 0!==l.alg&&(this.algName=l.alg,this.provName=void 0===l.prov?P.crypto.Util.DEFAULTPROVIDER[this.algName]:l.prov,this.algProvName=this.algName+":"+this.provName,this.setAlgAndProvider(this.algName,this.provName),this._setAlgNames()),void 0!==l.psssaltlen&&(this.pssSaltLen=l.psssaltlen),void 0!==l.prvkeypem)){if(void 0!==l.prvkeypas)throw"both prvkeypem and prvkeypas parameters not supported";try{u=St.getKey(l.prvkeypem),this.init(u)}catch(d){throw"fatal error to load pem private key: "+d}}},P.crypto.Cipher=function(l){},P.crypto.Cipher.encrypt=function(l,u,d){if(u instanceof $e&&u.isPublic){var f=P.crypto.Cipher.getAlgByKeyAndName(u,d);if("RSA"===f)return u.encrypt(l);if("RSAOAEP"===f)return u.encryptOAEP(l,"sha1");var p=f.match(/^RSAOAEP(\d+)$/);if(null!==p)return u.encryptOAEP(l,"sha"+p[1]);throw"Cipher.encrypt: unsupported algorithm for RSAKey: "+d}throw"Cipher.encrypt: unsupported key or algorithm"},P.crypto.Cipher.decrypt=function(l,u,d){if(u instanceof $e&&u.isPrivate){var f=P.crypto.Cipher.getAlgByKeyAndName(u,d);if("RSA"===f)return u.decrypt(l);if("RSAOAEP"===f)return u.decryptOAEP(l,"sha1");var p=f.match(/^RSAOAEP(\d+)$/);if(null!==p)return u.decryptOAEP(l,"sha"+p[1]);throw"Cipher.decrypt: unsupported algorithm for RSAKey: "+d}throw"Cipher.decrypt: unsupported key or algorithm"},P.crypto.Cipher.getAlgByKeyAndName=function(l,u){if(l instanceof $e){if(-1!=":RSA:RSAOAEP:RSAOAEP224:RSAOAEP256:RSAOAEP384:RSAOAEP512:".indexOf(u))return u;if(null==u)return"RSA";throw"getAlgByKeyAndName: not supported algorithm name for RSAKey: "+u}throw"getAlgByKeyAndName: not supported algorithm name: "+u},P.crypto.OID=new function(){this.oidhex2name={"2a864886f70d010101":"rsaEncryption","2a8648ce3d0201":"ecPublicKey","2a8648ce380401":"dsa","2a8648ce3d030107":"secp256r1","2b8104001f":"secp192k1","2b81040021":"secp224r1","2b8104000a":"secp256k1","2b81040023":"secp521r1","2b81040022":"secp384r1","2a8648ce380403":"SHA1withDSA","608648016503040301":"SHA224withDSA","608648016503040302":"SHA256withDSA"}},void 0!==P&&P||(k.KJUR=P={}),void 0!==P.crypto&&P.crypto||(P.crypto={}),P.crypto.ECDSA=function(l){var u=Error,d=re,f=st,p=P.crypto.ECDSA,v=P.crypto.ECParameterDB,C=p.getName,F=Ie.getVbyListEx,x=Ie.isASN1HEX,L=new bn;this.type="EC",this.isPrivate=!1,this.isPublic=!1,this.getBigRandom=function(U){return new d(U.bitLength(),L).mod(U.subtract(d.ONE)).add(d.ONE)},this.setNamedCurve=function(U){this.ecparams=v.getByName(U),this.prvKeyHex=null,this.pubKeyHex=null,this.curveName=U},this.setPrivateKeyHex=function(U){this.isPrivate=!0,this.prvKeyHex=U},this.setPublicKeyHex=function(U){this.isPublic=!0,this.pubKeyHex=U},this.getPublicKeyXYHex=function(){var U=this.pubKeyHex;if("04"!==U.substr(0,2))throw"this method supports uncompressed format(04) only";var K=this.ecparams.keylen/4;if(U.length!==2+2*K)throw"malformed public key hex length";var z={};return z.x=U.substr(2,K),z.y=U.substr(2+K),z},this.getShortNISTPCurveName=function(){var U=this.curveName;return"secp256r1"===U||"NIST P-256"===U||"P-256"===U||"prime256v1"===U?"P-256":"secp384r1"===U||"NIST P-384"===U||"P-384"===U?"P-384":null},this.generateKeyPairHex=function(){var K=this.getBigRandom(this.ecparams.n),z=this.ecparams.G.multiply(K),ue=z.getX().toBigInteger(),ce=z.getY().toBigInteger(),ge=this.ecparams.keylen/4,D=("0000000000"+K.toString(16)).slice(-ge),N="04"+("0000000000"+ue.toString(16)).slice(-ge)+("0000000000"+ce.toString(16)).slice(-ge);return this.setPrivateKeyHex(D),this.setPublicKeyHex(N),{ecprvhex:D,ecpubhex:N}},this.signWithMessageHash=function(U){return this.signHex(U,this.prvKeyHex)},this.signHex=function(U,K){var z=new d(K,16),ue=this.ecparams.n,ce=new d(U.substring(0,this.ecparams.keylen/4),16);do{var ge=this.getBigRandom(ue),D=this.ecparams.G.multiply(ge).getX().toBigInteger().mod(ue)}while(D.compareTo(d.ZERO)<=0);var N=ge.modInverse(ue).multiply(ce.add(z.multiply(D))).mod(ue);return p.biRSSigToASN1Sig(D,N)},this.sign=function(U,K){var z=K,ue=this.ecparams.n,ce=d.fromByteArrayUnsigned(U);do{var ge=this.getBigRandom(ue),D=this.ecparams.G.multiply(ge).getX().toBigInteger().mod(ue)}while(D.compareTo(re.ZERO)<=0);var N=ge.modInverse(ue).multiply(ce.add(z.multiply(D))).mod(ue);return this.serializeSig(D,N)},this.verifyWithMessageHash=function(U,K){return this.verifyHex(U,K,this.pubKeyHex)},this.verifyHex=function(U,K,z){try{var ue,ce,ge=p.parseSigHex(K);ue=ge.r,ce=ge.s;var D=f.decodeFromHex(this.ecparams.curve,z),N=new d(U.substring(0,this.ecparams.keylen/4),16);return this.verifyRaw(N,ue,ce,D)}catch{return!1}},this.verify=function(U,K,z){var ue,ce,ge;if(Bitcoin.Util.isArray(K)){var D=this.parseSig(K);ue=D.r,ce=D.s}else{if("object"!==(void 0===K?"undefined":b(K))||!K.r||!K.s)throw"Invalid value for signature";ue=K.r,ce=K.s}if(z instanceof st)ge=z;else{if(!Bitcoin.Util.isArray(z))throw"Invalid format for pubkey value, must be byte array or ECPointFp";ge=f.decodeFrom(this.ecparams.curve,z)}var N=d.fromByteArrayUnsigned(U);return this.verifyRaw(N,ue,ce,ge)},this.verifyRaw=function(U,K,z,ue){var ce=this.ecparams.n,ge=this.ecparams.G;if(K.compareTo(d.ONE)<0||K.compareTo(ce)>=0||z.compareTo(d.ONE)<0||z.compareTo(ce)>=0)return!1;var D=z.modInverse(ce),N=U.multiply(D).mod(ce),R=K.multiply(D).mod(ce);return ge.multiply(N).add(ue.multiply(R)).getX().toBigInteger().mod(ce).equals(K)},this.serializeSig=function(U,K){var z=U.toByteArraySigned(),ue=K.toByteArraySigned(),ce=[];return ce.push(2),ce.push(z.length),(ce=ce.concat(z)).push(2),ce.push(ue.length),(ce=ce.concat(ue)).unshift(ce.length),ce.unshift(48),ce},this.parseSig=function(U){var K;if(48!=U[0])throw new Error("Signature not a valid DERSequence");if(2!=U[K=2])throw new Error("First element in signature must be a DERInteger");var z=U.slice(K+2,K+2+U[K+1]);if(2!=U[K+=2+U[K+1]])throw new Error("Second element in signature must be a DERInteger");var ue=U.slice(K+2,K+2+U[K+1]);return K+=2+U[K+1],{r:d.fromByteArrayUnsigned(z),s:d.fromByteArrayUnsigned(ue)}},this.parseSigCompact=function(U){if(65!==U.length)throw"Signature has the wrong length";var K=U[0]-27;if(K<0||K>7)throw"Invalid signature type";var z=this.ecparams.n;return{r:d.fromByteArrayUnsigned(U.slice(1,33)).mod(z),s:d.fromByteArrayUnsigned(U.slice(33,65)).mod(z),i:K}},this.readPKCS5PrvKeyHex=function(U){if(!1===x(U))throw new Error("not ASN.1 hex string");var K,z,ue;try{K=F(U,0,["[0]",0],"06"),z=F(U,0,[1],"04");try{ue=F(U,0,["[1]",0],"03")}catch{}}catch{throw new Error("malformed PKCS#1/5 plain ECC private key")}if(this.curveName=C(K),void 0===this.curveName)throw"unsupported curve name";this.setNamedCurve(this.curveName),this.setPublicKeyHex(ue),this.setPrivateKeyHex(z),this.isPublic=!1},this.readPKCS8PrvKeyHex=function(U){if(!1===x(U))throw new u("not ASN.1 hex string");var K,z,ue;try{F(U,0,[1,0],"06"),K=F(U,0,[1,1],"06"),z=F(U,0,[2,0,1],"04");try{ue=F(U,0,[2,0,"[1]",0],"03")}catch{}}catch{throw new u("malformed PKCS#8 plain ECC private key")}if(this.curveName=C(K),void 0===this.curveName)throw new u("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ue),this.setPrivateKeyHex(z),this.isPublic=!1},this.readPKCS8PubKeyHex=function(U){if(!1===x(U))throw new u("not ASN.1 hex string");var K,z;try{F(U,0,[0,0],"06"),K=F(U,0,[0,1],"06"),z=F(U,0,[1],"03")}catch{throw new u("malformed PKCS#8 ECC public key")}if(this.curveName=C(K),null===this.curveName)throw new u("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(z)},this.readCertPubKeyHex=function(U,K){if(!1===x(U))throw new u("not ASN.1 hex string");var z,ue;try{z=F(U,0,[0,5,0,1],"06"),ue=F(U,0,[0,5,1],"03")}catch{throw new u("malformed X.509 certificate ECC public key")}if(this.curveName=C(z),null===this.curveName)throw new u("unsupported curve name");this.setNamedCurve(this.curveName),this.setPublicKeyHex(ue)},void 0!==l&&void 0!==l.curve&&(this.curveName=l.curve),void 0===this.curveName&&(this.curveName="secp256r1"),this.setNamedCurve(this.curveName),void 0!==l&&(void 0!==l.prv&&this.setPrivateKeyHex(l.prv),void 0!==l.pub&&this.setPublicKeyHex(l.pub))},P.crypto.ECDSA.parseSigHex=function(l){var u=P.crypto.ECDSA.parseSigHexInHexRS(l);return{r:new re(u.r,16),s:new re(u.s,16)}},P.crypto.ECDSA.parseSigHexInHexRS=function(l){var d=Ie.getChildIdx,f=Ie.getV;if(Ie.checkStrictDER(l,0),"30"!=l.substr(0,2))throw new Error("signature is not a ASN.1 sequence");var p=d(l,0);if(2!=p.length)throw new Error("signature shall have two elements");var v=p[0],C=p[1];if("02"!=l.substr(v,2))throw new Error("1st item not ASN.1 integer");if("02"!=l.substr(C,2))throw new Error("2nd item not ASN.1 integer");return{r:f(l,v),s:f(l,C)}},P.crypto.ECDSA.asn1SigToConcatSig=function(l){var u=P.crypto.ECDSA.parseSigHexInHexRS(l),d=u.r,f=u.s;if("00"==d.substr(0,2)&&d.length%32==2&&(d=d.substr(2)),"00"==f.substr(0,2)&&f.length%32==2&&(f=f.substr(2)),d.length%32==30&&(d="00"+d),f.length%32==30&&(f="00"+f),d.length%32!=0)throw"unknown ECDSA sig r length error";if(f.length%32!=0)throw"unknown ECDSA sig s length error";return d+f},P.crypto.ECDSA.concatSigToASN1Sig=function(l){if(l.length/2*8%128!=0)throw"unknown ECDSA concatinated r-s sig  length error";var u=l.substr(0,l.length/2),d=l.substr(l.length/2);return P.crypto.ECDSA.hexRSSigToASN1Sig(u,d)},P.crypto.ECDSA.hexRSSigToASN1Sig=function(l,u){var d=new re(l,16),f=new re(u,16);return P.crypto.ECDSA.biRSSigToASN1Sig(d,f)},P.crypto.ECDSA.biRSSigToASN1Sig=function(l,u){var d=P.asn1,f=new d.DERInteger({bigint:l}),p=new d.DERInteger({bigint:u});return new d.DERSequence({array:[f,p]}).getEncodedHex()},P.crypto.ECDSA.getName=function(l){return"2b8104001f"===l?"secp192k1":"2a8648ce3d030107"===l?"secp256r1":"2b8104000a"===l?"secp256k1":"2b81040021"===l?"secp224r1":"2b81040022"===l?"secp384r1":-1!=="|secp256r1|NIST P-256|P-256|prime256v1|".indexOf(l)?"secp256r1":-1!=="|secp256k1|".indexOf(l)?"secp256k1":-1!=="|secp224r1|NIST P-224|P-224|".indexOf(l)?"secp224r1":-1!=="|secp384r1|NIST P-384|P-384|".indexOf(l)?"secp384r1":null},void 0!==P&&P||(k.KJUR=P={}),void 0!==P.crypto&&P.crypto||(P.crypto={}),P.crypto.ECParameterDB=new function(){var l={},u={};function d(f){return new re(f,16)}this.getByName=function(f){var p=f;if(void 0!==u[p]&&(p=u[f]),void 0!==l[p])return l[p];throw"unregistered EC curve name: "+p},this.regist=function(f,p,v,C,A,F,x,L,U,K,z,ue){l[f]={};var ce=d(v),ge=d(C),D=d(A),N=d(F),R=d(x),W=new jr(ce,ge,D),fe=W.decodePointHex("04"+L+U);l[f].name=f,l[f].keylen=p,l[f].curve=W,l[f].G=fe,l[f].n=N,l[f].h=R,l[f].oid=z,l[f].info=ue;for(var me=0;me<K.length;me++)u[K[me]]=f}},P.crypto.ECParameterDB.regist("secp128r1",128,"FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFDFFFFFFFFFFFFFFFFFFFFFFFC","E87579C11079F43DD824993C2CEE5ED3","FFFFFFFE0000000075A30D1B9038A115","1","161FF7528B899B2D0C28607CA52C5B86","CF5AC8395BAFEB13C02DA292DDED7A83",[],"","secp128r1 : SECG curve over a 128 bit prime field"),P.crypto.ECParameterDB.regist("secp160k1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFAC73","0","7","0100000000000000000001B8FA16DFAB9ACA16B6B3","1","3B4C382CE37AA192A4019E763036F4F5DD4D7EBB","938CF935318FDCED6BC28286531733C3F03C4FEE",[],"","secp160k1 : SECG curve over a 160 bit prime field"),P.crypto.ECParameterDB.regist("secp160r1",160,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF7FFFFFFC","1C97BEFC54BD7A8B65ACF89F81D4D4ADC565FA45","0100000000000000000001F4C8F927AED3CA752257","1","4A96B5688EF573284664698968C38BB913CBFC82","23A628553168947D59DCC912042351377AC5FB32",[],"","secp160r1 : SECG curve over a 160 bit prime field"),P.crypto.ECParameterDB.regist("secp192k1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFEE37","0","3","FFFFFFFFFFFFFFFFFFFFFFFE26F2FC170F69466A74DEFD8D","1","DB4FF10EC057E9AE26B07D0280B7F4341DA5D1B1EAE06C7D","9B2F2F6D9C5628A7844163D015BE86344082AA88D95E2F9D",[]),P.crypto.ECParameterDB.regist("secp192r1",192,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFC","64210519E59C80E70FA7E9AB72243049FEB8DEECC146B9B1","FFFFFFFFFFFFFFFFFFFFFFFF99DEF836146BC9B1B4D22831","1","188DA80EB03090F67CBF20EB43A18800F4FF0AFD82FF1012","07192B95FFC8DA78631011ED6B24CDD573F977A11E794811",[]),P.crypto.ECParameterDB.regist("secp224r1",224,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF000000000000000000000001","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFFFFFFFFFFFFFFFFFE","B4050A850C04B3ABF54132565044B0B7D7BFD8BA270B39432355FFB4","FFFFFFFFFFFFFFFFFFFFFFFFFFFF16A2E0B8F03E13DD29455C5C2A3D","1","B70E0CBD6BB4BF7F321390B94A03C1D356C21122343280D6115C1D21","BD376388B5F723FB4C22DFE6CD4375A05A07476444D5819985007E34",[]),P.crypto.ECParameterDB.regist("secp256k1",256,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFC2F","0","7","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEBAAEDCE6AF48A03BBFD25E8CD0364141","1","79BE667EF9DCBBAC55A06295CE870B07029BFCDB2DCE28D959F2815B16F81798","483ADA7726A3C4655DA4FBFC0E1108A8FD17B448A68554199C47D08FFB10D4B8",[]),P.crypto.ECParameterDB.regist("secp256r1",256,"FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFF","FFFFFFFF00000001000000000000000000000000FFFFFFFFFFFFFFFFFFFFFFFC","5AC635D8AA3A93E7B3EBBD55769886BC651D06B0CC53B0F63BCE3C3E27D2604B","FFFFFFFF00000000FFFFFFFFFFFFFFFFBCE6FAADA7179E84F3B9CAC2FC632551","1","6B17D1F2E12C4247F8BCE6E563A440F277037D812DEB33A0F4A13945D898C296","4FE342E2FE1A7F9B8EE7EB4A7C0F9E162BCE33576B315ECECBB6406837BF51F5",["NIST P-256","P-256","prime256v1"]),P.crypto.ECParameterDB.regist("secp384r1",384,"FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFEFFFFFFFF0000000000000000FFFFFFFC","B3312FA7E23EE7E4988E056BE3F82D19181D9C6EFE8141120314088F5013875AC656398D8A2ED19D2A85C8EDD3EC2AEF","FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC7634D81F4372DDF581A0DB248B0A77AECEC196ACCC52973","1","AA87CA22BE8B05378EB1C71EF320AD746E1D3B628BA79B9859F741E082542A385502F25DBF55296C3A545E3872760AB7","3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f",["NIST P-384","P-384"]),P.crypto.ECParameterDB.regist("secp521r1",521,"1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFC","051953EB9618E1C9A1F929A21A0B68540EEA2DA725B99B315F3B8B489918EF109E156193951EC7E937B1652C0BD3BB1BF073573DF883D2C34F1EF451FD46B503F00","1FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFFA51868783BF2F966B7FCC0148F709A5D03BB5C9B8899C47AEBB6FB71E91386409","1","C6858E06B70404E9CD9E3ECB662395B4429C648139053FB521F828AF606B4D3DBAA14B5E77EFE75928FE1DC127A2FFA8DE3348B3C1856A429BF97E7E31C2E5BD66","011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650",["NIST P-521","P-521"]);var St=function(){var l=function(x,L,U){return u(ne.AES,x,L,U)},u=function(x,L,U,K){var z=ne.enc.Hex.parse(L),ue=ne.enc.Hex.parse(U),ce=ne.enc.Hex.parse(K),ge={};ge.key=ue,ge.iv=ce,ge.ciphertext=z;var D=x.decrypt(ge,ue,{iv:ce});return ne.enc.Hex.stringify(D)},d=function(x,L,U){return f(ne.AES,x,L,U)},f=function(x,L,U,K){var z=ne.enc.Hex.parse(L),ue=ne.enc.Hex.parse(U),ce=ne.enc.Hex.parse(K),ge=x.encrypt(z,ue,{iv:ce}),D=ne.enc.Hex.parse(ge.toString());return ne.enc.Base64.stringify(D)},p={"AES-256-CBC":{proc:l,eproc:d,keylen:32,ivlen:16},"AES-192-CBC":{proc:l,eproc:d,keylen:24,ivlen:16},"AES-128-CBC":{proc:l,eproc:d,keylen:16,ivlen:16},"DES-EDE3-CBC":{proc:function(x,L,U){return u(ne.TripleDES,x,L,U)},eproc:function(x,L,U){return f(ne.TripleDES,x,L,U)},keylen:24,ivlen:8},"DES-CBC":{proc:function(x,L,U){return u(ne.DES,x,L,U)},eproc:function(x,L,U){return f(ne.DES,x,L,U)},keylen:8,ivlen:8}},v=function(x){var L={},U=x.match(new RegExp("DEK-Info: ([^,]+),([0-9A-Fa-f]+)","m"));U&&(L.cipher=U[1],L.ivsalt=U[2]);var K=x.match(new RegExp("-----BEGIN ([A-Z]+) PRIVATE KEY-----"));K&&(L.type=K[1]);var z=-1,ue=0;-1!=x.indexOf("\r\n\r\n")&&(z=x.indexOf("\r\n\r\n"),ue=2),-1!=x.indexOf("\n\n")&&(z=x.indexOf("\n\n"),ue=1);var ce=x.indexOf("-----END");if(-1!=z&&-1!=ce){var ge=x.substring(z+2*ue,ce-ue);ge=ge.replace(/\s+/g,""),L.data=ge}return L},C=function(x,L,U){for(var K=U.substring(0,16),z=ne.enc.Hex.parse(K),ue=ne.enc.Utf8.parse(L),ce=p[x].keylen+p[x].ivlen,ge="",D=null;;){var N=ne.algo.MD5.create();if(null!=D&&N.update(D),N.update(ue),N.update(z),D=N.finalize(),(ge+=ne.enc.Hex.stringify(D)).length>=2*ce)break}var R={};return R.keyhex=ge.substr(0,2*p[x].keylen),R.ivhex=ge.substr(2*p[x].keylen,2*p[x].ivlen),R},A=function(x,L,U,K){var z=ne.enc.Base64.parse(x),ue=ne.enc.Hex.stringify(z);return(0,p[L].proc)(ue,U,K)};return{version:"1.0.0",parsePKCS5PEM:function(x){return v(x)},getKeyAndUnusedIvByPasscodeAndIvsalt:function(x,L,U){return C(x,L,U)},decryptKeyB64:function(x,L,U,K){return A(x,L,U,K)},getDecryptedKeyHex:function(x,L){var U=v(x),K=U.cipher,z=U.ivsalt,ue=U.data,ce=C(K,L,z).keyhex;return A(ue,K,ce,z)},getEncryptedPKCS5PEMFromPrvKeyHex:function(x,L,U,K,z){var D,N,ue="";if(void 0!==K&&null!=K||(K="AES-256-CBC"),void 0===p[K])throw"KEYUTIL unsupported algorithm: "+K;void 0!==z&&null!=z||(z=(D=p[K].ivlen,N=ne.lib.WordArray.random(D),ne.enc.Hex.stringify(N)).toUpperCase());var ce=function(D,N,R,W){return(0,p[N].eproc)(D,R,W)}(L,K,C(K,U,z).keyhex,z);return ue="-----BEGIN "+x+" PRIVATE KEY-----\r\n",ue+="Proc-Type: 4,ENCRYPTED\r\n",ue+="DEK-Info: "+K+","+z+"\r\n",ue+="\r\n",(ue+=ce.replace(/(.{64})/g,"$1\r\n"))+"\r\n-----END "+x+" PRIVATE KEY-----\r\n"},parseHexOfEncryptedPKCS8:function(x){var U=Ie.getChildIdx,K=Ie.getV,z={},ue=U(x,0);if(2!=ue.length)throw"malformed format: SEQUENCE(0).items != 2: "+ue.length;z.ciphertext=K(x,ue[1]);var ce=U(x,ue[0]);if(2!=ce.length)throw"malformed format: SEQUENCE(0.0).items != 2: "+ce.length;if("2a864886f70d01050d"!=K(x,ce[0]))throw"this only supports pkcs5PBES2";var ge=U(x,ce[1]);if(2!=ce.length)throw"malformed format: SEQUENCE(0.0.1).items != 2: "+ge.length;var D=U(x,ge[1]);if(2!=D.length)throw"malformed format: SEQUENCE(0.0.1.1).items != 2: "+D.length;if("2a864886f70d0307"!=K(x,D[0]))throw"this only supports TripleDES";z.encryptionSchemeAlg="TripleDES",z.encryptionSchemeIV=K(x,D[1]);var N=U(x,ge[0]);if(2!=N.length)throw"malformed format: SEQUENCE(0.0.1.0).items != 2: "+N.length;if("2a864886f70d01050c"!=K(x,N[0]))throw"this only supports pkcs5PBKDF2";var R=U(x,N[1]);if(R.length<2)throw"malformed format: SEQUENCE(0.0.1.0.1).items < 2: "+R.length;z.pbkdf2Salt=K(x,R[0]);var W=K(x,R[1]);try{z.pbkdf2Iter=parseInt(W,16)}catch{throw"malformed format pbkdf2Iter: "+W}return z},getPBKDF2KeyHexFromParam:function(x,L){var U=ne.enc.Hex.parse(x.pbkdf2Salt),z=ne.PBKDF2(L,U,{keySize:6,iterations:x.pbkdf2Iter});return ne.enc.Hex.stringify(z)},_getPlainPKCS8HexFromEncryptedPKCS8PEM:function(x,L){var U=_r(x,"ENCRYPTED PRIVATE KEY"),K=this.parseHexOfEncryptedPKCS8(U),z=St.getPBKDF2KeyHexFromParam(K,L),ue={};ue.ciphertext=ne.enc.Hex.parse(K.ciphertext);var ce=ne.enc.Hex.parse(z),ge=ne.enc.Hex.parse(K.encryptionSchemeIV),D=ne.TripleDES.decrypt(ue,ce,{iv:ge});return ne.enc.Hex.stringify(D)},getKeyFromEncryptedPKCS8PEM:function(x,L){var U=this._getPlainPKCS8HexFromEncryptedPKCS8PEM(x,L);return this.getKeyFromPlainPrivatePKCS8Hex(U)},parsePlainPrivatePKCS8Hex:function(x){var L=Ie,U=L.getChildIdx,K=L.getV,z={algparam:null};if("30"!=x.substr(0,2))throw"malformed plain PKCS8 private key(code:001)";var ue=U(x,0);if(3!=ue.length)throw"malformed plain PKCS8 private key(code:002)";if("30"!=x.substr(ue[1],2))throw"malformed PKCS8 private key(code:003)";var ce=U(x,ue[1]);if(2!=ce.length)throw"malformed PKCS8 private key(code:004)";if("06"!=x.substr(ce[0],2))throw"malformed PKCS8 private key(code:005)";if(z.algoid=K(x,ce[0]),"06"==x.substr(ce[1],2)&&(z.algparam=K(x,ce[1])),"04"!=x.substr(ue[2],2))throw"malformed PKCS8 private key(code:006)";return z.keyidx=L.getVidx(x,ue[2]),z},getKeyFromPlainPrivatePKCS8PEM:function(x){var L=_r(x,"PRIVATE KEY");return this.getKeyFromPlainPrivatePKCS8Hex(L)},getKeyFromPlainPrivatePKCS8Hex:function(x){var L,U=this.parsePlainPrivatePKCS8Hex(x);if("2a864886f70d010101"==U.algoid)L=new $e;else if("2a8648ce380401"==U.algoid)L=new P.crypto.DSA;else{if("2a8648ce3d0201"!=U.algoid)throw"unsupported private key algorithm";L=new P.crypto.ECDSA}return L.readPKCS8PrvKeyHex(x),L},_getKeyFromPublicPKCS8Hex:function(x){var L,U=Ie.getVbyList(x,0,[0,0],"06");if("2a864886f70d010101"===U)L=new $e;else if("2a8648ce380401"===U)L=new P.crypto.DSA;else{if("2a8648ce3d0201"!==U)throw"unsupported PKCS#8 public key hex";L=new P.crypto.ECDSA}return L.readPKCS8PubKeyHex(x),L},parsePublicRawRSAKeyHex:function(x){var U=Ie.getChildIdx,K=Ie.getV,z={};if("30"!=x.substr(0,2))throw"malformed RSA key(code:001)";var ue=U(x,0);if(2!=ue.length)throw"malformed RSA key(code:002)";if("02"!=x.substr(ue[0],2))throw"malformed RSA key(code:003)";if(z.n=K(x,ue[0]),"02"!=x.substr(ue[1],2))throw"malformed RSA key(code:004)";return z.e=K(x,ue[1]),z},parsePublicPKCS8Hex:function(x){var L=Ie,U=L.getChildIdx,K=L.getV,z={algparam:null},ue=U(x,0);if(2!=ue.length)throw"outer DERSequence shall have 2 elements: "+ue.length;var ce=ue[0];if("30"!=x.substr(ce,2))throw"malformed PKCS8 public key(code:001)";var ge=U(x,ce);if(2!=ge.length)throw"malformed PKCS8 public key(code:002)";if("06"!=x.substr(ge[0],2))throw"malformed PKCS8 public key(code:003)";if(z.algoid=K(x,ge[0]),"06"==x.substr(ge[1],2)?z.algparam=K(x,ge[1]):"30"==x.substr(ge[1],2)&&(z.algparam={},z.algparam.p=L.getVbyList(x,ge[1],[0],"02"),z.algparam.q=L.getVbyList(x,ge[1],[1],"02"),z.algparam.g=L.getVbyList(x,ge[1],[2],"02")),"03"!=x.substr(ue[1],2))throw"malformed PKCS8 public key(code:004)";return z.key=K(x,ue[1]).substr(2),z}}}();St.getKey=function(l,u,d){var Mt,f=(ge=Ie).getChildIdx,p=ge.getVbyList,v=P.crypto,C=v.ECDSA,A=v.DSA,F=$e,x=_r,L=St;if(void 0!==F&&l instanceof F||void 0!==C&&l instanceof C||void 0!==A&&l instanceof A)return l;if(void 0!==l.curve&&void 0!==l.xy&&void 0===l.d)return new C({pub:l.xy,curve:l.curve});if(void 0!==l.curve&&void 0!==l.d)return new C({prv:l.d,curve:l.curve});if(void 0===l.kty&&void 0!==l.n&&void 0!==l.e&&void 0===l.d)return(De=new F).setPublic(l.n,l.e),De;if(void 0===l.kty&&void 0!==l.n&&void 0!==l.e&&void 0!==l.d&&void 0!==l.p&&void 0!==l.q&&void 0!==l.dp&&void 0!==l.dq&&void 0!==l.co&&void 0===l.qi)return(De=new F).setPrivateEx(l.n,l.e,l.d,l.p,l.q,l.dp,l.dq,l.co),De;if(void 0===l.kty&&void 0!==l.n&&void 0!==l.e&&void 0!==l.d&&void 0===l.p)return(De=new F).setPrivate(l.n,l.e,l.d),De;if(void 0!==l.p&&void 0!==l.q&&void 0!==l.g&&void 0!==l.y&&void 0===l.x)return(De=new A).setPublic(l.p,l.q,l.g,l.y),De;if(void 0!==l.p&&void 0!==l.q&&void 0!==l.g&&void 0!==l.y&&void 0!==l.x)return(De=new A).setPrivate(l.p,l.q,l.g,l.y,l.x),De;if("RSA"===l.kty&&void 0!==l.n&&void 0!==l.e&&void 0===l.d)return(De=new F).setPublic(Ft(l.n),Ft(l.e)),De;if("RSA"===l.kty&&void 0!==l.n&&void 0!==l.e&&void 0!==l.d&&void 0!==l.p&&void 0!==l.q&&void 0!==l.dp&&void 0!==l.dq&&void 0!==l.qi)return(De=new F).setPrivateEx(Ft(l.n),Ft(l.e),Ft(l.d),Ft(l.p),Ft(l.q),Ft(l.dp),Ft(l.dq),Ft(l.qi)),De;if("RSA"===l.kty&&void 0!==l.n&&void 0!==l.e&&void 0!==l.d)return(De=new F).setPrivate(Ft(l.n),Ft(l.e),Ft(l.d)),De;if("EC"===l.kty&&void 0!==l.crv&&void 0!==l.x&&void 0!==l.y&&void 0===l.d){var U=(Ee=new C({curve:l.crv})).ecparams.keylen/4,K="04"+("0000000000"+Ft(l.x)).slice(-U)+("0000000000"+Ft(l.y)).slice(-U);return Ee.setPublicKeyHex(K),Ee}if("EC"===l.kty&&void 0!==l.crv&&void 0!==l.x&&void 0!==l.y&&void 0!==l.d){U=(Ee=new C({curve:l.crv})).ecparams.keylen/4,K="04"+("0000000000"+Ft(l.x)).slice(-U)+("0000000000"+Ft(l.y)).slice(-U);var z=("0000000000"+Ft(l.d)).slice(-U);return Ee.setPublicKeyHex(K),Ee.setPrivateKeyHex(z),Ee}if("pkcs5prv"===d){var ue,ce=l,ge=Ie;if(9===(ue=f(ce,0)).length)(De=new F).readPKCS5PrvKeyHex(ce);else if(6===ue.length)(De=new A).readPKCS5PrvKeyHex(ce);else{if(!(ue.length>2&&"04"===ce.substr(ue[1],2)))throw"unsupported PKCS#1/5 hexadecimal key";(De=new C).readPKCS5PrvKeyHex(ce)}return De}if("pkcs8prv"===d)return L.getKeyFromPlainPrivatePKCS8Hex(l);if("pkcs8pub"===d)return L._getKeyFromPublicPKCS8Hex(l);if("x509pub"===d)return sn.getPublicKeyFromCertHex(l);if(-1!=l.indexOf("-END CERTIFICATE-",0)||-1!=l.indexOf("-END X509 CERTIFICATE-",0)||-1!=l.indexOf("-END TRUSTED CERTIFICATE-",0))return sn.getPublicKeyFromCertPEM(l);if(-1!=l.indexOf("-END PUBLIC KEY-")){var D=_r(l,"PUBLIC KEY");return L._getKeyFromPublicPKCS8Hex(D)}if(-1!=l.indexOf("-END RSA PRIVATE KEY-")&&-1==l.indexOf("4,ENCRYPTED")){var N=x(l,"RSA PRIVATE KEY");return L.getKey(N,null,"pkcs5prv")}if(-1!=l.indexOf("-END DSA PRIVATE KEY-")&&-1==l.indexOf("4,ENCRYPTED")){var R=p(Mt=x(l,"DSA PRIVATE KEY"),0,[1],"02"),W=p(Mt,0,[2],"02"),fe=p(Mt,0,[3],"02"),me=p(Mt,0,[4],"02"),xe=p(Mt,0,[5],"02");return(De=new A).setPrivate(new re(R,16),new re(W,16),new re(fe,16),new re(me,16),new re(xe,16)),De}if(-1!=l.indexOf("-END EC PRIVATE KEY-")&&-1==l.indexOf("4,ENCRYPTED"))return N=x(l,"EC PRIVATE KEY"),L.getKey(N,null,"pkcs5prv");if(-1!=l.indexOf("-END PRIVATE KEY-"))return L.getKeyFromPlainPrivatePKCS8PEM(l);if(-1!=l.indexOf("-END RSA PRIVATE KEY-")&&-1!=l.indexOf("4,ENCRYPTED")){var J=L.getDecryptedKeyHex(l,u),tt=new $e;return tt.readPKCS5PrvKeyHex(J),tt}if(-1!=l.indexOf("-END EC PRIVATE KEY-")&&-1!=l.indexOf("4,ENCRYPTED")){var Ee,De=p(Mt=L.getDecryptedKeyHex(l,u),0,[1],"04"),It=p(Mt,0,[2,0],"06"),Ht=p(Mt,0,[3,0],"03").substr(2);if(void 0===P.crypto.OID.oidhex2name[It])throw"undefined OID(hex) in KJUR.crypto.OID: "+It;return(Ee=new C({curve:P.crypto.OID.oidhex2name[It]})).setPublicKeyHex(Ht),Ee.setPrivateKeyHex(De),Ee.isPublic=!1,Ee}if(-1!=l.indexOf("-END DSA PRIVATE KEY-")&&-1!=l.indexOf("4,ENCRYPTED"))return R=p(Mt=L.getDecryptedKeyHex(l,u),0,[1],"02"),W=p(Mt,0,[2],"02"),fe=p(Mt,0,[3],"02"),me=p(Mt,0,[4],"02"),xe=p(Mt,0,[5],"02"),(De=new A).setPrivate(new re(R,16),new re(W,16),new re(fe,16),new re(me,16),new re(xe,16)),De;if(-1!=l.indexOf("-END ENCRYPTED PRIVATE KEY-"))return L.getKeyFromEncryptedPKCS8PEM(l,u);throw new Error("not supported argument")},St.generateKeypair=function(l,u){if("RSA"==l){var d=u;(C=new $e).generate(d,"10001"),C.isPrivate=!0,C.isPublic=!0;var f=new $e,p=C.n.toString(16),v=C.e.toString(16);return f.setPublic(p,v),f.isPrivate=!1,f.isPublic=!0,(A={}).prvKeyObj=C,A.pubKeyObj=f,A}if("EC"==l){var C,A,F=u,x=new P.crypto.ECDSA({curve:F}).generateKeyPairHex();return(C=new P.crypto.ECDSA({curve:F})).setPublicKeyHex(x.ecpubhex),C.setPrivateKeyHex(x.ecprvhex),C.isPrivate=!0,C.isPublic=!1,(f=new P.crypto.ECDSA({curve:F})).setPublicKeyHex(x.ecpubhex),f.isPrivate=!1,f.isPublic=!0,(A={}).prvKeyObj=C,A.pubKeyObj=f,A}throw"unknown algorithm: "+l},St.getPEM=function(l,u,d,f,p,v){var A=P.asn1,F=A.DERObjectIdentifier,x=A.DERInteger,L=A.ASN1Util.newObject,K=P.crypto,z=K.DSA,ue=K.ECDSA,ce=$e;function ge(Ee){return L({seq:[{int:0},{int:{bigint:Ee.n}},{int:Ee.e},{int:{bigint:Ee.d}},{int:{bigint:Ee.p}},{int:{bigint:Ee.q}},{int:{bigint:Ee.dmp1}},{int:{bigint:Ee.dmq1}},{int:{bigint:Ee.coeff}}]})}function D(Ee){return L({seq:[{int:1},{octstr:{hex:Ee.prvKeyHex}},{tag:["a0",!0,{oid:{name:Ee.curveName}}]},{tag:["a1",!0,{bitstr:{hex:"00"+Ee.pubKeyHex}}]}]})}function N(Ee){return L({seq:[{int:0},{int:{bigint:Ee.p}},{int:{bigint:Ee.q}},{int:{bigint:Ee.g}},{int:{bigint:Ee.y}},{int:{bigint:Ee.x}}]})}if((void 0!==ce&&l instanceof ce||void 0!==z&&l instanceof z||void 0!==ue&&l instanceof ue)&&1==l.isPublic&&(void 0===u||"PKCS8PUB"==u))return Bn(me=new(0,A.x509.SubjectPublicKeyInfo)(l).getEncodedHex(),"PUBLIC KEY");if("PKCS1PRV"==u&&void 0!==ce&&l instanceof ce&&(void 0===d||null==d)&&1==l.isPrivate)return Bn(me=ge(l).getEncodedHex(),"RSA PRIVATE KEY");if("PKCS1PRV"==u&&void 0!==ue&&l instanceof ue&&(void 0===d||null==d)&&1==l.isPrivate){var R=new F({name:l.curveName}).getEncodedHex(),W=D(l).getEncodedHex(),fe="";return(fe+=Bn(R,"EC PARAMETERS"))+Bn(W,"EC PRIVATE KEY")}if("PKCS1PRV"==u&&void 0!==z&&l instanceof z&&(void 0===d||null==d)&&1==l.isPrivate)return Bn(me=N(l).getEncodedHex(),"DSA PRIVATE KEY");if("PKCS5PRV"==u&&void 0!==ce&&l instanceof ce&&void 0!==d&&null!=d&&1==l.isPrivate){var me=ge(l).getEncodedHex();return void 0===f&&(f="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("RSA",me,d,f,v)}if("PKCS5PRV"==u&&void 0!==ue&&l instanceof ue&&void 0!==d&&null!=d&&1==l.isPrivate)return me=D(l).getEncodedHex(),void 0===f&&(f="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("EC",me,d,f,v);if("PKCS5PRV"==u&&void 0!==z&&l instanceof z&&void 0!==d&&null!=d&&1==l.isPrivate)return me=N(l).getEncodedHex(),void 0===f&&(f="DES-EDE3-CBC"),this.getEncryptedPKCS5PEMFromPrvKeyHex("DSA",me,d,f,v);var xe=function(De,It){var Ht=J(De,It);return new L({seq:[{seq:[{oid:{name:"pkcs5PBES2"}},{seq:[{seq:[{oid:{name:"pkcs5PBKDF2"}},{seq:[{octstr:{hex:Ht.pbkdf2Salt}},{int:Ht.pbkdf2Iter}]}]},{seq:[{oid:{name:"des-EDE3-CBC"}},{octstr:{hex:Ht.encryptionSchemeIV}}]}]}]},{octstr:{hex:Ht.ciphertext}}]}).getEncodedHex()},J=function(De,It){var Ht=ne.lib.WordArray.random(8),Mt=ne.lib.WordArray.random(8),yn=ne.PBKDF2(It,Ht,{keySize:6,iterations:100}),bt=ne.enc.Hex.parse(De),Un=ne.TripleDES.encrypt(bt,yn,{iv:Mt})+"",Yt={};return Yt.ciphertext=Un,Yt.pbkdf2Salt=ne.enc.Hex.stringify(Ht),Yt.pbkdf2Iter=100,Yt.encryptionSchemeAlg="DES-EDE3-CBC",Yt.encryptionSchemeIV=ne.enc.Hex.stringify(Mt),Yt};if("PKCS8PRV"==u&&null!=ce&&l instanceof ce&&1==l.isPrivate){var tt=ge(l).getEncodedHex();return me=L({seq:[{int:0},{seq:[{oid:{name:"rsaEncryption"}},{null:!0}]},{octstr:{hex:tt}}]}).getEncodedHex(),void 0===d||null==d?Bn(me,"PRIVATE KEY"):Bn(W=xe(me,d),"ENCRYPTED PRIVATE KEY")}if("PKCS8PRV"==u&&void 0!==ue&&l instanceof ue&&1==l.isPrivate)return tt=new L({seq:[{int:1},{octstr:{hex:l.prvKeyHex}},{tag:["a1",!0,{bitstr:{hex:"00"+l.pubKeyHex}}]}]}).getEncodedHex(),me=L({seq:[{int:0},{seq:[{oid:{name:"ecPublicKey"}},{oid:{name:l.curveName}}]},{octstr:{hex:tt}}]}).getEncodedHex(),void 0===d||null==d?Bn(me,"PRIVATE KEY"):Bn(W=xe(me,d),"ENCRYPTED PRIVATE KEY");if("PKCS8PRV"==u&&void 0!==z&&l instanceof z&&1==l.isPrivate)return tt=new x({bigint:l.x}).getEncodedHex(),me=L({seq:[{int:0},{seq:[{oid:{name:"dsa"}},{seq:[{int:{bigint:l.p}},{int:{bigint:l.q}},{int:{bigint:l.g}}]}]},{octstr:{hex:tt}}]}).getEncodedHex(),void 0===d||null==d?Bn(me,"PRIVATE KEY"):Bn(W=xe(me,d),"ENCRYPTED PRIVATE KEY");throw new Error("unsupported object nor format")},St.getKeyFromCSRPEM=function(l){var u=_r(l,"CERTIFICATE REQUEST");return St.getKeyFromCSRHex(u)},St.getKeyFromCSRHex=function(l){var u=St.parseCSRHex(l);return St.getKey(u.p8pubkeyhex,null,"pkcs8pub")},St.parseCSRHex=function(l){var d=Ie.getChildIdx,f=Ie.getTLV,p={},v=l;if("30"!=v.substr(0,2))throw"malformed CSR(code:001)";var C=d(v,0);if(C.length<1)throw"malformed CSR(code:002)";if("30"!=v.substr(C[0],2))throw"malformed CSR(code:003)";var A=d(v,C[0]);if(A.length<3)throw"malformed CSR(code:004)";return p.p8pubkeyhex=f(v,A[2]),p},St.getKeyID=function(l){var u=St,d=Ie;"string"==typeof l&&-1!=l.indexOf("BEGIN ")&&(l=u.getKey(l));var f=_r(u.getPEM(l)),p=d.getIdxbyList(f,0,[1]),v=d.getV(f,p).substring(2);return P.crypto.Util.hashHex(v,"sha1")},St.getJWKFromKey=function(l){var u={};if(l instanceof $e&&l.isPrivate)return u.kty="RSA",u.n=on(l.n.toString(16)),u.e=on(l.e.toString(16)),u.d=on(l.d.toString(16)),u.p=on(l.p.toString(16)),u.q=on(l.q.toString(16)),u.dp=on(l.dmp1.toString(16)),u.dq=on(l.dmq1.toString(16)),u.qi=on(l.coeff.toString(16)),u;if(l instanceof $e&&l.isPublic)return u.kty="RSA",u.n=on(l.n.toString(16)),u.e=on(l.e.toString(16)),u;if(l instanceof P.crypto.ECDSA&&l.isPrivate){if("P-256"!==(f=l.getShortNISTPCurveName())&&"P-384"!==f)throw"unsupported curve name for JWT: "+f;var d=l.getPublicKeyXYHex();return u.kty="EC",u.crv=f,u.x=on(d.x),u.y=on(d.y),u.d=on(l.prvKeyHex),u}if(l instanceof P.crypto.ECDSA&&l.isPublic){var f;if("P-256"!==(f=l.getShortNISTPCurveName())&&"P-384"!==f)throw"unsupported curve name for JWT: "+f;return d=l.getPublicKeyXYHex(),u.kty="EC",u.crv=f,u.x=on(d.x),u.y=on(d.y),u}throw"not supported key object"},$e.getPosArrayOfChildrenFromHex=function(l){return Ie.getChildIdx(l,0)},$e.getHexValueArrayOfChildrenFromHex=function(l){var u,d=Ie.getV,f=d(l,(u=$e.getPosArrayOfChildrenFromHex(l))[0]),p=d(l,u[1]),v=d(l,u[2]),C=d(l,u[3]),A=d(l,u[4]),F=d(l,u[5]),x=d(l,u[6]),L=d(l,u[7]),U=d(l,u[8]);return(u=new Array).push(f,p,v,C,A,F,x,L,U),u},$e.prototype.readPrivateKeyFromPEMString=function(l){var u=_r(l),d=$e.getHexValueArrayOfChildrenFromHex(u);this.setPrivateEx(d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8])},$e.prototype.readPKCS5PrvKeyHex=function(l){var u=$e.getHexValueArrayOfChildrenFromHex(l);this.setPrivateEx(u[1],u[2],u[3],u[4],u[5],u[6],u[7],u[8])},$e.prototype.readPKCS8PrvKeyHex=function(l){var u,d,f,p,v,C,A,F,L=Ie.getVbyListEx;if(!1===Ie.isASN1HEX(l))throw new Error("not ASN.1 hex string");try{u=L(l,0,[2,0,1],"02"),d=L(l,0,[2,0,2],"02"),f=L(l,0,[2,0,3],"02"),p=L(l,0,[2,0,4],"02"),v=L(l,0,[2,0,5],"02"),C=L(l,0,[2,0,6],"02"),A=L(l,0,[2,0,7],"02"),F=L(l,0,[2,0,8],"02")}catch{throw new Error("malformed PKCS#8 plain RSA private key")}this.setPrivateEx(u,d,f,p,v,C,A,F)},$e.prototype.readPKCS5PubKeyHex=function(l){var u=Ie,d=u.getV;if(!1===u.isASN1HEX(l))throw new Error("keyHex is not ASN.1 hex string");var f=u.getChildIdx(l,0);if(2!==f.length||"02"!==l.substr(f[0],2)||"02"!==l.substr(f[1],2))throw new Error("wrong hex for PKCS#5 public key");var p=d(l,f[0]),v=d(l,f[1]);this.setPublic(p,v)},$e.prototype.readPKCS8PubKeyHex=function(l){var u=Ie;if(!1===u.isASN1HEX(l))throw new Error("not ASN.1 hex string");if("06092a864886f70d010101"!==u.getTLVbyListEx(l,0,[0,0]))throw new Error("not PKCS8 RSA public key");var d=u.getTLVbyListEx(l,0,[1,0]);this.readPKCS5PubKeyHex(d)},$e.prototype.readCertPubKeyHex=function(l,u){var d,f;(d=new sn).readCertHex(l),f=d.getPublicKeyHex(),this.readPKCS8PubKeyHex(f)};var gf=new RegExp("[^0-9a-f]","gi");function Jt(l,u){for(var d="",f=u/4-l.length,p=0;p<f;p++)d+="0";return d+l}function Mi(l,u,d){for(var f="",p=0;f.length<u;)f+=Vn(d(vr(l+String.fromCharCode.apply(String,[(4278190080&p)>>24,(16711680&p)>>16,(65280&p)>>8,255&p])))),p+=1;return f}function wr(l){for(var u in P.crypto.Util.DIGESTINFOHEAD){var d=P.crypto.Util.DIGESTINFOHEAD[u],f=d.length;if(l.substring(0,f)==d)return[u,l.substring(f)]}return[]}function sn(l){var u,d=Ie,f=d.getChildIdx,p=d.getV,v=d.getTLV,C=d.getVbyList,A=d.getVbyListEx,F=d.getTLVbyList,x=d.getTLVbyListEx,L=d.getIdxbyList,U=d.getIdxbyListEx,K=d.getVidx,z=d.oidname,ue=d.hextooidstr,ce=sn,ge=_r;try{u=P.asn1.x509.AlgorithmIdentifier.PSSNAME2ASN1TLV}catch{}this.HEX2STAG={"0c":"utf8",13:"prn",16:"ia5","1a":"vis","1e":"bmp"},this.hex=null,this.version=0,this.foffset=0,this.aExtInfo=null,this.getVersion=function(){return null===this.hex||0!==this.version?this.version:"a003020102"!==F(this.hex,0,[0,0])?(this.version=1,this.foffset=-1,1):(this.version=3,3)},this.getSerialNumberHex=function(){return A(this.hex,0,[0,0],"02")},this.getSignatureAlgorithmField=function(){var D=x(this.hex,0,[0,1]);return this.getAlgorithmIdentifierName(D)},this.getAlgorithmIdentifierName=function(D){for(var N in u)if(D===u[N])return N;return z(A(D,0,[0],"06"))},this.getIssuer=function(){return this.getX500Name(this.getIssuerHex())},this.getIssuerHex=function(){return F(this.hex,0,[0,3+this.foffset],"30")},this.getIssuerString=function(){return ce.hex2dn(this.getIssuerHex())},this.getSubject=function(){return this.getX500Name(this.getSubjectHex())},this.getSubjectHex=function(){return F(this.hex,0,[0,5+this.foffset],"30")},this.getSubjectString=function(){return ce.hex2dn(this.getSubjectHex())},this.getNotBefore=function(){var D=C(this.hex,0,[0,4+this.foffset,0]);return D=D.replace(/(..)/g,"%$1"),decodeURIComponent(D)},this.getNotAfter=function(){var D=C(this.hex,0,[0,4+this.foffset,1]);return D=D.replace(/(..)/g,"%$1"),decodeURIComponent(D)},this.getPublicKeyHex=function(){return d.getTLVbyList(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyIdx=function(){return L(this.hex,0,[0,6+this.foffset],"30")},this.getPublicKeyContentIdx=function(){var D=this.getPublicKeyIdx();return L(this.hex,D,[1,0],"30")},this.getPublicKey=function(){return St.getKey(this.getPublicKeyHex(),null,"pkcs8pub")},this.getSignatureAlgorithmName=function(){var D=F(this.hex,0,[1],"30");return this.getAlgorithmIdentifierName(D)},this.getSignatureValueHex=function(){return C(this.hex,0,[2],"03",!0)},this.verifySignature=function(D){var N=this.getSignatureAlgorithmField(),R=this.getSignatureValueHex(),W=F(this.hex,0,[0],"30"),fe=new P.crypto.Signature({alg:N});return fe.init(D),fe.updateHex(W),fe.verify(R)},this.parseExt=function(D){var N,R,W;if(void 0===D){if(3!==this.version)return-1;N=L(W=this.hex,0,[0,7,0],"30"),R=f(W,N)}else{W=_r(D);var fe=L(W,0,[0,3,0,0],"06");if("2a864886f70d01090e"!=p(W,fe))return void(this.aExtInfo=new Array);N=L(W,0,[0,3,0,1,0],"30"),R=f(W,N),this.hex=W}this.aExtInfo=new Array;for(var me=0;me<R.length;me++){var xe={critical:!1},J=0;3===f(W,R[me]).length&&(xe.critical=!0,J=1),xe.oid=d.hextooidstr(C(W,R[me],[0],"06"));var tt=L(W,R[me],[1+J]);xe.vidx=K(W,tt),this.aExtInfo.push(xe)}},this.getExtInfo=function(D){var N=this.aExtInfo,R=D;if(D.match(/^[0-9.]+$/)||(R=P.asn1.x509.OID.name2oid(D)),""!==R)for(var W=0;W<N.length;W++)if(N[W].oid===R)return N[W]},this.getExtBasicConstraints=function(D,N){if(void 0===D&&void 0===N){var R=this.getExtInfo("basicConstraints");if(void 0===R)return;D=v(this.hex,R.vidx),N=R.critical}var W={extname:"basicConstraints"};if(N&&(W.critical=!0),"3000"===D)return W;if("30030101ff"===D)return W.cA=!0,W;if("30060101ff02"===D.substr(0,12)){var fe=p(D,10),me=parseInt(fe,16);return W.cA=!0,W.pathLen=me,W}throw new Error("hExtV parse error: "+D)},this.getExtKeyUsage=function(D,N){if(void 0===D&&void 0===N){var R=this.getExtInfo("keyUsage");if(void 0===R)return;D=v(this.hex,R.vidx),N=R.critical}var W={extname:"keyUsage"};return N&&(W.critical=!0),W.names=this.getExtKeyUsageString(D).split(","),W},this.getExtKeyUsageBin=function(D){if(void 0===D){var N=this.getExtInfo("keyUsage");if(void 0===N)return"";D=v(this.hex,N.vidx)}if(8!=D.length&&10!=D.length)throw new Error("malformed key usage value: "+D);var R="000000000000000"+parseInt(D.substr(6),16).toString(2);return 8==D.length&&(R=R.slice(-8)),10==D.length&&(R=R.slice(-16)),""==(R=R.replace(/0+$/,""))&&(R="0"),R},this.getExtKeyUsageString=function(D){for(var N=this.getExtKeyUsageBin(D),R=new Array,W=0;W<N.length;W++)"1"==N.substr(W,1)&&R.push(sn.KEYUSAGE_NAME[W]);return R.join(",")},this.getExtSubjectKeyIdentifier=function(D,N){if(void 0===D&&void 0===N){var R=this.getExtInfo("subjectKeyIdentifier");if(void 0===R)return;D=v(this.hex,R.vidx),N=R.critical}var W={extname:"subjectKeyIdentifier"};N&&(W.critical=!0);var fe=p(D,0);return W.kid={hex:fe},W},this.getExtAuthorityKeyIdentifier=function(D,N){if(void 0===D&&void 0===N){var R=this.getExtInfo("authorityKeyIdentifier");if(void 0===R)return;D=v(this.hex,R.vidx),N=R.critical}var W={extname:"authorityKeyIdentifier"};N&&(W.critical=!0);for(var fe=f(D,0),me=0;me<fe.length;me++){var xe=D.substr(fe[me],2);if("80"===xe&&(W.kid={hex:p(D,fe[me])}),"a1"===xe){var J=v(D,fe[me]),tt=this.getGeneralNames(J);W.issuer=tt[0].dn}"82"===xe&&(W.sn={hex:p(D,fe[me])})}return W},this.getExtExtKeyUsage=function(D,N){if(void 0===D&&void 0===N){var R=this.getExtInfo("extKeyUsage");if(void 0===R)return;D=v(this.hex,R.vidx),N=R.critical}var W={extname:"extKeyUsage",array:[]};N&&(W.critical=!0);for(var fe=f(D,0),me=0;me<fe.length;me++)W.array.push(z(p(D,fe[me])));return W},this.getExtExtKeyUsageName=function(){var D=this.getExtInfo("extKeyUsage");if(void 0===D)return D;var N=new Array,R=v(this.hex,D.vidx);if(""===R)return N;for(var W=f(R,0),fe=0;fe<W.length;fe++)N.push(z(p(R,W[fe])));return N},this.getExtSubjectAltName=function(D,N){if(void 0===D&&void 0===N){var R=this.getExtInfo("subjectAltName");if(void 0===R)return;D=v(this.hex,R.vidx),N=R.critical}var W={extname:"subjectAltName",array:[]};return N&&(W.critical=!0),W.array=this.getGeneralNames(D),W},this.getExtIssuerAltName=function(D,N){if(void 0===D&&void 0===N){var R=this.getExtInfo("issuerAltName");if(void 0===R)return;D=v(this.hex,R.vidx),N=R.critical}var W={extname:"issuerAltName",array:[]};return N&&(W.critical=!0),W.array=this.getGeneralNames(D),W},this.getGeneralNames=function(D){for(var N=f(D,0),R=[],W=0;W<N.length;W++){var fe=this.getGeneralName(v(D,N[W]));void 0!==fe&&R.push(fe)}return R},this.getGeneralName=function(D){var N=D.substr(0,2),R=p(D,0),W=Vn(R);return"81"==N?{rfc822:W}:"82"==N?{dns:W}:"86"==N?{uri:W}:"87"==N?{ip:Pa(R)}:"a4"==N?{dn:this.getX500Name(R)}:void 0},this.getExtSubjectAltName2=function(){var D,N,R,W=this.getExtInfo("subjectAltName");if(void 0===W)return W;for(var fe=new Array,me=v(this.hex,W.vidx),xe=f(me,0),J=0;J<xe.length;J++)R=me.substr(xe[J],2),D=p(me,xe[J]),"81"===R&&(N=Cn(D),fe.push(["MAIL",N])),"82"===R&&(N=Cn(D),fe.push(["DNS",N])),"84"===R&&(N=sn.hex2dn(D,0),fe.push(["DN",N])),"86"===R&&(N=Cn(D),fe.push(["URI",N])),"87"===R&&(N=Pa(D),fe.push(["IP",N]));return fe},this.getExtCRLDistributionPoints=function(D,N){if(void 0===D&&void 0===N){var R=this.getExtInfo("cRLDistributionPoints");if(void 0===R)return;D=v(this.hex,R.vidx),N=R.critical}var W={extname:"cRLDistributionPoints",array:[]};N&&(W.critical=!0);for(var fe=f(D,0),me=0;me<fe.length;me++){var xe=v(D,fe[me]);W.array.push(this.getDistributionPoint(xe))}return W},this.getDistributionPoint=function(D){for(var N={},R=f(D,0),W=0;W<R.length;W++){var fe=D.substr(R[W],2),me=v(D,R[W]);"a0"==fe&&(N.dpname=this.getDistributionPointName(me))}return N},this.getDistributionPointName=function(D){for(var N={},R=f(D,0),W=0;W<R.length;W++){var fe=D.substr(R[W],2),me=v(D,R[W]);"a0"==fe&&(N.full=this.getGeneralNames(me))}return N},this.getExtCRLDistributionPointsURI=function(){var D=this.getExtInfo("cRLDistributionPoints");if(void 0===D)return D;for(var N=new Array,R=f(this.hex,D.vidx),W=0;W<R.length;W++)try{var fe=Cn(C(this.hex,R[W],[0,0,0],"86"));N.push(fe)}catch{}return N},this.getExtAIAInfo=function(){var D=this.getExtInfo("authorityInfoAccess");if(void 0===D)return D;for(var N={ocsp:[],caissuer:[]},R=f(this.hex,D.vidx),W=0;W<R.length;W++){var fe=C(this.hex,R[W],[0],"06"),me=C(this.hex,R[W],[1],"86");"2b06010505073001"===fe&&N.ocsp.push(Cn(me)),"2b06010505073002"===fe&&N.caissuer.push(Cn(me))}return N},this.getExtAuthorityInfoAccess=function(D,N){if(void 0===D&&void 0===N){var R=this.getExtInfo("authorityInfoAccess");if(void 0===R)return;D=v(this.hex,R.vidx),N=R.critical}var W={extname:"authorityInfoAccess",array:[]};N&&(W.critical=!0);for(var fe=f(D,0),me=0;me<fe.length;me++){var xe=A(D,fe[me],[0],"06"),J=Cn(C(D,fe[me],[1],"86"));if("2b06010505073001"==xe)W.array.push({ocsp:J});else{if("2b06010505073002"!=xe)throw new Error("unknown method: "+xe);W.array.push({caissuer:J})}}return W},this.getExtCertificatePolicies=function(D,N){if(void 0===D&&void 0===N){var R=this.getExtInfo("certificatePolicies");if(void 0===R)return;D=v(this.hex,R.vidx),N=R.critical}var W={extname:"certificatePolicies",array:[]};N&&(W.critical=!0);for(var fe=f(D,0),me=0;me<fe.length;me++){var xe=v(D,fe[me]),J=this.getPolicyInformation(xe);W.array.push(J)}return W},this.getPolicyInformation=function(D){var N={},R=C(D,0,[0],"06");N.policyoid=z(R);var W=U(D,0,[1],"30");if(-1!=W){N.array=[];for(var fe=f(D,W),me=0;me<fe.length;me++){var xe=v(D,fe[me]),J=this.getPolicyQualifierInfo(xe);N.array.push(J)}}return N},this.getPolicyQualifierInfo=function(D){var N={},R=C(D,0,[0],"06");if("2b06010505070201"===R){var W=A(D,0,[1],"16");N.cps=Vn(W)}else if("2b06010505070202"===R){var fe=F(D,0,[1],"30");N.unotice=this.getUserNotice(fe)}return N},this.getUserNotice=function(D){for(var N={},R=f(D,0),W=0;W<R.length;W++){var fe=v(D,R[W]);"30"!=fe.substr(0,2)&&(N.exptext=this.getDisplayText(fe))}return N},this.getDisplayText=function(D){var N={};return N.type={"0c":"utf8",16:"ia5","1a":"vis","1e":"bmp"}[D.substr(0,2)],N.str=Vn(p(D,0)),N},this.getExtCRLNumber=function(D,N){var R={extname:"cRLNumber"};if(N&&(R.critical=!0),"02"==D.substr(0,2))return R.num={hex:p(D,0)},R;throw new Error("hExtV parse error: "+D)},this.getExtCRLReason=function(D,N){var R={extname:"cRLReason"};if(N&&(R.critical=!0),"0a"==D.substr(0,2))return R.code=parseInt(p(D,0),16),R;throw new Error("hExtV parse error: "+D)},this.getExtOcspNonce=function(D,N){var R={extname:"ocspNonce"};N&&(R.critical=!0);var W=p(D,0);return R.hex=W,R},this.getExtOcspNoCheck=function(D,N){var R={extname:"ocspNoCheck"};return N&&(R.critical=!0),R},this.getExtAdobeTimeStamp=function(D,N){if(void 0===D&&void 0===N){var R=this.getExtInfo("adobeTimeStamp");if(void 0===R)return;D=v(this.hex,R.vidx),N=R.critical}var W={extname:"adobeTimeStamp"};N&&(W.critical=!0);var fe=f(D,0);if(fe.length>1){var me=v(D,fe[1]),xe=this.getGeneralName(me);null!=xe.uri&&(W.uri=xe.uri)}if(fe.length>2){var J=v(D,fe[2]);"0101ff"==J&&(W.reqauth=!0),"010100"==J&&(W.reqauth=!1)}return W},this.getX500NameRule=function(D){for(var N=null,R=[],W=0;W<D.length;W++)for(var fe=D[W],me=0;me<fe.length;me++)R.push(fe[me]);for(W=0;W<R.length;W++){var xe=R[W],J=xe.ds,Ee=xe.type;if("prn"!=J&&"utf8"!=J&&"ia5"!=J)return"mixed";if("ia5"==J){if("CN"!=Ee)return"mixed";if(P.lang.String.isMail(xe.value))continue;return"mixed"}if("C"==Ee){if("prn"==J)continue;return"mixed"}if(null==N)N=J;else if(N!==J)return"mixed"}return N??"prn"},this.getX500Name=function(D){var N=this.getX500NameArray(D);return{array:N,str:this.dnarraytostr(N)}},this.getX500NameArray=function(D){for(var N=[],R=f(D,0),W=0;W<R.length;W++)N.push(this.getRDN(v(D,R[W])));return N},this.getRDN=function(D){for(var N=[],R=f(D,0),W=0;W<R.length;W++)N.push(this.getAttrTypeAndValue(v(D,R[W])));return N},this.getAttrTypeAndValue=function(D){var N={type:null,value:null,ds:null},R=f(D,0),W=C(D,R[0],[],"06"),fe=C(D,R[1],[]),me=P.asn1.ASN1Util.oidHexToInt(W);return N.type=P.asn1.x509.OID.oid2atype(me),N.value=Vn(fe),N.ds=this.HEX2STAG[D.substr(R[1],2)],N},this.readCertPEM=function(D){this.readCertHex(ge(D))},this.readCertHex=function(D){this.hex=D,this.getVersion();try{L(this.hex,0,[0,7],"a3"),this.parseExt()}catch{}},this.getParam=function(){var D={};return D.version=this.getVersion(),D.serial={hex:this.getSerialNumberHex()},D.sigalg=this.getSignatureAlgorithmField(),D.issuer=this.getIssuer(),D.notbefore=this.getNotBefore(),D.notafter=this.getNotAfter(),D.subject=this.getSubject(),D.sbjpubkey=Bn(this.getPublicKeyHex(),"PUBLIC KEY"),this.aExtInfo.length>0&&(D.ext=this.getExtParamArray()),D.sighex=this.getSignatureValueHex(),D},this.getExtParamArray=function(D){null==D&&-1!=U(this.hex,0,[0,"[3]"])&&(D=x(this.hex,0,[0,"[3]",0],"30"));for(var N=[],R=f(D,0),W=0;W<R.length;W++){var fe=v(D,R[W]),me=this.getExtParam(fe);null!=me&&N.push(me)}return N},this.getExtParam=function(D){var N=f(D,0).length;if(2!=N&&3!=N)throw new Error("wrong number elements in Extension: "+N+" "+D);var R=ue(C(D,0,[0],"06")),W=!1;3==N&&"0101ff"==F(D,0,[1])&&(W=!0);var fe=F(D,0,[N-1,0]),me=void 0;if("2.5.29.14"==R?me=this.getExtSubjectKeyIdentifier(fe,W):"2.5.29.15"==R?me=this.getExtKeyUsage(fe,W):"2.5.29.17"==R?me=this.getExtSubjectAltName(fe,W):"2.5.29.18"==R?me=this.getExtIssuerAltName(fe,W):"2.5.29.19"==R?me=this.getExtBasicConstraints(fe,W):"2.5.29.31"==R?me=this.getExtCRLDistributionPoints(fe,W):"2.5.29.32"==R?me=this.getExtCertificatePolicies(fe,W):"2.5.29.35"==R?me=this.getExtAuthorityKeyIdentifier(fe,W):"2.5.29.37"==R?me=this.getExtExtKeyUsage(fe,W):"1.3.6.1.5.5.7.1.1"==R?me=this.getExtAuthorityInfoAccess(fe,W):"2.5.29.20"==R?me=this.getExtCRLNumber(fe,W):"2.5.29.21"==R?me=this.getExtCRLReason(fe,W):"1.3.6.1.5.5.7.48.1.2"==R?me=this.getExtOcspNonce(fe,W):"1.3.6.1.5.5.7.48.1.5"==R?me=this.getExtOcspNoCheck(fe,W):"1.2.840.113583.1.1.9.1"==R&&(me=this.getExtAdobeTimeStamp(fe,W)),null!=me)return me;var xe={extname:R,extn:fe};return W&&(xe.critical=!0),xe},this.findExt=function(D,N){for(var R=0;R<D.length;R++)if(D[R].extname==N)return D[R];return null},this.updateExtCDPFullURI=function(D,N){var R=this.findExt(D,"cRLDistributionPoints");if(null!=R&&null!=R.array)for(var W=R.array,fe=0;fe<W.length;fe++)if(null!=W[fe].dpname&&null!=W[fe].dpname.full)for(var me=W[fe].dpname.full,xe=0;xe<me.length;xe++){var J=me[fe];null!=J.uri&&(J.uri=N)}},this.updateExtAIAOCSP=function(D,N){var R=this.findExt(D,"authorityInfoAccess");if(null!=R&&null!=R.array)for(var W=R.array,fe=0;fe<W.length;fe++)null!=W[fe].ocsp&&(W[fe].ocsp=N)},this.updateExtAIACAIssuer=function(D,N){var R=this.findExt(D,"authorityInfoAccess");if(null!=R&&null!=R.array)for(var W=R.array,fe=0;fe<W.length;fe++)null!=W[fe].caissuer&&(W[fe].caissuer=N)},this.dnarraytostr=function(D){return"/"+D.map(function(N){return N.map(function(fe){return(xe=fe).type+"="+xe.value;var xe}).join("+")}).join("/")},this.getInfo=function(){var D,N,R,yn,fe=function(yn){for(var bt="",Un=yn.array,Yt=0;Yt<Un.length;Yt++){var pn=Un[Yt];if(bt+="    policy oid: "+pn.policyoid+"\n",void 0!==pn.array)for(var jt=0;jt<pn.array.length;jt++){var Hn=pn.array[jt];void 0!==Hn.cps&&(bt+="    cps: "+Hn.cps+"\n")}}return bt},me=function(yn){for(var bt="",Un=yn.array,Yt=0;Yt<Un.length;Yt++){var pn=Un[Yt];try{void 0!==pn.dpname.full[0].uri&&(bt+="    "+pn.dpname.full[0].uri+"\n")}catch{}try{void 0!==pn.dname.full[0].dn.hex&&(bt+="    "+sn.hex2dn(pn.dpname.full[0].dn.hex)+"\n")}catch{}}return bt},xe=function(yn){for(var bt="",Un=yn.array,Yt=0;Yt<Un.length;Yt++){var pn=Un[Yt];void 0!==pn.caissuer&&(bt+="    caissuer: "+pn.caissuer+"\n"),void 0!==pn.ocsp&&(bt+="    ocsp: "+pn.ocsp+"\n")}return bt};if(D="Basic Fields\n",D+="  serial number: "+this.getSerialNumberHex()+"\n",D+="  signature algorithm: "+this.getSignatureAlgorithmField()+"\n",D+="  issuer: "+this.getIssuerString()+"\n",D+="  notBefore: "+this.getNotBefore()+"\n",D+="  notAfter: "+this.getNotAfter()+"\n",D+="  subject: "+this.getSubjectString()+"\n",D+="  subject public key info: \n",D+="    key algorithm: "+(N=this.getPublicKey()).type+"\n","RSA"===N.type&&(D+="    n="+Ma(N.n.toString(16)).substr(0,16)+"...\n",D+="    e="+Ma(N.e.toString(16))+"\n"),null!=(R=this.aExtInfo)){D+="X509v3 Extensions:\n";for(var J=0;J<R.length;J++){var tt=R[J],Ee=P.asn1.x509.OID.oid2name(tt.oid);""===Ee&&(Ee=tt.oid);var De="";if(!0===tt.critical&&(De="CRITICAL"),D+="  "+Ee+" "+De+":\n","basicConstraints"===Ee){var It=this.getExtBasicConstraints();void 0===It.cA?D+="    {}\n":(D+="    cA=true",void 0!==It.pathLen&&(D+=", pathLen="+It.pathLen),D+="\n")}else if("keyUsage"===Ee)D+="    "+this.getExtKeyUsageString()+"\n";else if("subjectKeyIdentifier"===Ee)D+="    "+this.getExtSubjectKeyIdentifier().kid.hex+"\n";else if("authorityKeyIdentifier"===Ee){var Ht=this.getExtAuthorityKeyIdentifier();void 0!==Ht.kid&&(D+="    kid="+Ht.kid.hex+"\n")}else"extKeyUsage"===Ee?D+="    "+this.getExtExtKeyUsage().array.join(", ")+"\n":"subjectAltName"===Ee?D+="    "+(yn=this.getExtSubjectAltName(),JSON.stringify(yn.array).replace(/[\[\]\{\}\"]/g,"")+"\n"):"cRLDistributionPoints"===Ee?D+=me(this.getExtCRLDistributionPoints()):"authorityInfoAccess"===Ee?D+=xe(this.getExtAuthorityInfoAccess()):"certificatePolicies"===Ee&&(D+=fe(this.getExtCertificatePolicies()))}}return(D+="signature algorithm: "+this.getSignatureAlgorithmName()+"\n")+"signature: "+this.getSignatureValueHex().substr(0,16)+"...\n"},"string"==typeof l&&(-1!=l.indexOf("-----BEGIN")?this.readCertPEM(l):P.lang.String.isHex(l)&&this.readCertHex(l))}$e.prototype.sign=function(l,u){var d=function(p){return P.crypto.Util.hashString(p,u)}(l);return this.signWithMessageHash(d,u)},$e.prototype.signWithMessageHash=function(l,u){var d=Fn(P.crypto.Util.getPaddedDigestInfoHex(l,u,this.n.bitLength()),16);return Jt(this.doPrivate(d).toString(16),this.n.bitLength())},$e.prototype.signPSS=function(l,u,d){var v,f=(v=vr(l),P.crypto.Util.hashHex(v,u));return void 0===d&&(d=-1),this.signWithMessageHashPSS(f,u,d)},$e.prototype.signWithMessageHashPSS=function(l,u,d){var f,p=Vn(l),v=p.length,C=this.n.bitLength()-1,A=Math.ceil(C/8),F=function(D){return P.crypto.Util.hashHex(D,u)};if(-1===d||void 0===d)d=v;else if(-2===d)d=A-v-2;else if(d<-2)throw new Error("invalid salt length");if(A<v+d+2)throw new Error("data too long");var x="";d>0&&(x=new Array(d),(new bn).nextBytes(x),x=String.fromCharCode.apply(String,x));var L=Vn(F(vr("\0\0\0\0\0\0\0\0"+p+x))),U=[];for(f=0;f<A-d-v-2;f+=1)U[f]=0;var K=String.fromCharCode.apply(String,U)+"\x01"+x,z=Mi(L,K.length,F),ue=[];for(f=0;f<K.length;f+=1)ue[f]=K.charCodeAt(f)^z.charCodeAt(f);for(ue[0]&=~(65280>>8*A-C&255),f=0;f<v;f++)ue.push(L.charCodeAt(f));return ue.push(188),Jt(this.doPrivate(new re(ue)).toString(16),this.n.bitLength())},$e.prototype.verify=function(l,u){var d=Fn(u=(u=u.replace(gf,"")).replace(/[ \n]+/g,""),16);if(d.bitLength()>this.n.bitLength())return 0;var f=wr(this.doPublic(d).toString(16).replace(/^1f+00/,""));return 0!=f.length&&f[1]==P.crypto.Util.hashString(l,f[0])},$e.prototype.verifyWithMessageHash=function(l,u){if(u.length!=Math.ceil(this.n.bitLength()/4))return!1;var d=Fn(u,16);if(d.bitLength()>this.n.bitLength())return 0;var f=wr(this.doPublic(d).toString(16).replace(/^1f+00/,""));return 0!=f.length&&f[1]==l},$e.prototype.verifyPSS=function(l,u,d,f){var C,p=(C=vr(l),P.crypto.Util.hashHex(C,d));return void 0===f&&(f=-1),this.verifyWithMessageHashPSS(p,u,d,f)},$e.prototype.verifyWithMessageHashPSS=function(l,u,d,f){if(u.length!=Math.ceil(this.n.bitLength()/4))return!1;var p,v=new re(u,16),C=function(R){return P.crypto.Util.hashHex(R,d)},A=Vn(l),F=A.length,x=this.n.bitLength()-1,L=Math.ceil(x/8);if(-1===f||void 0===f)f=F;else if(-2===f)f=L-F-2;else if(f<-2)throw new Error("invalid salt length");if(L<F+f+2)throw new Error("data too long");var U=this.doPublic(v).toByteArray();for(p=0;p<U.length;p+=1)U[p]&=255;for(;U.length<L;)U.unshift(0);if(188!==U[L-1])throw new Error("encoded message does not end in 0xbc");var K=(U=String.fromCharCode.apply(String,U)).substr(0,L-F-1),z=U.substr(K.length,F),ue=65280>>8*L-x&255;if(K.charCodeAt(0)&ue)throw new Error("bits beyond keysize not zero");var ce=Mi(z,K.length,C),ge=[];for(p=0;p<K.length;p+=1)ge[p]=K.charCodeAt(p)^ce.charCodeAt(p);ge[0]&=~ue;var D=L-F-f-2;for(p=0;p<D;p+=1)if(0!==ge[p])throw new Error("leftmost octets not zero");if(1!==ge[D])throw new Error("0x01 marker not found");return z===Vn(C(vr("\0\0\0\0\0\0\0\0"+A+String.fromCharCode.apply(String,ge.slice(-f)))))},$e.SALT_LEN_HLEN=-1,$e.SALT_LEN_MAX=-2,$e.SALT_LEN_RECOVER=-2,sn.hex2dn=function(l,u){if(void 0===u&&(u=0),"30"!==l.substr(u,2))throw new Error("malformed DN");for(var d=new Array,f=Ie.getChildIdx(l,u),p=0;p<f.length;p++)d.push(sn.hex2rdn(l,f[p]));return"/"+(d=d.map(function(v){return v.replace("/","\\/")})).join("/")},sn.hex2rdn=function(l,u){if(void 0===u&&(u=0),"31"!==l.substr(u,2))throw new Error("malformed RDN");for(var d=new Array,f=Ie.getChildIdx(l,u),p=0;p<f.length;p++)d.push(sn.hex2attrTypeValue(l,f[p]));return(d=d.map(function(v){return v.replace("+","\\+")})).join("+")},sn.hex2attrTypeValue=function(l,u){var d=Ie,f=d.getV;if(void 0===u&&(u=0),"30"!==l.substr(u,2))throw new Error("malformed attribute type and value");var p=d.getChildIdx(l,u);2!==p.length||l.substr(p[0],2);var v=f(l,p[0]),C=P.asn1.ASN1Util.oidHexToInt(v);return P.asn1.x509.OID.oid2atype(C)+"="+Vn(f(l,p[1]))},sn.getPublicKeyFromCertHex=function(l){var u=new sn;return u.readCertHex(l),u.getPublicKey()},sn.getPublicKeyFromCertPEM=function(l){var u=new sn;return u.readCertPEM(l),u.getPublicKey()},sn.getPublicKeyInfoPropOfCertPEM=function(l){var u,d,f=Ie.getVbyList,p={algparam:null};return(u=new sn).readCertPEM(l),d=u.getPublicKeyHex(),p.keyhex=f(d,0,[1],"03").substr(2),p.algoid=f(d,0,[0,0],"06"),"2a8648ce3d0201"===p.algoid&&(p.algparam=f(d,0,[0,1],"06")),p},sn.KEYUSAGE_NAME=["digitalSignature","nonRepudiation","keyEncipherment","dataEncipherment","keyAgreement","keyCertSign","cRLSign","encipherOnly","decipherOnly"],void 0!==P&&P||(k.KJUR=P={}),void 0!==P.jws&&P.jws||(P.jws={}),P.jws.JWS=function(){var l=P.jws.JWS.isSafeJSONString;this.parseJWS=function(u,d){if(void 0===this.parsedJWS||!d&&void 0===this.parsedJWS.sigvalH){var f=u.match(/^([^.]+)\.([^.]+)\.([^.]+)$/);if(null==f)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";var p=f[1],v=f[2],C=f[3],A=p+"."+v;if(this.parsedJWS={},this.parsedJWS.headB64U=p,this.parsedJWS.payloadB64U=v,this.parsedJWS.sigvalB64U=C,this.parsedJWS.si=A,!d){var F=Ft(C),x=Fn(F,16);this.parsedJWS.sigvalH=F,this.parsedJWS.sigvalBI=x}var L=hn(p),U=hn(v);if(this.parsedJWS.headS=L,this.parsedJWS.payloadS=U,!l(L,this.parsedJWS,"headP"))throw"malformed JSON string for JWS Head: "+L}}},P.jws.JWS.sign=function(l,u,d,f,p){var v,C,A,x=P.jws.JWS,L=x.readSafeJSONString,U=x.isSafeJSONString,K=P.crypto,z=K.Mac,ue=K.Signature,ce=JSON;if("string"!=typeof u&&"object"!=(void 0===u?"undefined":b(u)))throw"spHeader must be JSON string or object: "+u;if("object"==(void 0===u?"undefined":b(u))&&(v=ce.stringify(C=u)),"string"==typeof u){if(!U(v=u))throw"JWS Head is not safe JSON string: "+v;C=L(v)}if(A=d,"object"==(void 0===d?"undefined":b(d))&&(A=ce.stringify(d)),""!=l&&null!=l||void 0===C.alg||(l=C.alg),""!=l&&null!=l&&void 0===C.alg&&(C.alg=l,v=ce.stringify(C)),l!==C.alg)throw"alg and sHeader.alg doesn't match: "+l+"!="+C.alg;var ge=null;if(void 0===x.jwsalg2sigalg[l])throw"unsupported alg name: "+l;ge=x.jwsalg2sigalg[l];var D=bo(v)+"."+bo(A),N="";if("Hmac"==ge.substr(0,4)){if(void 0===f)throw"mac key shall be specified for HS* alg";var R=new z({alg:ge,prov:"cryptojs",pass:f});R.updateString(D),N=R.doFinal()}else if(-1!=ge.indexOf("withECDSA")){(fe=new ue({alg:ge})).init(f,p),fe.updateString(D);var W=fe.sign();N=P.crypto.ECDSA.asn1SigToConcatSig(W)}else{var fe;"none"!=ge&&((fe=new ue({alg:ge})).init(f,p),fe.updateString(D),N=fe.sign())}return D+"."+on(N)},P.jws.JWS.verify=function(l,u,d){var f,v=P.jws.JWS,C=v.readSafeJSONString,A=P.crypto,F=A.ECDSA,x=A.Mac,L=A.Signature;void 0!==b($e)&&(f=$e);var U=l.split(".");if(3!==U.length)return!1;var ge,K=U[0]+"."+U[1],z=Ft(U[2]),ue=C(hn(U[0])),ce=null;if(void 0===ue.alg)throw"algorithm not specified in header";if(ge=(ce=ue.alg).substr(0,2),null!=d&&"[object Array]"===Object.prototype.toString.call(d)&&d.length>0&&-1==(":"+d.join(":")+":").indexOf(":"+ce+":"))throw"algorithm '"+ce+"' not accepted in the list";if("none"!=ce&&null===u)throw"key shall be specified to verify.";if("string"==typeof u&&-1!=u.indexOf("-----BEGIN ")&&(u=St.getKey(u)),!("RS"!=ge&&"PS"!=ge||u instanceof f))throw"key shall be a RSAKey obj for RS* and PS* algs";if("ES"==ge&&!(u instanceof F))throw"key shall be a ECDSA obj for ES* algs";var D=null;if(void 0===v.jwsalg2sigalg[ue.alg])throw"unsupported alg name: "+ce;if("none"==(D=v.jwsalg2sigalg[ce]))throw"not supported";if("Hmac"==D.substr(0,4)){if(void 0===u)throw"hexadecimal key shall be specified for HMAC";var N=new x({alg:D,pass:u});return N.updateString(K),z==N.doFinal()}if(-1!=D.indexOf("withECDSA")){var R,W=null;try{W=F.concatSigToASN1Sig(z)}catch{return!1}return(R=new L({alg:D})).init(u),R.updateString(K),R.verify(W)}return(R=new L({alg:D})).init(u),R.updateString(K),R.verify(z)},P.jws.JWS.parse=function(l){var d,f,p=l.split("."),v={};if(2!=p.length&&3!=p.length)throw"malformed sJWS: wrong number of '.' splitted elements";return d=p[1],3==p.length&&(f=p[2]),v.headerObj=P.jws.JWS.readSafeJSONString(hn(p[0])),v.payloadObj=P.jws.JWS.readSafeJSONString(hn(d)),v.headerPP=JSON.stringify(v.headerObj,null,"  "),v.payloadPP=null==v.payloadObj?hn(d):JSON.stringify(v.payloadObj,null,"  "),void 0!==f&&(v.sigHex=Ft(f)),v},P.jws.JWS.verifyJWT=function(l,u,d){var f=P.jws,p=f.JWS,v=p.readSafeJSONString,C=p.inArray,A=p.includedArray,F=l.split("."),x=F[0],L=F[1],U=(Ft(F[2]),v(hn(x))),K=v(hn(L));if(void 0===U.alg)return!1;if(void 0===d.alg)throw"acceptField.alg shall be specified";if(!C(U.alg,d.alg)||void 0!==K.iss&&"object"===b(d.iss)&&!C(K.iss,d.iss)||void 0!==K.sub&&"object"===b(d.sub)&&!C(K.sub,d.sub))return!1;if(void 0!==K.aud&&"object"===b(d.aud))if("string"==typeof K.aud){if(!C(K.aud,d.aud))return!1}else if("object"==b(K.aud)&&!A(K.aud,d.aud))return!1;var z=f.IntDate.getNow();return void 0!==d.verifyAt&&"number"==typeof d.verifyAt&&(z=d.verifyAt),void 0!==d.gracePeriod&&"number"==typeof d.gracePeriod||(d.gracePeriod=0),!(void 0!==K.exp&&"number"==typeof K.exp&&K.exp+d.gracePeriod<z||void 0!==K.nbf&&"number"==typeof K.nbf&&z<K.nbf-d.gracePeriod||void 0!==K.iat&&"number"==typeof K.iat&&z<K.iat-d.gracePeriod||void 0!==K.jti&&void 0!==d.jti&&K.jti!==d.jti||!p.verify(l,u,d.alg))},P.jws.JWS.includedArray=function(l,u){var d=P.jws.JWS.inArray;if(null===l||"object"!==(void 0===l?"undefined":b(l))||"number"!=typeof l.length)return!1;for(var f=0;f<l.length;f++)if(!d(l[f],u))return!1;return!0},P.jws.JWS.inArray=function(l,u){if(null===u||"object"!==(void 0===u?"undefined":b(u))||"number"!=typeof u.length)return!1;for(var d=0;d<u.length;d++)if(u[d]==l)return!0;return!1},P.jws.JWS.jwsalg2sigalg={HS256:"HmacSHA256",HS384:"HmacSHA384",HS512:"HmacSHA512",RS256:"SHA256withRSA",RS384:"SHA384withRSA",RS512:"SHA512withRSA",ES256:"SHA256withECDSA",ES384:"SHA384withECDSA",PS256:"SHA256withRSAandMGF1",PS384:"SHA384withRSAandMGF1",PS512:"SHA512withRSAandMGF1",none:"none"},P.jws.JWS.isSafeJSONString=function(l,u,d){var f=null;try{return"object"!=(void 0===(f=El(l))?"undefined":b(f))||f.constructor===Array?0:(u&&(u[d]=f),1)}catch{return 0}},P.jws.JWS.readSafeJSONString=function(l){var u=null;try{return"object"!=(void 0===(u=El(l))?"undefined":b(u))||u.constructor===Array?null:u}catch{return null}},P.jws.JWS.getEncodedSignatureValueFromJWS=function(l){var u=l.match(/^[^.]+\.[^.]+\.([^.]+)$/);if(null==u)throw"JWS signature is not a form of 'Head.Payload.SigValue'.";return u[1]},P.jws.JWS.getJWKthumbprint=function(l){if("RSA"!==l.kty&&"EC"!==l.kty&&"oct"!==l.kty)throw"unsupported algorithm for JWK Thumprint";var u="{";if("RSA"===l.kty){if("string"!=typeof l.n||"string"!=typeof l.e)throw"wrong n and e value for RSA key";u+='"e":"'+l.e+'",',u+='"kty":"'+l.kty+'",',u+='"n":"'+l.n+'"}'}else if("EC"===l.kty){if("string"!=typeof l.crv||"string"!=typeof l.x||"string"!=typeof l.y)throw"wrong crv, x and y value for EC key";u+='"crv":"'+l.crv+'",',u+='"kty":"'+l.kty+'",',u+='"x":"'+l.x+'",',u+='"y":"'+l.y+'"}'}else if("oct"===l.kty){if("string"!=typeof l.k)throw"wrong k value for oct(symmetric) key";u+='"kty":"'+l.kty+'",',u+='"k":"'+l.k+'"}'}var d=vr(u);return on(P.crypto.Util.hashHex(d,"sha256"))},P.jws.IntDate={},P.jws.IntDate.get=function(l){var u=P.jws.IntDate,d=u.getNow,f=u.getZulu;if("now"==l)return d();if("now + 1hour"==l)return d()+3600;if("now + 1day"==l)return d()+86400;if("now + 1month"==l)return d()+2592e3;if("now + 1year"==l)return d()+31536e3;if(l.match(/Z$/))return f(l);if(l.match(/^[0-9]+$/))return parseInt(l);throw"unsupported format: "+l},P.jws.IntDate.getZulu=function(l){return Ta(l)},P.jws.IntDate.getNow=function(){return~~(new Date/1e3)},P.jws.IntDate.intDate2UTCString=function(l){return new Date(1e3*l).toUTCString()},P.jws.IntDate.intDate2Zulu=function(l){var u=new Date(1e3*l);return("0000"+u.getUTCFullYear()).slice(-4)+("00"+(u.getUTCMonth()+1)).slice(-2)+("00"+u.getUTCDate()).slice(-2)+("00"+u.getUTCHours()).slice(-2)+("00"+u.getUTCMinutes()).slice(-2)+("00"+u.getUTCSeconds()).slice(-2)+"Z"},k.SecureRandom=bn,k.rng_seed_time=ye,k.BigInteger=re,k.RSAKey=$e,k.EDSA=P.crypto.EDSA,k.DSA=P.crypto.DSA,k.Signature=P.crypto.Signature,k.MessageDigest=P.crypto.MessageDigest,k.Mac=P.crypto.Mac,k.Cipher=P.crypto.Cipher,k.KEYUTIL=St,k.ASN1HEX=Ie,k.X509=sn,k.CryptoJS=ne,k.b64tohex=Ce,k.b64toBA=Pe,k.stoBA=Sl,k.BAtos=ba,k.BAtohex=rs,k.stohex=$r,k.stob64=function(u){return be($r(u))},k.stob64u=function(u){return is(be($r(u)))},k.b64utos=function(u){return ba(Pe(Co(u)))},k.b64tob64u=is,k.b64utob64=Co,k.hex2b64=be,k.hextob64u=on,k.b64utohex=Ft,k.utf8tob64u=bo,k.b64utoutf8=hn,k.utf8tob64=function(u){return be(Do(ss(u)))},k.b64toutf8=function(u){return decodeURIComponent(Mn(Ce(u)))},k.utf8tohex=Ca,k.hextoutf8=Cn,k.hextorstr=Vn,k.rstrtohex=vr,k.hextob64=Da,k.hextob64nl=Aa,k.b64nltohex=Ia,k.hextopem=Bn,k.pemtohex=_r,k.hextoArrayBuffer=function(u){if(u.length%2!=0)throw"input is not even length";if(null==u.match(/^[0-9A-Fa-f]+$/))throw"input is not hexadecimal";for(var d=new ArrayBuffer(u.length/2),f=new DataView(d),p=0;p<u.length/2;p++)f.setUint8(p,parseInt(u.substr(2*p,2),16));return d},k.ArrayBuffertohex=function(u){for(var d="",f=new DataView(u),p=0;p<u.byteLength;p++)d+=("00"+f.getUint8(p).toString(16)).slice(-2);return d},k.zulutomsec=os,k.zulutosec=Ta,k.zulutodate=function(u){return new Date(os(u))},k.datetozulu=function(u,d,f){var p,v=u.getUTCFullYear();if(d){if(v<1950||2049<v)throw"not proper year for UTCTime: "+v;p=(""+v).slice(-2)}else p=("000"+v).slice(-4);if(p+=("0"+(u.getUTCMonth()+1)).slice(-2),p+=("0"+u.getUTCDate()).slice(-2),p+=("0"+u.getUTCHours()).slice(-2),p+=("0"+u.getUTCMinutes()).slice(-2),p+=("0"+u.getUTCSeconds()).slice(-2),f){var C=u.getUTCMilliseconds();0!==C&&(p+="."+(C=(C=("00"+C).slice(-3)).replace(/0+$/g,"")))}return p+"Z"},k.uricmptohex=Do,k.hextouricmp=Mn,k.ipv6tohex=bl,k.hextoipv6=Cl,k.hextoip=Pa,k.iptohex=function(u){var d="malformed IP address";if(!(u=u.toLowerCase(u)).match(/^[0-9.]+$/)){if(u.match(/^[0-9a-f:]+$/)&&-1!==u.indexOf(":"))return bl(u);throw d}var f=u.split(".");if(4!==f.length)throw d;var p="";try{for(var v=0;v<4;v++)p+=("0"+parseInt(f[v]).toString(16)).slice(-2);return p}catch{throw d}},k.encodeURIComponentAll=ss,k.newline_toUnix=function(u){return u.replace(/\r\n/gm,"\n")},k.newline_toDos=function(u){return(u=u.replace(/\r\n/gm,"\n")).replace(/\n/gm,"\r\n")},k.hextoposhex=Ma,k.intarystrtohex=function(u){u=(u=(u=u.replace(/^\s*\[\s*/,"")).replace(/\s*\]\s*$/,"")).replace(/\s*/g,"");try{return u.split(/,/).map(function(d,f,p){var v=parseInt(d);if(v<0||255<v)throw"integer not in range 0-255";return("00"+v.toString(16)).slice(-2)}).join("")}catch(d){throw"malformed integer array string: "+d}},k.strdiffidx=function(u,d){var f=u.length;u.length>d.length&&(f=d.length);for(var p=0;p<f;p++)if(u.charCodeAt(p)!=d.charCodeAt(p))return p;return u.length!=d.length?f:-1},k.KJUR=P,k.crypto=P.crypto,k.asn1=P.asn1,k.jws=P.jws,k.lang=P.lang}).call(this,Q(28).Buffer)},function(He,k,Q){"use strict";(function(G){var b=Q(30),q=Q(31),M=Q(32);function w(){return y.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function E(Z,_){if(w()<_)throw new RangeError("Invalid typed array length");return y.TYPED_ARRAY_SUPPORT?(Z=new Uint8Array(_)).__proto__=y.prototype:(null===Z&&(Z=new y(_)),Z.length=_),Z}function y(Z,_,S){if(!(y.TYPED_ARRAY_SUPPORT||this instanceof y))return new y(Z,_,S);if("number"==typeof Z){if("string"==typeof _)throw new Error("If encoding is specified then the first argument must be a string");return V(this,Z)}return T(this,Z,_,S)}function T(Z,_,S,Y){if("number"==typeof _)throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer<"u"&&_ instanceof ArrayBuffer?function(le,ye,Oe,Qe){if(Oe<0||ye.byteLength<Oe)throw new RangeError("'offset' is out of bounds");if(ye.byteLength<Oe+(Qe||0))throw new RangeError("'length' is out of bounds");return ye=void 0===Oe&&void 0===Qe?new Uint8Array(ye):void 0===Qe?new Uint8Array(ye,Oe):new Uint8Array(ye,Oe,Qe),y.TYPED_ARRAY_SUPPORT?(le=ye).__proto__=y.prototype:le=ie(le,ye),le}(Z,_,S,Y):"string"==typeof _?function(le,ye,Oe){if("string"==typeof Oe&&""!==Oe||(Oe="utf8"),!y.isEncoding(Oe))throw new TypeError('"encoding" must be a valid string encoding');var Qe=0|H(ye,Oe),yt=(le=E(le,Qe)).write(ye,Oe);return yt!==Qe&&(le=le.slice(0,yt)),le}(Z,_,S):function(le,ye){if(y.isBuffer(ye)){var Oe=0|$(ye.length);return 0===(le=E(le,Oe)).length||ye.copy(le,0,0,Oe),le}if(ye){if(typeof ArrayBuffer<"u"&&ye.buffer instanceof ArrayBuffer||"length"in ye)return"number"!=typeof ye.length||(yt=ye.length)!=yt?E(le,0):ie(le,ye);if("Buffer"===ye.type&&M(ye.data))return ie(le,ye.data)}var yt;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(Z,_)}function j(Z){if("number"!=typeof Z)throw new TypeError('"size" argument must be a number');if(Z<0)throw new RangeError('"size" argument must not be negative')}function V(Z,_){if(j(_),Z=E(Z,_<0?0:0|$(_)),!y.TYPED_ARRAY_SUPPORT)for(var S=0;S<_;++S)Z[S]=0;return Z}function ie(Z,_){var S=_.length<0?0:0|$(_.length);Z=E(Z,S);for(var Y=0;Y<S;Y+=1)Z[Y]=255&_[Y];return Z}function $(Z){if(Z>=w())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w().toString(16)+" bytes");return 0|Z}function H(Z,_){if(y.isBuffer(Z))return Z.length;if(typeof ArrayBuffer<"u"&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(Z)||Z instanceof ArrayBuffer))return Z.byteLength;"string"!=typeof Z&&(Z=""+Z);var S=Z.length;if(0===S)return 0;for(var Y=!1;;)switch(_){case"ascii":case"latin1":case"binary":return S;case"utf8":case"utf-8":case void 0:return fn(Z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*S;case"hex":return S>>>1;case"base64":return ht(Z).length;default:if(Y)return fn(Z).length;_=(""+_).toLowerCase(),Y=!0}}function B(Z,_,S){var Y=!1;if((void 0===_||_<0)&&(_=0),_>this.length||((void 0===S||S>this.length)&&(S=this.length),S<=0)||(S>>>=0)<=(_>>>=0))return"";for(Z||(Z="utf8");;)switch(Z){case"hex":return tn(this,_,S);case"utf8":case"utf-8":return Tt(this,_,S);case"ascii":return Sn(this,_,S);case"latin1":case"binary":return Pt(this,_,S);case"base64":return Ue(this,_,S);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nn(this,_,S);default:if(Y)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),Y=!0}}function ee(Z,_,S){var Y=Z[_];Z[_]=Z[S],Z[S]=Y}function de(Z,_,S,Y,oe){if(0===Z.length)return-1;if("string"==typeof S?(Y=S,S=0):S>2147483647?S=2147483647:S<-2147483648&&(S=-2147483648),S=+S,isNaN(S)&&(S=oe?0:Z.length-1),S<0&&(S=Z.length+S),S>=Z.length){if(oe)return-1;S=Z.length-1}else if(S<0){if(!oe)return-1;S=0}if("string"==typeof _&&(_=y.from(_,Y)),y.isBuffer(_))return 0===_.length?-1:ne(Z,_,S,Y,oe);if("number"==typeof _)return _&=255,y.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?oe?Uint8Array.prototype.indexOf.call(Z,_,S):Uint8Array.prototype.lastIndexOf.call(Z,_,S):ne(Z,[_],S,Y,oe);throw new TypeError("val must be string, number or Buffer")}function ne(Z,_,S,Y,oe){var le,ye=1,Oe=Z.length,Qe=_.length;if(void 0!==Y&&("ucs2"===(Y=String(Y).toLowerCase())||"ucs-2"===Y||"utf16le"===Y||"utf-16le"===Y)){if(Z.length<2||_.length<2)return-1;ye=2,Oe/=2,Qe/=2,S/=2}function yt(Fn,yr){return 1===ye?Fn[yr]:Fn.readUInt16BE(yr*ye)}if(oe){var ut=-1;for(le=S;le<Oe;le++)if(yt(Z,le)===yt(_,-1===ut?0:le-ut)){if(-1===ut&&(ut=le),le-ut+1===Qe)return ut*ye}else-1!==ut&&(le-=le-ut),ut=-1}else for(S+Qe>Oe&&(S=Oe-Qe),le=S;le>=0;le--){for(var Kt=!0,bn=0;bn<Qe;bn++)if(yt(Z,le+bn)!==yt(_,bn)){Kt=!1;break}if(Kt)return le}return-1}function se(Z,_,S,Y){S=Number(S)||0;var oe=Z.length-S;Y?(Y=Number(Y))>oe&&(Y=oe):Y=oe;var le=_.length;if(le%2!=0)throw new TypeError("Invalid hex string");Y>le/2&&(Y=le/2);for(var ye=0;ye<Y;++ye){var Oe=parseInt(_.substr(2*ye,2),16);if(isNaN(Oe))return ye;Z[S+ye]=Oe}return ye}function te(Z,_,S,Y){return ct(fn(_,Z.length-S),Z,S,Y)}function be(Z,_,S,Y){return ct(function(le){for(var ye=[],Oe=0;Oe<le.length;++Oe)ye.push(255&le.charCodeAt(Oe));return ye}(_),Z,S,Y)}function Ce(Z,_,S,Y){return be(Z,_,S,Y)}function Pe(Z,_,S,Y){return ct(ht(_),Z,S,Y)}function re(Z,_,S,Y){return ct(function(le,ye){for(var Oe,Qe,ut=[],Kt=0;Kt<le.length&&!((ye-=2)<0);++Kt)Qe=(Oe=le.charCodeAt(Kt))>>8,ut.push(Oe%256),ut.push(Qe);return ut}(_,Z.length-S),Z,S,Y)}function Ue(Z,_,S){return b.fromByteArray(0===_&&S===Z.length?Z:Z.slice(_,S))}function Tt(Z,_,S){S=Math.min(Z.length,S);for(var Y=[],oe=_;oe<S;){var le,ye,Oe,Qe,yt=Z[oe],ut=null,Kt=yt>239?4:yt>223?3:yt>191?2:1;if(oe+Kt<=S)switch(Kt){case 1:yt<128&&(ut=yt);break;case 2:128==(192&(le=Z[oe+1]))&&(Qe=(31&yt)<<6|63&le)>127&&(ut=Qe);break;case 3:ye=Z[oe+2],128==(192&(le=Z[oe+1]))&&128==(192&ye)&&(Qe=(15&yt)<<12|(63&le)<<6|63&ye)>2047&&(Qe<55296||Qe>57343)&&(ut=Qe);break;case 4:ye=Z[oe+2],Oe=Z[oe+3],128==(192&(le=Z[oe+1]))&&128==(192&ye)&&128==(192&Oe)&&(Qe=(15&yt)<<18|(63&le)<<12|(63&ye)<<6|63&Oe)>65535&&Qe<1114112&&(ut=Qe)}null===ut?(ut=65533,Kt=1):ut>65535&&(Y.push((ut-=65536)>>>10&1023|55296),ut=56320|1023&ut),Y.push(ut),oe+=Kt}return function(Fn){var yr=Fn.length;if(yr<=Dt)return String.fromCharCode.apply(String,Fn);for(var $e="",Ut=0;Ut<yr;)$e+=String.fromCharCode.apply(String,Fn.slice(Ut,Ut+=Dt));return $e}(Y)}k.Buffer=y,k.SlowBuffer=function(_){return+_!=_&&(_=0),y.alloc(+_)},k.INSPECT_MAX_BYTES=50,y.TYPED_ARRAY_SUPPORT=void 0!==G.TYPED_ARRAY_SUPPORT?G.TYPED_ARRAY_SUPPORT:function(){try{var _=new Uint8Array(1);return _.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===_.foo()&&"function"==typeof _.subarray&&0===_.subarray(1,1).byteLength}catch{return!1}}(),k.kMaxLength=w(),y.poolSize=8192,y._augment=function(Z){return Z.__proto__=y.prototype,Z},y.from=function(Z,_,S){return T(null,Z,_,S)},y.TYPED_ARRAY_SUPPORT&&(y.prototype.__proto__=Uint8Array.prototype,y.__proto__=Uint8Array,typeof Symbol<"u"&&Symbol.species&&y[Symbol.species]===y&&Object.defineProperty(y,Symbol.species,{value:null,configurable:!0})),y.alloc=function(Z,_,S){return null,ye=_,Oe=S,j(le=Z),le<=0?E(null,le):void 0!==ye?"string"==typeof Oe?E(null,le).fill(ye,Oe):E(null,le).fill(ye):E(null,le);var le,ye,Oe},y.allocUnsafe=function(Z){return V(null,Z)},y.allocUnsafeSlow=function(Z){return V(null,Z)},y.isBuffer=function(_){return!(null==_||!_._isBuffer)},y.compare=function(_,S){if(!y.isBuffer(_)||!y.isBuffer(S))throw new TypeError("Arguments must be Buffers");if(_===S)return 0;for(var Y=_.length,oe=S.length,le=0,ye=Math.min(Y,oe);le<ye;++le)if(_[le]!==S[le]){Y=_[le],oe=S[le];break}return Y<oe?-1:oe<Y?1:0},y.isEncoding=function(_){switch(String(_).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},y.concat=function(_,S){if(!M(_))throw new TypeError('"list" argument must be an Array of Buffers');if(0===_.length)return y.alloc(0);var Y;if(void 0===S)for(S=0,Y=0;Y<_.length;++Y)S+=_[Y].length;var oe=y.allocUnsafe(S),le=0;for(Y=0;Y<_.length;++Y){var ye=_[Y];if(!y.isBuffer(ye))throw new TypeError('"list" argument must be an Array of Buffers');ye.copy(oe,le),le+=ye.length}return oe},y.byteLength=H,y.prototype._isBuffer=!0,y.prototype.swap16=function(){var _=this.length;if(_%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var S=0;S<_;S+=2)ee(this,S,S+1);return this},y.prototype.swap32=function(){var _=this.length;if(_%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var S=0;S<_;S+=4)ee(this,S,S+3),ee(this,S+1,S+2);return this},y.prototype.swap64=function(){var _=this.length;if(_%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var S=0;S<_;S+=8)ee(this,S,S+7),ee(this,S+1,S+6),ee(this,S+2,S+5),ee(this,S+3,S+4);return this},y.prototype.toString=function(){var _=0|this.length;return 0===_?"":0===arguments.length?Tt(this,0,_):B.apply(this,arguments)},y.prototype.equals=function(_){if(!y.isBuffer(_))throw new TypeError("Argument must be a Buffer");return this===_||0===y.compare(this,_)},y.prototype.inspect=function(){var _="",S=k.INSPECT_MAX_BYTES;return this.length>0&&(_=this.toString("hex",0,S).match(/.{2}/g).join(" "),this.length>S&&(_+=" ... ")),"<Buffer "+_+">"},y.prototype.compare=function(_,S,Y,oe,le){if(!y.isBuffer(_))throw new TypeError("Argument must be a Buffer");if(void 0===S&&(S=0),void 0===Y&&(Y=_?_.length:0),void 0===oe&&(oe=0),void 0===le&&(le=this.length),S<0||Y>_.length||oe<0||le>this.length)throw new RangeError("out of range index");if(oe>=le&&S>=Y)return 0;if(oe>=le)return-1;if(S>=Y)return 1;if(this===_)return 0;for(var ye=(le>>>=0)-(oe>>>=0),Oe=(Y>>>=0)-(S>>>=0),Qe=Math.min(ye,Oe),yt=this.slice(oe,le),ut=_.slice(S,Y),Kt=0;Kt<Qe;++Kt)if(yt[Kt]!==ut[Kt]){ye=yt[Kt],Oe=ut[Kt];break}return ye<Oe?-1:Oe<ye?1:0},y.prototype.includes=function(_,S,Y){return-1!==this.indexOf(_,S,Y)},y.prototype.indexOf=function(_,S,Y){return de(this,_,S,Y,!0)},y.prototype.lastIndexOf=function(_,S,Y){return de(this,_,S,Y,!1)},y.prototype.write=function(_,S,Y,oe){if(void 0===S)oe="utf8",Y=this.length,S=0;else if(void 0===Y&&"string"==typeof S)oe=S,Y=this.length,S=0;else{if(!isFinite(S))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");S|=0,isFinite(Y)?(Y|=0,void 0===oe&&(oe="utf8")):(oe=Y,Y=void 0)}var le=this.length-S;if((void 0===Y||Y>le)&&(Y=le),_.length>0&&(Y<0||S<0)||S>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");for(var ye=!1;;)switch(oe){case"hex":return se(this,_,S,Y);case"utf8":case"utf-8":return te(this,_,S,Y);case"ascii":return be(this,_,S,Y);case"latin1":case"binary":return Ce(this,_,S,Y);case"base64":return Pe(this,_,S,Y);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return re(this,_,S,Y);default:if(ye)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),ye=!0}},y.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Dt=4096;function Sn(Z,_,S){var Y="";S=Math.min(Z.length,S);for(var oe=_;oe<S;++oe)Y+=String.fromCharCode(127&Z[oe]);return Y}function Pt(Z,_,S){var Y="";S=Math.min(Z.length,S);for(var oe=_;oe<S;++oe)Y+=String.fromCharCode(Z[oe]);return Y}function tn(Z,_,S){var Y=Z.length;(!_||_<0)&&(_=0),(!S||S<0||S>Y)&&(S=Y);for(var oe="",le=_;le<S;++le)oe+=At(Z[le]);return oe}function nn(Z,_,S){for(var Y=Z.slice(_,S),oe="",le=0;le<Y.length;le+=2)oe+=String.fromCharCode(Y[le]+256*Y[le+1]);return oe}function ot(Z,_,S){if(Z%1!=0||Z<0)throw new RangeError("offset is not uint");if(Z+_>S)throw new RangeError("Trying to access beyond buffer length")}function qe(Z,_,S,Y,oe,le){if(!y.isBuffer(Z))throw new TypeError('"buffer" argument must be a Buffer instance');if(_>oe||_<le)throw new RangeError('"value" argument is out of bounds');if(S+Y>Z.length)throw new RangeError("Index out of range")}function kt(Z,_,S,Y){_<0&&(_=65535+_+1);for(var oe=0,le=Math.min(Z.length-S,2);oe<le;++oe)Z[S+oe]=(_&255<<8*(Y?oe:1-oe))>>>8*(Y?oe:1-oe)}function kn(Z,_,S,Y){_<0&&(_=4294967295+_+1);for(var oe=0,le=Math.min(Z.length-S,4);oe<le;++oe)Z[S+oe]=_>>>8*(Y?oe:3-oe)&255}function Pn(Z,_,S,Y,oe,le){if(S+Y>Z.length)throw new RangeError("Index out of range");if(S<0)throw new RangeError("Index out of range")}function Ln(Z,_,S,Y,oe){return oe||Pn(Z,0,S,4),q.write(Z,_,S,Y,23,4),S+4}function Lt(Z,_,S,Y,oe){return oe||Pn(Z,0,S,8),q.write(Z,_,S,Y,52,8),S+8}y.prototype.slice=function(_,S){var Y,oe=this.length;if((_=~~_)<0?(_+=oe)<0&&(_=0):_>oe&&(_=oe),(S=void 0===S?oe:~~S)<0?(S+=oe)<0&&(S=0):S>oe&&(S=oe),S<_&&(S=_),y.TYPED_ARRAY_SUPPORT)(Y=this.subarray(_,S)).__proto__=y.prototype;else{var le=S-_;Y=new y(le,void 0);for(var ye=0;ye<le;++ye)Y[ye]=this[ye+_]}return Y},y.prototype.readUIntLE=function(_,S,Y){_|=0,S|=0,Y||ot(_,S,this.length);for(var oe=this[_],le=1,ye=0;++ye<S&&(le*=256);)oe+=this[_+ye]*le;return oe},y.prototype.readUIntBE=function(_,S,Y){_|=0,S|=0,Y||ot(_,S,this.length);for(var oe=this[_+--S],le=1;S>0&&(le*=256);)oe+=this[_+--S]*le;return oe},y.prototype.readUInt8=function(_,S){return S||ot(_,1,this.length),this[_]},y.prototype.readUInt16LE=function(_,S){return S||ot(_,2,this.length),this[_]|this[_+1]<<8},y.prototype.readUInt16BE=function(_,S){return S||ot(_,2,this.length),this[_]<<8|this[_+1]},y.prototype.readUInt32LE=function(_,S){return S||ot(_,4,this.length),(this[_]|this[_+1]<<8|this[_+2]<<16)+16777216*this[_+3]},y.prototype.readUInt32BE=function(_,S){return S||ot(_,4,this.length),16777216*this[_]+(this[_+1]<<16|this[_+2]<<8|this[_+3])},y.prototype.readIntLE=function(_,S,Y){_|=0,S|=0,Y||ot(_,S,this.length);for(var oe=this[_],le=1,ye=0;++ye<S&&(le*=256);)oe+=this[_+ye]*le;return oe>=(le*=128)&&(oe-=Math.pow(2,8*S)),oe},y.prototype.readIntBE=function(_,S,Y){_|=0,S|=0,Y||ot(_,S,this.length);for(var oe=S,le=1,ye=this[_+--oe];oe>0&&(le*=256);)ye+=this[_+--oe]*le;return ye>=(le*=128)&&(ye-=Math.pow(2,8*S)),ye},y.prototype.readInt8=function(_,S){return S||ot(_,1,this.length),128&this[_]?-1*(255-this[_]+1):this[_]},y.prototype.readInt16LE=function(_,S){S||ot(_,2,this.length);var Y=this[_]|this[_+1]<<8;return 32768&Y?4294901760|Y:Y},y.prototype.readInt16BE=function(_,S){S||ot(_,2,this.length);var Y=this[_+1]|this[_]<<8;return 32768&Y?4294901760|Y:Y},y.prototype.readInt32LE=function(_,S){return S||ot(_,4,this.length),this[_]|this[_+1]<<8|this[_+2]<<16|this[_+3]<<24},y.prototype.readInt32BE=function(_,S){return S||ot(_,4,this.length),this[_]<<24|this[_+1]<<16|this[_+2]<<8|this[_+3]},y.prototype.readFloatLE=function(_,S){return S||ot(_,4,this.length),q.read(this,_,!0,23,4)},y.prototype.readFloatBE=function(_,S){return S||ot(_,4,this.length),q.read(this,_,!1,23,4)},y.prototype.readDoubleLE=function(_,S){return S||ot(_,8,this.length),q.read(this,_,!0,52,8)},y.prototype.readDoubleBE=function(_,S){return S||ot(_,8,this.length),q.read(this,_,!1,52,8)},y.prototype.writeUIntLE=function(_,S,Y,oe){_=+_,S|=0,Y|=0,oe||qe(this,_,S,Y,Math.pow(2,8*Y)-1,0);var le=1,ye=0;for(this[S]=255&_;++ye<Y&&(le*=256);)this[S+ye]=_/le&255;return S+Y},y.prototype.writeUIntBE=function(_,S,Y,oe){_=+_,S|=0,Y|=0,oe||qe(this,_,S,Y,Math.pow(2,8*Y)-1,0);var le=Y-1,ye=1;for(this[S+le]=255&_;--le>=0&&(ye*=256);)this[S+le]=_/ye&255;return S+Y},y.prototype.writeUInt8=function(_,S,Y){return _=+_,S|=0,Y||qe(this,_,S,1,255,0),y.TYPED_ARRAY_SUPPORT||(_=Math.floor(_)),this[S]=255&_,S+1},y.prototype.writeUInt16LE=function(_,S,Y){return _=+_,S|=0,Y||qe(this,_,S,2,65535,0),y.TYPED_ARRAY_SUPPORT?(this[S]=255&_,this[S+1]=_>>>8):kt(this,_,S,!0),S+2},y.prototype.writeUInt16BE=function(_,S,Y){return _=+_,S|=0,Y||qe(this,_,S,2,65535,0),y.TYPED_ARRAY_SUPPORT?(this[S]=_>>>8,this[S+1]=255&_):kt(this,_,S,!1),S+2},y.prototype.writeUInt32LE=function(_,S,Y){return _=+_,S|=0,Y||qe(this,_,S,4,4294967295,0),y.TYPED_ARRAY_SUPPORT?(this[S+3]=_>>>24,this[S+2]=_>>>16,this[S+1]=_>>>8,this[S]=255&_):kn(this,_,S,!0),S+4},y.prototype.writeUInt32BE=function(_,S,Y){return _=+_,S|=0,Y||qe(this,_,S,4,4294967295,0),y.TYPED_ARRAY_SUPPORT?(this[S]=_>>>24,this[S+1]=_>>>16,this[S+2]=_>>>8,this[S+3]=255&_):kn(this,_,S,!1),S+4},y.prototype.writeIntLE=function(_,S,Y,oe){if(_=+_,S|=0,!oe){var le=Math.pow(2,8*Y-1);qe(this,_,S,Y,le-1,-le)}var ye=0,Oe=1,Qe=0;for(this[S]=255&_;++ye<Y&&(Oe*=256);)_<0&&0===Qe&&0!==this[S+ye-1]&&(Qe=1),this[S+ye]=(_/Oe>>0)-Qe&255;return S+Y},y.prototype.writeIntBE=function(_,S,Y,oe){if(_=+_,S|=0,!oe){var le=Math.pow(2,8*Y-1);qe(this,_,S,Y,le-1,-le)}var ye=Y-1,Oe=1,Qe=0;for(this[S+ye]=255&_;--ye>=0&&(Oe*=256);)_<0&&0===Qe&&0!==this[S+ye+1]&&(Qe=1),this[S+ye]=(_/Oe>>0)-Qe&255;return S+Y},y.prototype.writeInt8=function(_,S,Y){return _=+_,S|=0,Y||qe(this,_,S,1,127,-128),y.TYPED_ARRAY_SUPPORT||(_=Math.floor(_)),_<0&&(_=255+_+1),this[S]=255&_,S+1},y.prototype.writeInt16LE=function(_,S,Y){return _=+_,S|=0,Y||qe(this,_,S,2,32767,-32768),y.TYPED_ARRAY_SUPPORT?(this[S]=255&_,this[S+1]=_>>>8):kt(this,_,S,!0),S+2},y.prototype.writeInt16BE=function(_,S,Y){return _=+_,S|=0,Y||qe(this,_,S,2,32767,-32768),y.TYPED_ARRAY_SUPPORT?(this[S]=_>>>8,this[S+1]=255&_):kt(this,_,S,!1),S+2},y.prototype.writeInt32LE=function(_,S,Y){return _=+_,S|=0,Y||qe(this,_,S,4,2147483647,-2147483648),y.TYPED_ARRAY_SUPPORT?(this[S]=255&_,this[S+1]=_>>>8,this[S+2]=_>>>16,this[S+3]=_>>>24):kn(this,_,S,!0),S+4},y.prototype.writeInt32BE=function(_,S,Y){return _=+_,S|=0,Y||qe(this,_,S,4,2147483647,-2147483648),_<0&&(_=4294967295+_+1),y.TYPED_ARRAY_SUPPORT?(this[S]=_>>>24,this[S+1]=_>>>16,this[S+2]=_>>>8,this[S+3]=255&_):kn(this,_,S,!1),S+4},y.prototype.writeFloatLE=function(_,S,Y){return Ln(this,_,S,!0,Y)},y.prototype.writeFloatBE=function(_,S,Y){return Ln(this,_,S,!1,Y)},y.prototype.writeDoubleLE=function(_,S,Y){return Lt(this,_,S,!0,Y)},y.prototype.writeDoubleBE=function(_,S,Y){return Lt(this,_,S,!1,Y)},y.prototype.copy=function(_,S,Y,oe){if(Y||(Y=0),oe||0===oe||(oe=this.length),S>=_.length&&(S=_.length),S||(S=0),oe>0&&oe<Y&&(oe=Y),oe===Y||0===_.length||0===this.length)return 0;if(S<0)throw new RangeError("targetStart out of bounds");if(Y<0||Y>=this.length)throw new RangeError("sourceStart out of bounds");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),_.length-S<oe-Y&&(oe=_.length-S+Y);var le,ye=oe-Y;if(this===_&&Y<S&&S<oe)for(le=ye-1;le>=0;--le)_[le+S]=this[le+Y];else if(ye<1e3||!y.TYPED_ARRAY_SUPPORT)for(le=0;le<ye;++le)_[le+S]=this[le+Y];else Uint8Array.prototype.set.call(_,this.subarray(Y,Y+ye),S);return ye},y.prototype.fill=function(_,S,Y,oe){if("string"==typeof _){if("string"==typeof S?(oe=S,S=0,Y=this.length):"string"==typeof Y&&(oe=Y,Y=this.length),1===_.length){var le=_.charCodeAt(0);le<256&&(_=le)}if(void 0!==oe&&"string"!=typeof oe)throw new TypeError("encoding must be a string");if("string"==typeof oe&&!y.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe)}else"number"==typeof _&&(_&=255);if(S<0||this.length<S||this.length<Y)throw new RangeError("Out of range index");if(Y<=S)return this;var ye;if(S>>>=0,Y=void 0===Y?this.length:Y>>>0,_||(_=0),"number"==typeof _)for(ye=S;ye<Y;++ye)this[ye]=_;else{var Oe=y.isBuffer(_)?_:fn(new y(_,oe).toString()),Qe=Oe.length;for(ye=0;ye<Y-S;++ye)this[ye+S]=Oe[ye%Qe]}return this};var Fr=/[^+\/0-9A-Za-z-_]/g;function At(Z){return Z<16?"0"+Z.toString(16):Z.toString(16)}function fn(Z,_){var S;_=_||1/0;for(var Y=Z.length,oe=null,le=[],ye=0;ye<Y;++ye){if((S=Z.charCodeAt(ye))>55295&&S<57344){if(!oe){if(S>56319){(_-=3)>-1&&le.push(239,191,189);continue}if(ye+1===Y){(_-=3)>-1&&le.push(239,191,189);continue}oe=S;continue}if(S<56320){(_-=3)>-1&&le.push(239,191,189),oe=S;continue}S=65536+(oe-55296<<10|S-56320)}else oe&&(_-=3)>-1&&le.push(239,191,189);if(oe=null,S<128){if((_-=1)<0)break;le.push(S)}else if(S<2048){if((_-=2)<0)break;le.push(S>>6|192,63&S|128)}else if(S<65536){if((_-=3)<0)break;le.push(S>>12|224,S>>6&63|128,63&S|128)}else{if(!(S<1114112))throw new Error("Invalid code point");if((_-=4)<0)break;le.push(S>>18|240,S>>12&63|128,S>>6&63|128,63&S|128)}}return le}function ht(Z){return b.toByteArray(function(S){if((S=(oe=S,oe.trim?oe.trim():oe.replace(/^\s+|\s+$/g,"")).replace(Fr,"")).length<2)return"";for(var oe;S.length%4!=0;)S+="=";return S}(Z))}function ct(Z,_,S,Y){for(var oe=0;oe<Y&&!(oe+S>=_.length||oe>=Z.length);++oe)_[oe+S]=Z[oe];return oe}}).call(this,Q(29))},function(He,k){var Q;Q=function(){return this}();try{Q=Q||new Function("return this")()}catch{"object"==typeof window&&(Q=window)}He.exports=Q},function(He,k,Q){"use strict";k.byteLength=function(V){var ie=y(V),H=ie[1];return 3*(ie[0]+H)/4-H},k.toByteArray=function(V){var ie,$,Pe,H=y(V),B=H[0],ee=H[1],de=new q(3*(B+(Pe=ee))/4-Pe),ne=0,se=ee>0?B-4:B;for($=0;$<se;$+=4)ie=b[V.charCodeAt($)]<<18|b[V.charCodeAt($+1)]<<12|b[V.charCodeAt($+2)]<<6|b[V.charCodeAt($+3)],de[ne++]=ie>>16&255,de[ne++]=ie>>8&255,de[ne++]=255&ie;return 2===ee&&(ie=b[V.charCodeAt($)]<<2|b[V.charCodeAt($+1)]>>4,de[ne++]=255&ie),1===ee&&(ie=b[V.charCodeAt($)]<<10|b[V.charCodeAt($+1)]<<4|b[V.charCodeAt($+2)]>>2,de[ne++]=ie>>8&255,de[ne++]=255&ie),de},k.fromByteArray=function(V){for(var ie,$=V.length,H=$%3,B=[],de=0,ne=$-H;de<ne;de+=16383)B.push(T(V,de,de+16383>ne?ne:de+16383));return 1===H?B.push(G[(ie=V[$-1])>>2]+G[ie<<4&63]+"=="):2===H&&B.push(G[(ie=(V[$-2]<<8)+V[$-1])>>10]+G[ie>>4&63]+G[ie<<2&63]+"="),B.join("")};for(var G=[],b=[],q=typeof Uint8Array<"u"?Uint8Array:Array,M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",w=0;w<64;++w)G[w]=M[w],b[M.charCodeAt(w)]=w;function y(j){var V=j.length;if(V%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var ie=j.indexOf("=");return-1===ie&&(ie=V),[ie,ie===V?0:4-ie%4]}function T(j,V,ie){for(var H,B=[],ee=V;ee<ie;ee+=3)B.push(G[(H=(j[ee]<<16&16711680)+(j[ee+1]<<8&65280)+(255&j[ee+2]))>>18&63]+G[H>>12&63]+G[H>>6&63]+G[63&H]);return B.join("")}b["-".charCodeAt(0)]=62,b["_".charCodeAt(0)]=63},function(He,k){k.read=function(Q,G,b,q,M){var w,E,y=8*M-q-1,T=(1<<y)-1,j=T>>1,V=-7,ie=b?M-1:0,$=b?-1:1,H=Q[G+ie];for(ie+=$,w=H&(1<<-V)-1,H>>=-V,V+=y;V>0;w=256*w+Q[G+ie],ie+=$,V-=8);for(E=w&(1<<-V)-1,w>>=-V,V+=q;V>0;E=256*E+Q[G+ie],ie+=$,V-=8);if(0===w)w=1-j;else{if(w===T)return E?NaN:1/0*(H?-1:1);E+=Math.pow(2,q),w-=j}return(H?-1:1)*E*Math.pow(2,w-q)},k.write=function(Q,G,b,q,M,w){var E,y,T,j=8*w-M-1,V=(1<<j)-1,ie=V>>1,$=23===M?Math.pow(2,-24)-Math.pow(2,-77):0,H=q?0:w-1,B=q?1:-1,ee=G<0||0===G&&1/G<0?1:0;for(G=Math.abs(G),isNaN(G)||G===1/0?(y=isNaN(G)?1:0,E=V):(E=Math.floor(Math.log(G)/Math.LN2),G*(T=Math.pow(2,-E))<1&&(E--,T*=2),(G+=E+ie>=1?$/T:$*Math.pow(2,1-ie))*T>=2&&(E++,T/=2),E+ie>=V?(y=0,E=V):E+ie>=1?(y=(G*T-1)*Math.pow(2,M),E+=ie):(y=G*Math.pow(2,ie-1)*Math.pow(2,M),E=0));M>=8;Q[b+H]=255&y,H+=B,y/=256,M-=8);for(E=E<<M|y,j+=M;j>0;Q[b+H]=255&E,H+=B,E/=256,j-=8);Q[b+H-B]|=128*ee}},function(He,k){var Q={}.toString;He.exports=Array.isArray||function(G){return"[object Array]"==Q.call(G)}},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.default=function(q){var M=q.jws,w=q.KeyUtil,E=q.X509,y=q.crypto,T=q.hextob64u,j=q.b64tohex,V=q.AllowedSigningAlgs;return function(){function ie(){!function(H,B){if(!(H instanceof B))throw new TypeError("Cannot call a class as a function")}(this,ie)}return ie.parseJwt=function(H){G.Log.debug("JoseUtil.parseJwt");try{var B=M.JWS.parse(H);return{header:B.headerObj,payload:B.payloadObj}}catch(ee){G.Log.error(ee)}},ie.validateJwt=function(H,B,ee,de,ne,se,te){G.Log.debug("JoseUtil.validateJwt");try{if("RSA"===B.kty)if(B.e&&B.n)B=w.getKey(B);else{if(!B.x5c||!B.x5c.length)return G.Log.error("JoseUtil.validateJwt: RSA key missing key material",B),Promise.reject(new Error("RSA key missing key material"));var be=j(B.x5c[0]);B=E.getPublicKeyFromCertHex(be)}else{if("EC"!==B.kty)return G.Log.error("JoseUtil.validateJwt: Unsupported key type",B&&B.kty),Promise.reject(new Error(B.kty));if(!(B.crv&&B.x&&B.y))return G.Log.error("JoseUtil.validateJwt: EC key missing key material",B),Promise.reject(new Error("EC key missing key material"));B=w.getKey(B)}return ie._validateJwt(H,B,ee,de,ne,se,te)}catch(Ce){return G.Log.error(Ce&&Ce.message||Ce),Promise.reject("JWT validation failed")}},ie.validateJwtAttributes=function(H,B,ee,de,ne,se){de||(de=0),ne||(ne=parseInt(Date.now()/1e3));var te=ie.parseJwt(H).payload;if(!te.iss)return G.Log.error("JoseUtil._validateJwt: issuer was not provided"),Promise.reject(new Error("issuer was not provided"));if(te.iss!==B)return G.Log.error("JoseUtil._validateJwt: Invalid issuer in token",te.iss),Promise.reject(new Error("Invalid issuer in token: "+te.iss));if(!te.aud)return G.Log.error("JoseUtil._validateJwt: aud was not provided"),Promise.reject(new Error("aud was not provided"));if(!(te.aud===ee||Array.isArray(te.aud)&&te.aud.indexOf(ee)>=0))return G.Log.error("JoseUtil._validateJwt: Invalid audience in token",te.aud),Promise.reject(new Error("Invalid audience in token: "+te.aud));if(te.azp&&te.azp!==ee)return G.Log.error("JoseUtil._validateJwt: Invalid azp in token",te.azp),Promise.reject(new Error("Invalid azp in token: "+te.azp));if(!se){var be=ne+de,Ce=ne-de;if(!te.iat)return G.Log.error("JoseUtil._validateJwt: iat was not provided"),Promise.reject(new Error("iat was not provided"));if(be<te.iat)return G.Log.error("JoseUtil._validateJwt: iat is in the future",te.iat),Promise.reject(new Error("iat is in the future: "+te.iat));if(te.nbf&&be<te.nbf)return G.Log.error("JoseUtil._validateJwt: nbf is in the future",te.nbf),Promise.reject(new Error("nbf is in the future: "+te.nbf));if(!te.exp)return G.Log.error("JoseUtil._validateJwt: exp was not provided"),Promise.reject(new Error("exp was not provided"));if(te.exp<Ce)return G.Log.error("JoseUtil._validateJwt: exp is in the past",te.exp),Promise.reject(new Error("exp is in the past:"+te.exp))}return Promise.resolve(te)},ie._validateJwt=function(H,B,ee,de,ne,se,te){return ie.validateJwtAttributes(H,ee,de,ne,se,te).then(function(be){try{return M.JWS.verify(H,B,V)?be:(G.Log.error("JoseUtil._validateJwt: signature validation failed"),Promise.reject(new Error("signature validation failed")))}catch(Ce){return G.Log.error(Ce&&Ce.message||Ce),Promise.reject(new Error("signature validation failed"))}})},ie.hashString=function(H,B){try{return y.Util.hashString(H,B)}catch(ee){G.Log.error(ee)}},ie.hexToBase64Url=function(H){try{return T(H)}catch(B){G.Log.error(B)}},ie}()};var G=Q(0);He.exports=k.default},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.SigninResponse=void 0;var G=function(){function M(w,E){for(var y=0;y<E.length;y++){var T=E[y];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,E,y){return E&&M(w.prototype,E),y&&M(w,y),w}}(),b=Q(3);k.SigninResponse=function(){function M(w){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"#";!function q(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")}(this,M);var y=b.UrlUtility.parseUrlFragment(w,E);this.error=y.error,this.error_description=y.error_description,this.error_uri=y.error_uri,this.code=y.code,this.state=y.state,this.id_token=y.id_token,this.session_state=y.session_state,this.access_token=y.access_token,this.token_type=y.token_type,this.scope=y.scope,this.profile=void 0,this.expires_in=y.expires_in}return G(M,[{key:"expires_in",get:function(){if(this.expires_at){var E=parseInt(Date.now()/1e3);return this.expires_at-E}},set:function(E){var y=parseInt(E);if("number"==typeof y&&y>0){var T=parseInt(Date.now()/1e3);this.expires_at=T+y}}},{key:"expired",get:function(){var E=this.expires_in;if(void 0!==E)return E<=0}},{key:"scopes",get:function(){return(this.scope||"").split(" ")}},{key:"isOpenIdConnect",get:function(){return this.scopes.indexOf("openid")>=0||!!this.id_token}}]),M}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.SignoutRequest=void 0;var G=Q(0),b=Q(3),q=Q(9);k.SignoutRequest=function M(w){var E=w.url,y=w.id_token_hint,T=w.post_logout_redirect_uri,j=w.data,V=w.extraQueryParams,ie=w.request_type;if(function(B,ee){if(!(B instanceof ee))throw new TypeError("Cannot call a class as a function")}(this,M),!E)throw G.Log.error("SignoutRequest.ctor: No url passed"),new Error("url");for(var $ in y&&(E=b.UrlUtility.addQueryParam(E,"id_token_hint",y)),T&&(E=b.UrlUtility.addQueryParam(E,"post_logout_redirect_uri",T),j&&(this.state=new q.State({data:j,request_type:ie}),E=b.UrlUtility.addQueryParam(E,"state",this.state.id))),V)E=b.UrlUtility.addQueryParam(E,$,V[$]);this.url=E}},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.SignoutResponse=void 0;var G=Q(3);k.SignoutResponse=function b(q){!function(E,y){if(!(E instanceof y))throw new TypeError("Cannot call a class as a function")}(this,b);var M=G.UrlUtility.parseUrlFragment(q,"?");this.error=M.error,this.error_description=M.error_description,this.error_uri=M.error_uri,this.state=M.state}},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.InMemoryWebStorage=void 0;var G=function(){function q(M,w){for(var E=0;E<w.length;E++){var y=w[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(M,y.key,y)}}return function(M,w,E){return w&&q(M.prototype,w),E&&q(M,E),M}}(),b=Q(0);k.InMemoryWebStorage=function(){function q(){(function(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")})(this,q),this._data={}}return q.prototype.getItem=function(w){return b.Log.debug("InMemoryWebStorage.getItem",w),this._data[w]},q.prototype.setItem=function(w,E){b.Log.debug("InMemoryWebStorage.setItem",w),this._data[w]=E},q.prototype.removeItem=function(w){b.Log.debug("InMemoryWebStorage.removeItem",w),delete this._data[w]},q.prototype.key=function(w){return Object.getOwnPropertyNames(this._data)[w]},G(q,[{key:"length",get:function(){return Object.getOwnPropertyNames(this._data).length}}]),q}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.UserManager=void 0;var G=function(){function ee(de,ne){for(var se=0;se<ne.length;se++){var te=ne[se];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(de,te.key,te)}}return function(de,ne,se){return ne&&ee(de.prototype,ne),se&&ee(de,se),de}}(),b=Q(0),q=Q(10),M=Q(39),w=Q(15),E=Q(45),y=Q(47),T=Q(18),j=Q(8),V=Q(20),ie=Q(11),$=Q(4);k.UserManager=function(ee){function de(){var ne=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},se=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y.SilentRenewService,te=arguments.length>2&&void 0!==arguments[2]?arguments[2]:T.SessionMonitor,be=arguments.length>3&&void 0!==arguments[3]?arguments[3]:V.TokenRevocationClient,Ce=arguments.length>4&&void 0!==arguments[4]?arguments[4]:ie.TokenClient,Pe=arguments.length>5&&void 0!==arguments[5]?arguments[5]:$.JoseUtil;(function H(ee,de){if(!(ee instanceof de))throw new TypeError("Cannot call a class as a function")})(this,de),ne instanceof M.UserManagerSettings||(ne=new M.UserManagerSettings(ne));var re=function B(ee,de){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!de||"object"!=typeof de&&"function"!=typeof de?ee:de}(this,ee.call(this,ne));return re._events=new E.UserManagerEvents(ne),re._silentRenewService=new se(re),re.settings.automaticSilentRenew&&(b.Log.debug("UserManager.ctor: automaticSilentRenew is configured, setting up silent renew"),re.startSilentRenew()),re.settings.monitorSession&&(b.Log.debug("UserManager.ctor: monitorSession is configured, setting up session monitor"),re._sessionMonitor=new te(re)),re._tokenRevocationClient=new be(re._settings),re._tokenClient=new Ce(re._settings),re._joseUtil=Pe,re}return function(se,te){if("function"!=typeof te&&null!==te)throw new TypeError("Super expression must either be null or a function, not "+typeof te);se.prototype=Object.create(te&&te.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),te&&(Object.setPrototypeOf?Object.setPrototypeOf(se,te):se.__proto__=te)}(de,ee),de.prototype.getUser=function(){var se=this;return this._loadUser().then(function(te){return te?(b.Log.info("UserManager.getUser: user loaded"),se._events.load(te,!1),te):(b.Log.info("UserManager.getUser: user not found in storage"),null)})},de.prototype.removeUser=function(){var se=this;return this.storeUser(null).then(function(){b.Log.info("UserManager.removeUser: user removed from storage"),se._events.unload()})},de.prototype.signinRedirect=function(){var se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(se=Object.assign({},se)).request_type="si:r",this._signinStart(se,this._redirectNavigator,{useReplaceToNavigate:se.useReplaceToNavigate}).then(function(){b.Log.info("UserManager.signinRedirect: successful")})},de.prototype.signinRedirectCallback=function(se){return this._signinEnd(se||this._redirectNavigator.url).then(function(te){return te.profile&&te.profile.sub?b.Log.info("UserManager.signinRedirectCallback: successful, signed in sub: ",te.profile.sub):b.Log.info("UserManager.signinRedirectCallback: no sub"),te})},de.prototype.signinPopup=function(){var se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(se=Object.assign({},se)).request_type="si:p";var te=se.redirect_uri||this.settings.popup_redirect_uri||this.settings.redirect_uri;return te?(se.redirect_uri=te,se.display="popup",this._signin(se,this._popupNavigator,{startUrl:te,popupWindowFeatures:se.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:se.popupWindowTarget||this.settings.popupWindowTarget}).then(function(be){return be&&(be.profile&&be.profile.sub?b.Log.info("UserManager.signinPopup: signinPopup successful, signed in sub: ",be.profile.sub):b.Log.info("UserManager.signinPopup: no sub")),be})):(b.Log.error("UserManager.signinPopup: No popup_redirect_uri or redirect_uri configured"),Promise.reject(new Error("No popup_redirect_uri or redirect_uri configured")))},de.prototype.signinPopupCallback=function(se){return this._signinCallback(se,this._popupNavigator).then(function(te){return te&&(te.profile&&te.profile.sub?b.Log.info("UserManager.signinPopupCallback: successful, signed in sub: ",te.profile.sub):b.Log.info("UserManager.signinPopupCallback: no sub")),te}).catch(function(te){b.Log.error(te.message)})},de.prototype.signinSilent=function(){var se=this,te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return te=Object.assign({},te),this._loadUser().then(function(be){return be&&be.refresh_token?(te.refresh_token=be.refresh_token,se._useRefreshToken(te)):(te.request_type="si:s",te.id_token_hint=te.id_token_hint||se.settings.includeIdTokenInSilentRenew&&be&&be.id_token,be&&se._settings.validateSubOnSilentRenew&&(b.Log.debug("UserManager.signinSilent, subject prior to silent renew: ",be.profile.sub),te.current_sub=be.profile.sub),se._signinSilentIframe(te))})},de.prototype._useRefreshToken=function(){var se=this;return this._tokenClient.exchangeRefreshToken(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).then(function(be){return be?be.access_token?se._loadUser().then(function(Ce){if(Ce){var Pe=Promise.resolve();return be.id_token&&(Pe=se._validateIdTokenFromTokenRefreshToken(Ce.profile,be.id_token)),Pe.then(function(){return b.Log.debug("UserManager._useRefreshToken: refresh token response success"),Ce.id_token=be.id_token||Ce.id_token,Ce.access_token=be.access_token,Ce.refresh_token=be.refresh_token||Ce.refresh_token,Ce.expires_in=be.expires_in,se.storeUser(Ce).then(function(){return se._events.load(Ce),Ce})})}return null}):(b.Log.error("UserManager._useRefreshToken: No access token returned from token endpoint"),Promise.reject("No access token returned from token endpoint")):(b.Log.error("UserManager._useRefreshToken: No response returned from token endpoint"),Promise.reject("No response returned from token endpoint"))})},de.prototype._validateIdTokenFromTokenRefreshToken=function(se,te){var be=this;return this._metadataService.getIssuer().then(function(Ce){return be.settings.getEpochTime().then(function(Pe){return be._joseUtil.validateJwtAttributes(te,Ce,be._settings.client_id,be._settings.clockSkew,Pe).then(function(re){return re?re.sub!==se.sub?(b.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: sub in id_token does not match current sub"),Promise.reject(new Error("sub in id_token does not match current sub"))):re.auth_time&&re.auth_time!==se.auth_time?(b.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: auth_time in id_token does not match original auth_time"),Promise.reject(new Error("auth_time in id_token does not match original auth_time"))):re.azp&&re.azp!==se.azp?(b.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp in id_token does not match original azp"),Promise.reject(new Error("azp in id_token does not match original azp"))):!re.azp&&se.azp?(b.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: azp not in id_token, but present in original id_token"),Promise.reject(new Error("azp not in id_token, but present in original id_token"))):void 0:(b.Log.error("UserManager._validateIdTokenFromTokenRefreshToken: Failed to validate id_token"),Promise.reject(new Error("Failed to validate id_token")))})})})},de.prototype._signinSilentIframe=function(){var se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},te=se.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return te?(se.redirect_uri=te,se.prompt=se.prompt||"none",this._signin(se,this._iframeNavigator,{startUrl:te,silentRequestTimeout:se.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(be){return be&&(be.profile&&be.profile.sub?b.Log.info("UserManager.signinSilent: successful, signed in sub: ",be.profile.sub):b.Log.info("UserManager.signinSilent: no sub")),be})):(b.Log.error("UserManager.signinSilent: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},de.prototype.signinSilentCallback=function(se){return this._signinCallback(se,this._iframeNavigator).then(function(te){return te&&(te.profile&&te.profile.sub?b.Log.info("UserManager.signinSilentCallback: successful, signed in sub: ",te.profile.sub):b.Log.info("UserManager.signinSilentCallback: no sub")),te})},de.prototype.signinCallback=function(se){var te=this;return this.readSigninResponseState(se).then(function(be){var Ce=be.state;return"si:r"===Ce.request_type?te.signinRedirectCallback(se):"si:p"===Ce.request_type?te.signinPopupCallback(se):"si:s"===Ce.request_type?te.signinSilentCallback(se):Promise.reject(new Error("invalid response_type in state"))})},de.prototype.signoutCallback=function(se,te){var be=this;return this.readSignoutResponseState(se).then(function(Ce){var Pe=Ce.state,re=Ce.response;return Pe?"so:r"===Pe.request_type?be.signoutRedirectCallback(se):"so:p"===Pe.request_type?be.signoutPopupCallback(se,te):Promise.reject(new Error("invalid response_type in state")):re})},de.prototype.querySessionStatus=function(){var se=this,te=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(te=Object.assign({},te)).request_type="si:s";var be=te.redirect_uri||this.settings.silent_redirect_uri||this.settings.redirect_uri;return be?(te.redirect_uri=be,te.prompt="none",te.response_type=te.response_type||this.settings.query_status_response_type,te.scope=te.scope||"openid",te.skipUserInfo=!0,this._signinStart(te,this._iframeNavigator,{startUrl:be,silentRequestTimeout:te.silentRequestTimeout||this.settings.silentRequestTimeout}).then(function(Ce){return se.processSigninResponse(Ce.url).then(function(Pe){if(b.Log.debug("UserManager.querySessionStatus: got signin response"),Pe.session_state&&Pe.profile.sub)return b.Log.info("UserManager.querySessionStatus: querySessionStatus success for sub: ",Pe.profile.sub),{session_state:Pe.session_state,sub:Pe.profile.sub,sid:Pe.profile.sid};b.Log.info("querySessionStatus successful, user not authenticated")}).catch(function(Pe){if(Pe.session_state&&se.settings.monitorAnonymousSession&&("login_required"==Pe.message||"consent_required"==Pe.message||"interaction_required"==Pe.message||"account_selection_required"==Pe.message))return b.Log.info("UserManager.querySessionStatus: querySessionStatus success for anonymous user"),{session_state:Pe.session_state};throw Pe})})):(b.Log.error("UserManager.querySessionStatus: No silent_redirect_uri configured"),Promise.reject(new Error("No silent_redirect_uri configured")))},de.prototype._signin=function(se,te){var be=this;return this._signinStart(se,te,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(Pe){return be._signinEnd(Pe.url,se)})},de.prototype._signinStart=function(se,te){var be=this,Ce=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return te.prepare(Ce).then(function(Pe){return b.Log.debug("UserManager._signinStart: got navigator window handle"),be.createSigninRequest(se).then(function(re){return b.Log.debug("UserManager._signinStart: got signin request"),Ce.url=re.url,Ce.id=re.state.id,Pe.navigate(Ce)}).catch(function(re){throw Pe.close&&(b.Log.debug("UserManager._signinStart: Error after preparing navigator, closing navigator window"),Pe.close()),re})})},de.prototype._signinEnd=function(se){var te=this,be=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.processSigninResponse(se).then(function(Ce){b.Log.debug("UserManager._signinEnd: got signin response");var Pe=new w.User(Ce);if(be.current_sub){if(be.current_sub!==Pe.profile.sub)return b.Log.debug("UserManager._signinEnd: current user does not match user returned from signin. sub from signin: ",Pe.profile.sub),Promise.reject(new Error("login_required"));b.Log.debug("UserManager._signinEnd: current user matches user returned from signin")}return te.storeUser(Pe).then(function(){return b.Log.debug("UserManager._signinEnd: user stored"),te._events.load(Pe),Pe})})},de.prototype._signinCallback=function(se,te){b.Log.debug("UserManager._signinCallback");var be="query"===this._settings.response_mode||!this._settings.response_mode&&j.SigninRequest.isCode(this._settings.response_type)?"?":"#";return te.callback(se,void 0,be)},de.prototype.signoutRedirect=function(){var se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(se=Object.assign({},se)).request_type="so:r";var te=se.post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return te&&(se.post_logout_redirect_uri=te),this._signoutStart(se,this._redirectNavigator,{useReplaceToNavigate:se.useReplaceToNavigate}).then(function(){b.Log.info("UserManager.signoutRedirect: successful")})},de.prototype.signoutRedirectCallback=function(se){return this._signoutEnd(se||this._redirectNavigator.url).then(function(te){return b.Log.info("UserManager.signoutRedirectCallback: successful"),te})},de.prototype.signoutPopup=function(){var se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};(se=Object.assign({},se)).request_type="so:p";var te=se.post_logout_redirect_uri||this.settings.popup_post_logout_redirect_uri||this.settings.post_logout_redirect_uri;return se.post_logout_redirect_uri=te,se.display="popup",se.post_logout_redirect_uri&&(se.state=se.state||{}),this._signout(se,this._popupNavigator,{startUrl:te,popupWindowFeatures:se.popupWindowFeatures||this.settings.popupWindowFeatures,popupWindowTarget:se.popupWindowTarget||this.settings.popupWindowTarget}).then(function(){b.Log.info("UserManager.signoutPopup: successful")})},de.prototype.signoutPopupCallback=function(se,te){return void 0===te&&"boolean"==typeof se&&(te=se,se=null),this._popupNavigator.callback(se,te,"?").then(function(){b.Log.info("UserManager.signoutPopupCallback: successful")})},de.prototype._signout=function(se,te){var be=this;return this._signoutStart(se,te,arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).then(function(Pe){return be._signoutEnd(Pe.url)})},de.prototype._signoutStart=function(){var se=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},te=this,Ce=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return arguments[1].prepare(Ce).then(function(Pe){return b.Log.debug("UserManager._signoutStart: got navigator window handle"),te._loadUser().then(function(re){return b.Log.debug("UserManager._signoutStart: loaded current user from storage"),(te._settings.revokeAccessTokenOnSignout?te._revokeInternal(re):Promise.resolve()).then(function(){var Ue=se.id_token_hint||re&&re.id_token;return Ue&&(b.Log.debug("UserManager._signoutStart: Setting id_token into signout request"),se.id_token_hint=Ue),te.removeUser().then(function(){return b.Log.debug("UserManager._signoutStart: user removed, creating signout request"),te.createSignoutRequest(se).then(function(Tt){return b.Log.debug("UserManager._signoutStart: got signout request"),Ce.url=Tt.url,Tt.state&&(Ce.id=Tt.state.id),Pe.navigate(Ce)})})})}).catch(function(re){throw Pe.close&&(b.Log.debug("UserManager._signoutStart: Error after preparing navigator, closing navigator window"),Pe.close()),re})})},de.prototype._signoutEnd=function(se){return this.processSignoutResponse(se).then(function(te){return b.Log.debug("UserManager._signoutEnd: got signout response"),te})},de.prototype.revokeAccessToken=function(){var se=this;return this._loadUser().then(function(te){return se._revokeInternal(te,!0).then(function(be){if(be)return b.Log.debug("UserManager.revokeAccessToken: removing token properties from user and re-storing"),te.access_token=null,te.refresh_token=null,te.expires_at=null,te.token_type=null,se.storeUser(te).then(function(){b.Log.debug("UserManager.revokeAccessToken: user stored"),se._events.load(te)})})}).then(function(){b.Log.info("UserManager.revokeAccessToken: access token revoked successfully")})},de.prototype._revokeInternal=function(se,te){var be=this;if(se){var Pe=se.refresh_token;return this._revokeAccessTokenInternal(se.access_token,te).then(function(re){return be._revokeRefreshTokenInternal(Pe,te).then(function(Ue){return re||Ue||b.Log.debug("UserManager.revokeAccessToken: no need to revoke due to no token(s), or JWT format"),re||Ue})})}return Promise.resolve(!1)},de.prototype._revokeAccessTokenInternal=function(se,te){return!se||se.indexOf(".")>=0?Promise.resolve(!1):this._tokenRevocationClient.revoke(se,te).then(function(){return!0})},de.prototype._revokeRefreshTokenInternal=function(se,te){return se?this._tokenRevocationClient.revoke(se,te,"refresh_token").then(function(){return!0}):Promise.resolve(!1)},de.prototype.startSilentRenew=function(){this._silentRenewService.start()},de.prototype.stopSilentRenew=function(){this._silentRenewService.stop()},de.prototype._loadUser=function(){return this._userStore.get(this._userStoreKey).then(function(se){return se?(b.Log.debug("UserManager._loadUser: user storageString loaded"),w.User.fromStorageString(se)):(b.Log.debug("UserManager._loadUser: no user storageString"),null)})},de.prototype.storeUser=function(se){if(se){b.Log.debug("UserManager.storeUser: storing user");var te=se.toStorageString();return this._userStore.set(this._userStoreKey,te)}return b.Log.debug("storeUser.storeUser: removing user"),this._userStore.remove(this._userStoreKey)},G(de,[{key:"_redirectNavigator",get:function(){return this.settings.redirectNavigator}},{key:"_popupNavigator",get:function(){return this.settings.popupNavigator}},{key:"_iframeNavigator",get:function(){return this.settings.iframeNavigator}},{key:"_userStore",get:function(){return this.settings.userStore}},{key:"events",get:function(){return this._events}},{key:"_userStoreKey",get:function(){return"user:"+this.settings.authority+":"+this.settings.client_id}}]),de}(q.OidcClient)},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.UserManagerSettings=void 0;var G=function(){function ie($,H){for(var B=0;B<H.length;B++){var ee=H[B];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty($,ee.key,ee)}}return function($,H,B){return H&&ie($.prototype,H),B&&ie($,B),$}}(),b=(Q(0),Q(5)),q=Q(40),M=Q(41),w=Q(43),E=Q(6),y=Q(1),T=Q(8);k.UserManagerSettings=function(ie){function $(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},B=H.popup_redirect_uri,ee=H.popup_post_logout_redirect_uri,de=H.popupWindowFeatures,ne=H.popupWindowTarget,se=H.silent_redirect_uri,te=H.silentRequestTimeout,be=H.automaticSilentRenew,Ce=void 0!==be&&be,Pe=H.validateSubOnSilentRenew,re=void 0!==Pe&&Pe,Ue=H.includeIdTokenInSilentRenew,Tt=void 0===Ue||Ue,Dt=H.monitorSession,Sn=void 0===Dt||Dt,Pt=H.monitorAnonymousSession,tn=void 0!==Pt&&Pt,nn=H.checkSessionInterval,ot=void 0===nn?2e3:nn,qe=H.stopCheckSessionOnError,kt=void 0===qe||qe,kn=H.query_status_response_type,Pn=H.revokeAccessTokenOnSignout,Ln=void 0!==Pn&&Pn,Lt=H.accessTokenExpiringNotificationTime,Fr=void 0===Lt?60:Lt,At=H.redirectNavigator,fn=void 0===At?new q.RedirectNavigator:At,ht=H.popupNavigator,ct=void 0===ht?new M.PopupNavigator:ht,Z=H.iframeNavigator,_=void 0===Z?new w.IFrameNavigator:Z,S=H.userStore,Y=void 0===S?new E.WebStorageStateStore({store:y.Global.sessionStorage}):S;!function j(ie,$){if(!(ie instanceof $))throw new TypeError("Cannot call a class as a function")}(this,$);var oe=function V(ie,$){if(!ie)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$||"object"!=typeof $&&"function"!=typeof $?ie:$}(this,ie.call(this,arguments[0]));return oe._popup_redirect_uri=B,oe._popup_post_logout_redirect_uri=ee,oe._popupWindowFeatures=de,oe._popupWindowTarget=ne,oe._silent_redirect_uri=se,oe._silentRequestTimeout=te,oe._automaticSilentRenew=Ce,oe._validateSubOnSilentRenew=re,oe._includeIdTokenInSilentRenew=Tt,oe._accessTokenExpiringNotificationTime=Fr,oe._monitorSession=Sn,oe._monitorAnonymousSession=tn,oe._checkSessionInterval=ot,oe._stopCheckSessionOnError=kt,oe._query_status_response_type=kn||(arguments[0]&&arguments[0].response_type?T.SigninRequest.isOidc(arguments[0].response_type)?"id_token":"code":"id_token"),oe._revokeAccessTokenOnSignout=Ln,oe._redirectNavigator=fn,oe._popupNavigator=ct,oe._iframeNavigator=_,oe._userStore=Y,oe}return function(B,ee){if("function"!=typeof ee&&null!==ee)throw new TypeError("Super expression must either be null or a function, not "+typeof ee);B.prototype=Object.create(ee&&ee.prototype,{constructor:{value:B,enumerable:!1,writable:!0,configurable:!0}}),ee&&(Object.setPrototypeOf?Object.setPrototypeOf(B,ee):B.__proto__=ee)}($,ie),G($,[{key:"popup_redirect_uri",get:function(){return this._popup_redirect_uri}},{key:"popup_post_logout_redirect_uri",get:function(){return this._popup_post_logout_redirect_uri}},{key:"popupWindowFeatures",get:function(){return this._popupWindowFeatures}},{key:"popupWindowTarget",get:function(){return this._popupWindowTarget}},{key:"silent_redirect_uri",get:function(){return this._silent_redirect_uri}},{key:"silentRequestTimeout",get:function(){return this._silentRequestTimeout}},{key:"automaticSilentRenew",get:function(){return this._automaticSilentRenew}},{key:"validateSubOnSilentRenew",get:function(){return this._validateSubOnSilentRenew}},{key:"includeIdTokenInSilentRenew",get:function(){return this._includeIdTokenInSilentRenew}},{key:"accessTokenExpiringNotificationTime",get:function(){return this._accessTokenExpiringNotificationTime}},{key:"monitorSession",get:function(){return this._monitorSession}},{key:"monitorAnonymousSession",get:function(){return this._monitorAnonymousSession}},{key:"checkSessionInterval",get:function(){return this._checkSessionInterval}},{key:"stopCheckSessionOnError",get:function(){return this._stopCheckSessionOnError}},{key:"query_status_response_type",get:function(){return this._query_status_response_type}},{key:"revokeAccessTokenOnSignout",get:function(){return this._revokeAccessTokenOnSignout}},{key:"redirectNavigator",get:function(){return this._redirectNavigator}},{key:"popupNavigator",get:function(){return this._popupNavigator}},{key:"iframeNavigator",get:function(){return this._iframeNavigator}},{key:"userStore",get:function(){return this._userStore}}]),$}(b.OidcClientSettings)},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.RedirectNavigator=void 0;var G=function(){function q(M,w){for(var E=0;E<w.length;E++){var y=w[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(M,y.key,y)}}return function(M,w,E){return w&&q(M.prototype,w),E&&q(M,E),M}}(),b=Q(0);k.RedirectNavigator=function(){function q(){!function(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}(this,q)}return q.prototype.prepare=function(){return Promise.resolve(this)},q.prototype.navigate=function(w){return w&&w.url?(w.useReplaceToNavigate?window.location.replace(w.url):window.location=w.url,Promise.resolve()):(b.Log.error("RedirectNavigator.navigate: No url provided"),Promise.reject(new Error("No url provided")))},G(q,[{key:"url",get:function(){return window.location.href}}]),q}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.PopupNavigator=void 0;var G=Q(0),b=Q(42);k.PopupNavigator=function(){function q(){!function(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}(this,q)}return q.prototype.prepare=function(w){var E=new b.PopupWindow(w);return Promise.resolve(E)},q.prototype.callback=function(w,E,y){G.Log.debug("PopupNavigator.callback");try{return b.PopupWindow.notifyOpener(w,E,y),Promise.resolve()}catch(T){return Promise.reject(T)}},q}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.PopupWindow=void 0;var G=function(){function M(w,E){for(var y=0;y<E.length;y++){var T=E[y];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,E,y){return E&&M(w.prototype,E),y&&M(w,y),w}}(),b=Q(0),q=Q(3);k.PopupWindow=function(){function M(w){var E=this;(function(V,ie){if(!(V instanceof ie))throw new TypeError("Cannot call a class as a function")})(this,M),this._promise=new Promise(function(j,V){E._resolve=j,E._reject=V}),this._popup=window.open("",w.popupWindowTarget||"_blank",w.popupWindowFeatures||"location=no,toolbar=no,width=500,height=500,left=100,top=100;"),this._popup&&(b.Log.debug("PopupWindow.ctor: popup successfully created"),this._checkForPopupClosedTimer=window.setInterval(this._checkForPopupClosed.bind(this),500))}return M.prototype.navigate=function(E){return this._popup?E&&E.url?(b.Log.debug("PopupWindow.navigate: Setting URL in popup"),this._id=E.id,this._id&&(window["popupCallback_"+E.id]=this._callback.bind(this)),this._popup.focus(),this._popup.window.location=E.url):(this._error("PopupWindow.navigate: no url provided"),this._error("No url provided")):this._error("PopupWindow.navigate: Error opening popup window"),this.promise},M.prototype._success=function(E){b.Log.debug("PopupWindow.callback: Successful response from popup window"),this._cleanup(),this._resolve(E)},M.prototype._error=function(E){b.Log.error("PopupWindow.error: ",E),this._cleanup(),this._reject(new Error(E))},M.prototype.close=function(){this._cleanup(!1)},M.prototype._cleanup=function(E){b.Log.debug("PopupWindow.cleanup"),window.clearInterval(this._checkForPopupClosedTimer),this._checkForPopupClosedTimer=null,delete window["popupCallback_"+this._id],this._popup&&!E&&this._popup.close(),this._popup=null},M.prototype._checkForPopupClosed=function(){this._popup&&!this._popup.closed||this._error("Popup window closed")},M.prototype._callback=function(E,y){this._cleanup(y),E?(b.Log.debug("PopupWindow.callback success"),this._success({url:E})):(b.Log.debug("PopupWindow.callback: Invalid response from popup"),this._error("Invalid response from popup"))},M.notifyOpener=function(E,y,T){if(window.opener){if(E=E||window.location.href){var j=q.UrlUtility.parseUrlFragment(E,T);if(j.state){var ie=window.opener["popupCallback_"+j.state];ie?(b.Log.debug("PopupWindow.notifyOpener: passing url message to opener"),ie(E,y)):b.Log.warn("PopupWindow.notifyOpener: no matching callback found on opener")}else b.Log.warn("PopupWindow.notifyOpener: no state found in response url")}}else b.Log.warn("PopupWindow.notifyOpener: no window.opener. Can't complete notification.")},G(M,[{key:"promise",get:function(){return this._promise}}]),M}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.IFrameNavigator=void 0;var G=Q(0),b=Q(44);k.IFrameNavigator=function(){function q(){!function(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")}(this,q)}return q.prototype.prepare=function(w){var E=new b.IFrameWindow(w);return Promise.resolve(E)},q.prototype.callback=function(w){G.Log.debug("IFrameNavigator.callback");try{return b.IFrameWindow.notifyParent(w),Promise.resolve()}catch(E){return Promise.reject(E)}},q}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.IFrameWindow=void 0;var G=function(){function q(M,w){for(var E=0;E<w.length;E++){var y=w[E];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(M,y.key,y)}}return function(M,w,E){return w&&q(M.prototype,w),E&&q(M,E),M}}(),b=Q(0);k.IFrameWindow=function(){function q(M){var w=this;(function(y,T){if(!(y instanceof T))throw new TypeError("Cannot call a class as a function")})(this,q),this._promise=new Promise(function(E,y){w._resolve=E,w._reject=y}),this._boundMessageEvent=this._message.bind(this),window.addEventListener("message",this._boundMessageEvent,!1),this._frame=window.document.createElement("iframe"),this._frame.style.visibility="hidden",this._frame.style.position="absolute",this._frame.width=0,this._frame.height=0,window.document.body.appendChild(this._frame)}return q.prototype.navigate=function(w){if(w&&w.url){var E=w.silentRequestTimeout||1e4;b.Log.debug("IFrameWindow.navigate: Using timeout of:",E),this._timer=window.setTimeout(this._timeout.bind(this),E),this._frame.src=w.url}else this._error("No url provided");return this.promise},q.prototype._success=function(w){this._cleanup(),b.Log.debug("IFrameWindow: Successful response from frame window"),this._resolve(w)},q.prototype._error=function(w){this._cleanup(),b.Log.error(w),this._reject(new Error(w))},q.prototype.close=function(){this._cleanup()},q.prototype._cleanup=function(){this._frame&&(b.Log.debug("IFrameWindow: cleanup"),window.removeEventListener("message",this._boundMessageEvent,!1),window.clearTimeout(this._timer),window.document.body.removeChild(this._frame),this._timer=null,this._frame=null,this._boundMessageEvent=null)},q.prototype._timeout=function(){b.Log.debug("IFrameWindow.timeout"),this._error("Frame window timed out")},q.prototype._message=function(w){if(b.Log.debug("IFrameWindow.message"),this._timer&&w.origin===this._origin&&w.source===this._frame.contentWindow&&"string"==typeof w.data&&(w.data.startsWith("http://")||w.data.startsWith("https://"))){var E=w.data;E?this._success({url:E}):this._error("Invalid response from frame")}},q.notifyParent=function(w){b.Log.debug("IFrameWindow.notifyParent"),(w=w||window.location.href)&&(b.Log.debug("IFrameWindow.notifyParent: posting url message to parent"),window.parent.postMessage(w,location.protocol+"//"+location.host))},G(q,[{key:"promise",get:function(){return this._promise}},{key:"_origin",get:function(){return location.protocol+"//"+location.host}}]),q}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.UserManagerEvents=void 0;var G=Q(0),b=Q(16),q=Q(17);k.UserManagerEvents=function(M){function w(E){!function(j,V){if(!(j instanceof V))throw new TypeError("Cannot call a class as a function")}(this,w);var y=function(j,V){if(!j)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||"object"!=typeof V&&"function"!=typeof V?j:V}(this,M.call(this,E));return y._userLoaded=new q.Event("User loaded"),y._userUnloaded=new q.Event("User unloaded"),y._silentRenewError=new q.Event("Silent renew error"),y._userSignedIn=new q.Event("User signed in"),y._userSignedOut=new q.Event("User signed out"),y._userSessionChanged=new q.Event("User session changed"),y}return function(y,T){if("function"!=typeof T&&null!==T)throw new TypeError("Super expression must either be null or a function, not "+typeof T);y.prototype=Object.create(T&&T.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(y,T):y.__proto__=T)}(w,M),w.prototype.load=function(y){var T=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];G.Log.debug("UserManagerEvents.load"),M.prototype.load.call(this,y),T&&this._userLoaded.raise(y)},w.prototype.unload=function(){G.Log.debug("UserManagerEvents.unload"),M.prototype.unload.call(this),this._userUnloaded.raise()},w.prototype.addUserLoaded=function(y){this._userLoaded.addHandler(y)},w.prototype.removeUserLoaded=function(y){this._userLoaded.removeHandler(y)},w.prototype.addUserUnloaded=function(y){this._userUnloaded.addHandler(y)},w.prototype.removeUserUnloaded=function(y){this._userUnloaded.removeHandler(y)},w.prototype.addSilentRenewError=function(y){this._silentRenewError.addHandler(y)},w.prototype.removeSilentRenewError=function(y){this._silentRenewError.removeHandler(y)},w.prototype._raiseSilentRenewError=function(y){G.Log.debug("UserManagerEvents._raiseSilentRenewError",y.message),this._silentRenewError.raise(y)},w.prototype.addUserSignedIn=function(y){this._userSignedIn.addHandler(y)},w.prototype.removeUserSignedIn=function(y){this._userSignedIn.removeHandler(y)},w.prototype._raiseUserSignedIn=function(){G.Log.debug("UserManagerEvents._raiseUserSignedIn"),this._userSignedIn.raise()},w.prototype.addUserSignedOut=function(y){this._userSignedOut.addHandler(y)},w.prototype.removeUserSignedOut=function(y){this._userSignedOut.removeHandler(y)},w.prototype._raiseUserSignedOut=function(){G.Log.debug("UserManagerEvents._raiseUserSignedOut"),this._userSignedOut.raise()},w.prototype.addUserSessionChanged=function(y){this._userSessionChanged.addHandler(y)},w.prototype.removeUserSessionChanged=function(y){this._userSessionChanged.removeHandler(y)},w.prototype._raiseUserSessionChanged=function(){G.Log.debug("UserManagerEvents._raiseUserSessionChanged"),this._userSessionChanged.raise()},w}(b.AccessTokenEvents)},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.Timer=void 0;var G=function(){function y(T,j){for(var V=0;V<j.length;V++){var ie=j[V];ie.enumerable=ie.enumerable||!1,ie.configurable=!0,"value"in ie&&(ie.writable=!0),Object.defineProperty(T,ie.key,ie)}}return function(T,j,V){return j&&y(T.prototype,j),V&&y(T,V),T}}(),b=Q(0),q=Q(1),M=Q(17);k.Timer=function(y){function T(j){var V=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q.Global.timer,ie=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;!function w(y,T){if(!(y instanceof T))throw new TypeError("Cannot call a class as a function")}(this,T);var $=function E(y,T){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||"object"!=typeof T&&"function"!=typeof T?y:T}(this,y.call(this,j));return $._timer=V,$._nowFunc=ie||function(){return Date.now()/1e3},$}return function(V,ie){if("function"!=typeof ie&&null!==ie)throw new TypeError("Super expression must either be null or a function, not "+typeof ie);V.prototype=Object.create(ie&&ie.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),ie&&(Object.setPrototypeOf?Object.setPrototypeOf(V,ie):V.__proto__=ie)}(T,y),T.prototype.init=function(V){V<=0&&(V=1),V=parseInt(V);var ie=this.now+V;if(this.expiration===ie&&this._timerHandle)b.Log.debug("Timer.init timer "+this._name+" skipping initialization since already initialized for expiration:",this.expiration);else{this.cancel(),b.Log.debug("Timer.init timer "+this._name+" for duration:",V),this._expiration=ie;var $=5;V<$&&($=V),this._timerHandle=this._timer.setInterval(this._callback.bind(this),1e3*$)}},T.prototype.cancel=function(){this._timerHandle&&(b.Log.debug("Timer.cancel: ",this._name),this._timer.clearInterval(this._timerHandle),this._timerHandle=null)},T.prototype._callback=function(){b.Log.debug("Timer.callback; "+this._name+" timer expires in:",this._expiration-this.now),this._expiration<=this.now&&(this.cancel(),y.prototype.raise.call(this))},G(T,[{key:"now",get:function(){return parseInt(this._nowFunc())}},{key:"expiration",get:function(){return this._expiration}}]),T}(M.Event)},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.SilentRenewService=void 0;var G=Q(0);k.SilentRenewService=function(){function b(q){(function(w,E){if(!(w instanceof E))throw new TypeError("Cannot call a class as a function")})(this,b),this._userManager=q}return b.prototype.start=function(){this._callback||(this._callback=this._tokenExpiring.bind(this),this._userManager.events.addAccessTokenExpiring(this._callback),this._userManager.getUser().then(function(M){}).catch(function(M){G.Log.error("SilentRenewService.start: Error from getUser:",M.message)}))},b.prototype.stop=function(){this._callback&&(this._userManager.events.removeAccessTokenExpiring(this._callback),delete this._callback)},b.prototype._tokenExpiring=function(){var M=this;this._userManager.signinSilent().then(function(w){G.Log.debug("SilentRenewService._tokenExpiring: Silent token renewal successful")},function(w){G.Log.error("SilentRenewService._tokenExpiring: Error from signinSilent:",w.message),M._userManager.events._raiseSilentRenewError(w)})},b}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.CordovaPopupNavigator=void 0;var G=Q(21);k.CordovaPopupNavigator=function(){function b(){!function(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")}(this,b)}return b.prototype.prepare=function(M){var w=new G.CordovaPopupWindow(M);return Promise.resolve(w)},b}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.CordovaIFrameNavigator=void 0;var G=Q(21);k.CordovaIFrameNavigator=function(){function b(){!function(M,w){if(!(M instanceof w))throw new TypeError("Cannot call a class as a function")}(this,b)}return b.prototype.prepare=function(M){M.popupWindowFeatures="hidden=yes";var w=new G.CordovaPopupWindow(M);return Promise.resolve(w)},b}()},function(He,k,Q){"use strict";Object.defineProperty(k,"__esModule",{value:!0}),k.Version="1.11.5"}])}},Sa=>{Sa(Sa.s=159)}]);